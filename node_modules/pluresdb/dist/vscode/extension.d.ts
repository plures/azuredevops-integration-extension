import { PluresNode, SQLiteCompatibleAPI } from "../node-index";
import type { PluresDBConfig } from "../types/node-types";
type DisposableLike = {
    dispose(): void;
};
type InputBoxOptions = {
    prompt: string;
    placeHolder?: string;
};
type TextDocumentInit = {
    content: string;
    language: string;
};
type UriLike = {
    toString(): string;
} | string;
export type VSCodeWindow = {
    showInformationMessage(message: string): void | Promise<unknown>;
    showErrorMessage(message: string): void | Promise<unknown>;
    showInputBox(options: InputBoxOptions): Promise<string | undefined>;
    showTextDocument(document: unknown): Promise<unknown>;
};
export type VSCodeCommands = {
    registerCommand(command: string, callback: (...args: unknown[]) => unknown): DisposableLike;
};
export type VSCodeWorkspace = {
    openTextDocument(init: TextDocumentInit): Promise<unknown>;
};
export type VSCodeEnv = {
    openExternal(target: UriLike): Promise<unknown> | unknown;
};
export type VSCodeUri = {
    parse(target: string): UriLike;
};
export type VSCodeAPI = {
    window: VSCodeWindow;
    commands: VSCodeCommands;
    workspace: VSCodeWorkspace;
    env: VSCodeEnv;
    Uri: VSCodeUri;
};
export type ExtensionContextLike = {
    subscriptions: DisposableLike[];
    globalStorageUri: {
        fsPath: string;
    };
};
export type ExtensionOptions = {
    config?: PluresDBConfig;
    commandPrefix?: string;
    pluresInstance?: PluresNode;
    sqliteInstance?: SQLiteCompatibleAPI;
};
export declare class PluresVSCodeExtension {
    private readonly vscode;
    private readonly context;
    private readonly plures;
    private readonly sqlite;
    private readonly commandPrefix;
    private readonly disposables;
    private activated;
    constructor(vscodeApi: VSCodeAPI, context: ExtensionContextLike, options?: ExtensionOptions);
    activate(): Promise<void>;
    deactivate(): Promise<void>;
    getWebUrl(): string;
    storeSetting(key: string, value: unknown): Promise<void>;
    getSetting(key: string): Promise<any>;
    storeDocument(id: string, content: string, language: string, filePath: string): Promise<void>;
    searchDocuments(query: string, limit?: number): Promise<any[]>;
    executeSQL(sql: string, params?: unknown[]): Promise<any>;
    private setupEventHandlers;
    private registerCommands;
    private setupDatabase;
    private disposeAll;
    private safeInfo;
    private safeError;
    private errorMessage;
}
export declare function createPluresExtension(vscodeApi: VSCodeAPI, context: ExtensionContextLike, options?: ExtensionOptions): PluresVSCodeExtension;
export {};
//# sourceMappingURL=extension.d.ts.map