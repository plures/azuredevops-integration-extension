{
  "version": 3,
  "sources": ["ConnectionTabs.svelte", "Dropdown.svelte", "ErrorBanner.svelte", "EmptyState.svelte", "WorkItemList.svelte", "KanbanBoard.svelte", "ConnectionStatus.svelte", "StatusBar.svelte", "ConnectionView.svelte", "ConnectionViews.svelte", "AuthReminder.svelte", "WebviewHeader.svelte", "Notification.svelte", "ComposeCommentDialog.svelte", "HistoryControls.svelte", "HistoryTimeline.svelte", "PerformanceDashboard.svelte", "App.svelte"],
  "sourcesContent": ["<!--\nModule: src/webview/components/ConnectionTabs.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: fsmEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  /**\n   * ConnectionTabs.svelte\n   * Progressive enhancement component: currently uses classic Svelte reactivity.\n   * When upgrading to Svelte 5, replace internal reactive state with:\n   *   const $props = { connections, activeConnectionId };\n   *   const $state = { selected: $props.activeConnectionId };\n   *   const $derived = { ordered: () => $props.connections?.slice().sort(...) };\n   *   $effect(() => { if ($state.selected && $state.selected !== $props.activeConnectionId) ... });\n   */\n  export let connections: Array<{ id: string; label?: string }> = [];\n  export let activeConnectionId: string | undefined;\n  const vscode = (window as any).__vscodeApi;\n\n  // Classic Svelte reactive declarations\n  let ordered = [] as typeof connections;\n  $: ordered = (connections || [])\n    .slice()\n    .sort((a, b) => (a.label || a.id).localeCompare(b.label || b.id));\n\n  // Track selected index for keyboard navigation\n  $: selectedIndex = ordered.findIndex((c) => c.id === activeConnectionId);\n  let tabRefs: HTMLButtonElement[] = [];\n\n  // Svelte action to capture element refs (bind:this requires identifier)\n  function tabRef(node: HTMLButtonElement, i: number) {\n    tabRefs[i] = node;\n    return {\n      update(newIndex: number) {\n        tabRefs[newIndex] = node;\n      },\n      destroy() {\n        tabRefs[i] = undefined as any;\n      },\n    };\n  }\n\n  import { createSelectConnection, webviewOwner } from  '../selection.writer.internal.js';\n\n  function select(id: string) {\n    if (!vscode) return;\n    const evt = createSelectConnection(webviewOwner, id);\n    vscode.postMessage({ type: 'fsmEvent', event: evt });\n  }\n\n  function focusIndex(i: number) {\n    const target = tabRefs[i];\n    if (target) {\n      // Delay focus to allow Svelte selection re-render\n      setTimeout(() => target.focus(), 0);\n    }\n  }\n\n  function handleKeydown(e: KeyboardEvent) {\n    if (!ordered.length) return;\n    const key = e.key;\n    let nextIndex = selectedIndex < 0 ? 0 : selectedIndex;\n    const last = ordered.length - 1;\n    if (key === 'ArrowRight' || key === 'ArrowDown') {\n      nextIndex = (selectedIndex + 1) % ordered.length;\n    } else if (key === 'ArrowLeft' || key === 'ArrowUp') {\n      nextIndex = (selectedIndex - 1 + ordered.length) % ordered.length;\n    } else if (key === 'Home') {\n      nextIndex = 0;\n    } else if (key === 'End') {\n      nextIndex = last;\n    } else {\n      return; // Unhandled key\n    }\n    e.preventDefault();\n    const target = ordered[nextIndex];\n    if (target) {\n      select(target.id);\n      focusIndex(nextIndex);\n    }\n  }\n</script>\n\n<div\n  class=\"connection-tabs tab-bar\"\n  role=\"tablist\"\n  aria-label=\"Project Connections\"\n  aria-orientation=\"horizontal\"\n  tabindex=\"0\"\n  onkeydown={handleKeydown}\n>\n  {#each ordered as c, i}\n    <button\n      role=\"tab\"\n      aria-selected={c.id === activeConnectionId}\n      tabindex={c.id === activeConnectionId ? 0 : -1}\n      class={c.id === activeConnectionId ? 'connection-tab tab active' : 'connection-tab tab'}\n      onclick={() => select(c.id)}\n      use:tabRef={i}\n    >\n      {c.label || c.id}\n    </button>\n  {/each}\n</div>\n\n<style>\n  .tab-bar {\n    display: flex;\n    gap: 0.25rem;\n    align-items: flex-end;\n    padding: 0 0.25rem;\n    background: var(--vscode-editorWidget-background);\n    border-bottom: 1px solid var(--vscode-editorWidget-border, var(--vscode-input-border));\n  }\n  .tab,\n  .connection-tab {\n    position: relative;\n    background: transparent;\n    color: var(--vscode-tab-inactiveForeground, var(--vscode-foreground));\n    border: none;\n    padding: 0.45rem 0.75rem 0.35rem;\n    font-size: 0.75rem;\n    line-height: 1;\n    cursor: pointer;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    display: inline-flex;\n    align-items: center;\n    transition:\n      color 0.15s ease,\n      background 0.15s ease;\n  }\n  .tab:hover,\n  .connection-tab:hover {\n    color: var(--vscode-tab-hoverForeground, var(--vscode-foreground));\n    background: var(--vscode-tab-hoverBackground, rgba(255, 255, 255, 0.05));\n  }\n  .tab.active,\n  .connection-tab.active {\n    background: var(--vscode-tab-activeBackground, var(--vscode-editor-background));\n    color: var(--vscode-tab-activeForeground, var(--vscode-foreground));\n  }\n  .tab.active::after,\n  .connection-tab.active::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 2px;\n    background: var(--vscode-focusBorder);\n    border-radius: 1px;\n  }\n  .tab:focus,\n  .connection-tab:focus {\n    outline: 1px solid var(--vscode-focusBorder);\n    outline-offset: -1px;\n  }\n  /* Provide subtle separators between non-active tabs */\n  .tab:not(.active)::before,\n  .connection-tab:not(.active)::before {\n    content: '';\n    position: absolute;\n    right: 0;\n    top: 25%;\n    bottom: 25%;\n    width: 1px;\n    background: var(--vscode-editorWidget-border, var(--vscode-input-border));\n  }\n  .tab:last-child::before,\n  .connection-tab:last-child::before {\n    display: none;\n  }\n</style>\n", "<!--\nModule: src/webview/components/Dropdown.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: fsmEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  interface Props {\n    value: string;\n    options: Array<{ value: string; label: string }>;\n    onChange: (value: string) => void;\n    placeholder?: string;\n    class?: string;\n  }\n\n  const { value, options, onChange, placeholder, class: className = '' }: Props = $props();\n\n  let isOpen = $state(false);\n  let dropdownRef: HTMLDivElement | null = $state(null);\n  let buttonRef: HTMLButtonElement | null = $state(null);\n\n  const selectedOption = $derived(\n    options.find((opt) => opt.value === value) || options[0] || { value: '', label: placeholder || 'Select...' }\n  );\n\n  function toggle() {\n    isOpen = !isOpen;\n  }\n\n  function select(optionValue: string) {\n    onChange(optionValue);\n    isOpen = false;\n  }\n\n  function handleClickOutside(event: MouseEvent) {\n    if (dropdownRef && !dropdownRef.contains(event.target as Node)) {\n      isOpen = false;\n    }\n  }\n\n  function handleKeydown(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      isOpen = false;\n      buttonRef?.focus();\n    } else if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\n      event.preventDefault();\n      const currentIndex = options.findIndex((opt) => opt.value === value);\n      let nextIndex = currentIndex;\n      \n      if (event.key === 'ArrowDown') {\n        nextIndex = currentIndex < options.length - 1 ? currentIndex + 1 : 0;\n      } else {\n        nextIndex = currentIndex > 0 ? currentIndex - 1 : options.length - 1;\n      }\n      \n      if (nextIndex >= 0 && nextIndex < options.length) {\n        select(options[nextIndex].value);\n      }\n    } else if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n      toggle();\n    }\n  }\n\n  $effect(() => {\n    if (isOpen) {\n      document.addEventListener('click', handleClickOutside);\n      return () => {\n        document.removeEventListener('click', handleClickOutside);\n      };\n    }\n  });\n</script>\n\n<div class=\"custom-dropdown {className}\" bind:this={dropdownRef} data-custom-dropdown=\"true\">\n  <button\n    type=\"button\"\n    class=\"dropdown-button\"\n    bind:this={buttonRef}\n    onclick={toggle}\n    onkeydown={handleKeydown}\n    aria-expanded={isOpen}\n    aria-haspopup=\"listbox\"\n  >\n    <span class=\"dropdown-label\">{selectedOption.label}</span>\n    <span class=\"dropdown-arrow\" class:open={isOpen}>‚ñº</span>\n  </button>\n  {#if isOpen}\n    <div class=\"dropdown-menu\" role=\"listbox\">\n      {#each options as option (option.value)}\n        <button\n          type=\"button\"\n          class=\"dropdown-option\"\n          class:selected={option.value === value}\n          onclick={() => select(option.value)}\n          role=\"option\"\n          aria-selected={option.value === value}\n        >\n          {option.label}\n        </button>\n      {/each}\n    </div>\n  {/if}\n</div>\n\n<style>\n  .custom-dropdown {\n    position: relative;\n    display: inline-block;\n  }\n\n  .dropdown-button {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    padding: 0.4rem 0.6rem;\n    background: var(--vscode-input-background) !important;\n    color: var(--vscode-input-foreground) !important;\n    border: 1px solid var(--vscode-input-border) !important;\n    border-radius: 3px;\n    font-size: 0.85rem;\n    font-family: var(--vscode-font-family);\n    cursor: pointer;\n    transition: border-color 0.15s ease;\n  }\n\n  .dropdown-button:hover {\n    border-color: var(--vscode-inputOption-hoverBorder, var(--vscode-focusBorder));\n  }\n\n  .dropdown-button:focus {\n    outline: none;\n    border-color: var(--vscode-focusBorder);\n  }\n\n  .dropdown-label {\n    flex: 1;\n    text-align: left;\n  }\n\n  .dropdown-arrow {\n    margin-left: 0.5rem;\n    font-size: 0.7rem;\n    transition: transform 0.15s ease;\n    color: var(--vscode-descriptionForeground);\n  }\n\n  .dropdown-arrow.open {\n    transform: rotate(180deg);\n  }\n\n  .dropdown-menu {\n    position: absolute;\n    top: 100%;\n    left: 0;\n    right: 0;\n    z-index: 1000;\n    margin-top: 0.25rem;\n    background: var(--vscode-dropdown-background, var(--vscode-input-background)) !important;\n    border: 1px solid var(--vscode-dropdown-border, var(--vscode-input-border)) !important;\n    border-radius: 3px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n    max-height: 200px;\n    overflow-y: auto;\n    min-width: 100%;\n  }\n\n  .dropdown-option {\n    display: block;\n    width: 100%;\n    padding: 0.5rem 0.75rem;\n    background: var(--vscode-dropdown-background, var(--vscode-input-background)) !important;\n    color: var(--vscode-dropdown-foreground, var(--vscode-input-foreground)) !important;\n    border: none;\n    text-align: left;\n    font-size: 0.85rem;\n    font-family: var(--vscode-font-family);\n    cursor: pointer;\n    transition: background-color 0.1s ease;\n  }\n\n  .dropdown-option:hover {\n    background: var(--vscode-list-hoverBackground) !important;\n    color: var(--vscode-list-hoverForeground) !important;\n  }\n\n  .dropdown-option.selected {\n    background: var(--vscode-list-activeSelectionBackground) !important;\n    color: var(--vscode-list-activeSelectionForeground) !important;\n  }\n\n  .dropdown-option:focus {\n    outline: none;\n    background: var(--vscode-list-focusBackground, var(--vscode-list-hoverBackground));\n    color: var(--vscode-list-focusForeground, var(--vscode-list-hoverForeground));\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/ErrorBanner.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: fsmEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  interface Props {\n    error: {\n      message: string;\n      type: 'authentication' | 'network' | 'authorization' | 'server';\n      recoverable: boolean;\n      suggestedAction?: string;\n    };\n    onRetry?: () => void;\n    onFixAuth?: () => void;\n    onDismiss?: () => void;\n  }\n\n  const { error, onRetry, onFixAuth, onDismiss }: Props = $props();\n\n  function handleAction() {\n    if (error.type === 'authentication' && onFixAuth) {\n      onFixAuth();\n    } else if (onRetry) {\n      onRetry();\n    }\n  }\n\n  function getActionLabel(): string {\n    if (error.suggestedAction) {\n      return error.suggestedAction;\n    }\n    if (error.type === 'authentication') {\n      return 'Fix Authentication';\n    }\n    return 'Retry';\n  }\n</script>\n\n{#if error}\n  <div class=\"error-banner\" role=\"alert\">\n    <div class=\"error-content\">\n      <span class=\"error-icon\">‚ö†Ô∏è</span>\n      <div class=\"error-message\">\n        <strong>{error.message}</strong>\n        {#if error.type === 'authentication'}\n          <span class=\"error-hint\">Please update your credentials to continue.</span>\n        {:else if error.type === 'network'}\n          <span class=\"error-hint\">Check your internet connection and try again.</span>\n        {/if}\n      </div>\n    </div>\n    <div class=\"error-actions\">\n      {#if error.recoverable}\n        <button class=\"action-button primary\" onclick={handleAction}>\n          {getActionLabel()}\n        </button>\n      {/if}\n      {#if onDismiss}\n        <button class=\"action-button secondary\" onclick={onDismiss} title=\"Dismiss\">\n          ‚úï\n        </button>\n      {/if}\n    </div>\n  </div>\n{/if}\n\n<style>\n  .error-banner {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 1rem;\n    padding: 0.75rem 1rem;\n    background: var(--vscode-inputValidation-errorBackground);\n    border: 1px solid var(--vscode-inputValidation-errorBorder);\n    color: var(--vscode-errorForeground);\n    border-radius: 4px;\n    margin-bottom: 1rem;\n  }\n\n  .error-content {\n    display: flex;\n    align-items: flex-start;\n    gap: 0.75rem;\n    flex: 1;\n  }\n\n  .error-icon {\n    font-size: 1.25rem;\n    flex-shrink: 0;\n  }\n\n  .error-message {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n    flex: 1;\n  }\n\n  .error-message strong {\n    font-weight: 600;\n  }\n\n  .error-hint {\n    font-size: 0.875rem;\n    opacity: 0.9;\n  }\n\n  .error-actions {\n    display: flex;\n    gap: 0.5rem;\n    align-items: center;\n    flex-shrink: 0;\n  }\n\n  .action-button {\n    padding: 0.375rem 0.75rem;\n    border: 1px solid transparent;\n    border-radius: 3px;\n    font-size: 0.875rem;\n    cursor: pointer;\n    transition: background-color 0.2s;\n  }\n\n  .action-button.primary {\n    background: var(--vscode-button-background);\n    color: var(--vscode-button-foreground);\n  }\n\n  .action-button.primary:hover {\n    background: var(--vscode-button-hoverBackground);\n  }\n\n  .action-button.secondary {\n    background: transparent;\n    color: var(--vscode-foreground);\n    border-color: var(--vscode-input-border);\n    padding: 0.25rem 0.5rem;\n    min-width: 1.5rem;\n  }\n\n  .action-button.secondary:hover {\n    background: var(--vscode-list-hoverBackground);\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/EmptyState.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: fsmEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  interface Props {\n    hasError: boolean;\n    error?: {\n      message: string;\n      type: 'authentication' | 'network' | 'authorization' | 'server';\n      recoverable: boolean;\n      suggestedAction?: string;\n    };\n    onRetry?: () => void;\n    onFixAuth?: () => void;\n  }\n\n  const { hasError, error, onRetry, onFixAuth }: Props = $props();\n\n  function handleAction() {\n    if (error?.type === 'authentication' && onFixAuth) {\n      onFixAuth();\n    } else if (onRetry) {\n      onRetry();\n    }\n  }\n\n  function getActionLabel(): string {\n    if (error?.suggestedAction) {\n      return error.suggestedAction;\n    }\n    if (error?.type === 'authentication') {\n      return 'Re-authenticate';\n    }\n    return 'Retry';\n  }\n</script>\n\n<div class=\"empty-state\">\n  {#if hasError && error}\n    <div class=\"empty-state-content error\">\n      <div class=\"empty-state-icon\">‚ö†Ô∏è</div>\n      <h3 class=\"empty-state-title\">Unable to load work items</h3>\n      <p class=\"empty-state-message\">{error.message}</p>\n      {#if error.recoverable}\n        <button class=\"empty-state-action\" onclick={handleAction}>\n          {getActionLabel()}\n        </button>\n      {/if}\n    </div>\n  {:else}\n    <div class=\"empty-state-content\">\n      <div class=\"empty-state-icon\">üìã</div>\n      <h3 class=\"empty-state-title\">No work items</h3>\n      <p class=\"empty-state-message\">Select a query or connection to view work items.</p>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .empty-state {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-height: 300px;\n    padding: 2rem;\n  }\n\n  .empty-state-content {\n    text-align: center;\n    max-width: 400px;\n  }\n\n  .empty-state-content.error {\n    color: var(--vscode-errorForeground);\n  }\n\n  .empty-state-icon {\n    font-size: 3rem;\n    margin-bottom: 1rem;\n    opacity: 0.6;\n  }\n\n  .empty-state-title {\n    font-size: 1.25rem;\n    font-weight: 600;\n    margin: 0 0 0.5rem 0;\n    color: var(--vscode-foreground);\n  }\n\n  .empty-state-message {\n    font-size: 0.875rem;\n    color: var(--vscode-descriptionForeground);\n    margin: 0 0 1.5rem 0;\n    line-height: 1.5;\n  }\n\n  .empty-state-action {\n    padding: 0.5rem 1rem;\n    background: var(--vscode-button-background);\n    color: var(--vscode-button-foreground);\n    border: none;\n    border-radius: 3px;\n    font-size: 0.875rem;\n    cursor: pointer;\n    transition: background-color 0.2s;\n  }\n\n  .empty-state-action:hover {\n    background: var(--vscode-button-hoverBackground);\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/WorkItemList.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: appEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  import Dropdown from './Dropdown.svelte';\n  import ErrorBanner from './ErrorBanner.svelte';\n  import EmptyState from './EmptyState.svelte';\n\n  interface Props {\n    context: any;\n    sendEvent: (event: any) => void;\n    matches?: Record<string, boolean>;\n    query?: string;\n    onQueryChange?: (query: string) => void;\n  }\n\n  const { context, sendEvent, query: propQuery, onQueryChange }: Props = $props();\n\n  // NOTE: Loading state is managed centrally by the FSM through ui.loading.workItems\n  // The FSM sets this when entering loadingData state (query changes, refresh, etc.)\n\n  const activeConnectionId = $derived(context?.activeConnectionId);\n  \n  // Query selector\n  const predefinedQueries = [\n    'My Activity',\n    'Assigned to me',\n    'Recently Updated',\n    'Created By Me',\n    'All Active',\n    'All Work Items', // Includes closed/completed items\n  ];\n  const currentQuery = $derived(propQuery || context?.activeQuery || predefinedQueries[0]);\n  \n  // CRITICAL: Filter work items to only show those for the active connection\n  // This ensures work items from one connection are never shown when another connection's tab is selected\n  const pendingWorkItemsConnectionId = $derived(context?.pendingWorkItems?.connectionId);\n  const connectionWorkItems = $derived(context?.connectionWorkItems || {});\n  \n  const workItems = $derived.by(() => {\n    if (!activeConnectionId) {\n      return [];\n    }\n\n    // Priority 1: Check pendingWorkItems if it matches the active connection\n    if (pendingWorkItemsConnectionId === activeConnectionId && context?.pendingWorkItems?.workItems) {\n      return context.pendingWorkItems.workItems;\n    }\n\n    // Priority 2: Check connectionWorkItems map for the active connection\n    const connectionItems = connectionWorkItems[activeConnectionId];\n    if (Array.isArray(connectionItems) && connectionItems.length > 0) {\n      return connectionItems;\n    }\n\n    // Priority 3: Fallback to legacy workItems array (for backward compatibility)\n    if (Array.isArray(context?.workItems) && context.workItems.length > 0) {\n      return context.workItems;\n    }\n\n    return [];\n  });\n  const timerState = $derived(context?.timerState);\n  const workItemsError = $derived(context?.workItemsError);\n  const workItemsErrorConnectionId = $derived(context?.workItemsErrorConnectionId);\n  const showError = $derived(workItemsError && workItemsErrorConnectionId === activeConnectionId);\n  \n  // Get UI state from FSM - loading state is managed centrally in FSM\n  const uiState = $derived(context?.ui);\n  const connectionHealth = $derived(uiState?.connectionHealth);\n  const hasConnectionError = $derived(connectionHealth?.status === 'error' && connectionHealth?.lastError);\n  const connectionError = $derived(connectionHealth?.lastError);\n  \n  // FSM-MANAGED LOADING STATE - Read from FSM context, never set locally\n  // The FSM sets ui.loading.workItems when entering loadingData state\n  // and clears it when exiting (via entry/exit actions)\n  const showLoading = $derived(uiState?.loading?.workItems === true);\n\n  // Force reactivity every second to update timer display\n  let tick = $state(0);\n  setInterval(() => {\n    tick = (tick + 1) % 1000;\n  }, 1000);\n\n  // Compute elapsed time from startTime\n  const timerElapsedSeconds = $derived.by(() => {\n    // Trigger recomputation on tick\n   \n\n    if (!timerState?.startTime) return 0;\n\n    const stopTime = timerState.stopTime;\n    const now = stopTime || Date.now();\n    const elapsed = Math.floor((now - timerState.startTime) / 1000);\n\n    return Math.max(0, elapsed);\n  });\n\n  // Filters\n  let filterText = $state('');\n  let typeFilter = $state('');\n  let stateFilter = $state('all');\n  let sortKey = $state('updated-desc');\n\n  // Extract available types and states from work items\n  const availableTypes = $derived([\n    ...new Set(workItems.map((w: any) => w.fields?.['System.WorkItemType']).filter(Boolean) as string[]),\n  ]);\n  const availableStates = $derived([\n    ...new Set(\n      workItems.map((w: any) => normalizeState(w.fields?.['System.State'])).filter(Boolean) as string[]\n    ),\n  ]);\n\n  // Filter and sort work items\n  const filteredItems = $derived(\n    workItems\n      .filter((item: any) => {\n        const title = (item.fields?.['System.Title'] || '').toLowerCase();\n        const matchesText = !filterText || title.includes(filterText.toLowerCase());\n        const matchesType = !typeFilter || item.fields?.['System.WorkItemType'] === typeFilter;\n        const itemState = normalizeState(item.fields?.['System.State']);\n        const matchesState = stateFilter === 'all' || itemState === stateFilter;\n        return matchesText && matchesType && matchesState;\n      })\n      .sort((a: any, b: any) => {\n        switch (sortKey) {\n          case 'id-asc':\n            return Number(a.id) - Number(b.id);\n          case 'id-desc':\n            return Number(b.id) - Number(a.id);\n          case 'title-asc':\n            return (a.fields?.['System.Title'] || '').localeCompare(\n              b.fields?.['System.Title'] || ''\n            );\n          case 'updated-desc':\n          default:\n            return (\n              new Date(b.fields?.['System.ChangedDate'] || 0).getTime() -\n              new Date(a.fields?.['System.ChangedDate'] || 0).getTime()\n            );\n        }\n      })\n  );\n\n  function normalizeState(raw: string): string {\n    if (!raw) return 'new';\n    const s = String(raw).toLowerCase().trim().replace(/\\s+/g, '-');\n    if (['new', 'to-do', 'todo', 'proposed'].includes(s)) return 'new';\n    if (s === 'active') return 'active';\n    if (['in-progress', 'inprogress', 'doing'].includes(s)) return 'inprogress';\n    if (['review', 'code-review', 'testing'].includes(s)) return 'review';\n    if (s === 'resolved') return 'resolved';\n    if (s === 'done') return 'done';\n    if (['closed', 'completed'].includes(s)) return 'closed';\n    return 'new';\n  }\n\n  function getWorkItemTypeIcon(type: string): string {\n    const t = String(type || '').toLowerCase();\n    if (t.includes('bug')) return '\\uf41d';\n    if (t.includes('task')) return '\\uf0f7';\n    if (t.includes('story') || t.includes('user story')) return '\\uf413';\n    if (t.includes('feature')) return '\\uf0e7';\n    if (t.includes('epic')) return '\\uf0f2';\n    return '\\uf0c5';\n  }\n\n  function getPriorityClass(priority: any): string {\n    const p = Number(priority) || 3;\n    if (p === 1) return 'priority-1';\n    if (p === 2) return 'priority-2';\n    if (p === 3) return 'priority-3';\n    if (p === 4) return 'priority-4';\n    return 'priority-3';\n  }\n\n  \n  function handleStartTimer(item: any, event: Event) {\n    event.stopPropagation();\n\n    // Toggle: if timer is running on this item, stop it; otherwise start it\n    if (timerState?.workItemId === item.id && timerState?.state !== 'idle') {\n      sendEvent({ type: 'STOP_TIMER' });\n    } else {\n      sendEvent({\n        type: 'START_TIMER_INTERACTIVE',\n        workItemId: item.id,\n        workItemTitle: item.fields?.['System.Title'],\n      });\n    }\n  }\n\n  function handleEditItem(item: any, event: Event) {\n    event.stopPropagation();\n    sendEvent({ type: 'EDIT_WORK_ITEM', workItemId: item.id });\n  }\n\n  function handleOpenInBrowser(item: any, event: Event) {\n    event.stopPropagation();\n    sendEvent({ type: 'OPEN_IN_BROWSER', workItemId: item.id });\n  }\n\n  function handleCreateBranch(item: any, event: Event) {\n    event.stopPropagation();\n    sendEvent({ type: 'CREATE_BRANCH', workItemId: item.id });\n  }\n\n  // State for timer display preferences\n  let displayTimerSeconds = $state(true);\n  let timerHoverStart = $state(0);\n\n  function formatElapsedTime(seconds: number, forceShowSeconds: boolean = true): string {\n    const hours = Math.floor(seconds / 3600);\n    const mins = Math.floor((seconds % 3600) / 60);\n    const secs = Math.floor(seconds % 60);\n\n    // Show seconds for first 30 seconds, or when forced, or when recently hovered\n    const showSeconds =\n      forceShowSeconds &&\n      (seconds < 30 ||\n        displayTimerSeconds ||\n        (timerHoverStart > 0 && Date.now() - timerHoverStart < 30000));\n\n    if (hours > 0) {\n      return showSeconds\n        ? `${hours}:${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`\n        : `${hours}:${String(mins).padStart(2, '0')}`;\n    }\n    // Always show MM:SS format, even for 0:00\n    return showSeconds ? `${mins}:${String(secs).padStart(2, '0')}` : `${mins}m`;\n  }\n\n  function handleTimerMouseEnter() {\n    timerHoverStart = Date.now();\n  }\n\n  function handleTimerMouseLeave() {\n    // Keep showing seconds for another 30 seconds after hover ends\n    setTimeout(() => {\n      timerHoverStart = 0;\n    }, 30000);\n  }\n</script>\n\n<div class=\"work-item-list\" style=\"position: relative;\">\n  {#if !activeConnectionId}\n    <div class=\"empty-state\">\n      <p>No active connection selected.</p>\n      <p class=\"hint\">Configure a connection in settings to get started.</p>\n    </div>\n  {:else}\n    <!-- Query Selector -->\n    {#if onQueryChange}\n      <div class=\"query-selector-bar\">\n        <label for=\"query-select\" class=\"query-label\">Query:</label>\n        <Dropdown\n          value={currentQuery}\n          options={predefinedQueries.map((q) => ({ value: q, label: q }))}\n          onChange={(value) => {\n            // Send query change - FSM will set loading state automatically\n            if (onQueryChange) {\n              onQueryChange(value);\n            }\n          }}\n          class=\"query-select\"\n        />\n      </div>\n    {/if}\n    \n    <!-- Filters Bar -->\n    <div class=\"filters-bar\">\n      <input\n        type=\"text\"\n        placeholder=\"Filter by title...\"\n        bind:value={filterText}\n        class=\"filter-input\"\n      />\n      <Dropdown\n        value={typeFilter}\n        options={[\n          { value: '', label: 'All Types' },\n          ...availableTypes.map((type: string) => ({ value: type, label: type })),\n        ]}\n        onChange={(value) => {\n          typeFilter = value;\n        }}\n      />\n      <Dropdown\n        value={stateFilter}\n        options={[\n          { value: 'all', label: 'All States' },\n          ...availableStates.map((state: string) => ({ value: state, label: state })),\n        ]}\n        onChange={(value) => {\n          stateFilter = value;\n        }}\n      />\n      <Dropdown\n        value={sortKey}\n        options={[\n          { value: 'updated-desc', label: 'Updated ‚Üì' },\n          { value: 'id-desc', label: 'ID ‚Üì' },\n          { value: 'id-asc', label: 'ID ‚Üë' },\n          { value: 'title-asc', label: 'Title A‚ÜíZ' },\n        ]}\n        onChange={(value) => {\n          sortKey = value;\n        }}\n      />\n    </div>\n\n    {#if showLoading}\n      {#if workItems.length === 0}\n        <!-- Full loading indicator when no work items exist -->\n        <div class=\"loading-indicator\">\n          <div class=\"loading-spinner\"></div>\n          <p>Loading work items...</p>\n        </div>\n      {:else}\n        <!-- Discrete loading spinner - positioned absolutely to not affect layout -->\n        <div class=\"loading-spinner-container\">\n          <div class=\"loading-spinner small\"></div>\n        </div>\n      {/if}\n    {/if}\n    {#if hasConnectionError && connectionError}\n      <ErrorBanner\n        error={connectionError.type === 'authentication'\n          ? { ...connectionError, suggestedAction: 'Change auth / start new sign-in' }\n          : connectionError}\n        onRetry={() => sendEvent({ type: 'REFRESH_DATA' })}\n        onFixAuth={() => sendEvent({ type: 'RESET_AUTH', connectionId: activeConnectionId })}\n        onDismiss={() => {\n          // Dismiss handled by FSM clearing error state\n        }}\n      />\n    {/if}\n    {#if (hasConnectionError || showError) && workItems.length === 0 && !showLoading}\n      <EmptyState\n        hasError={true}\n        error={connectionError || (showError ? {\n          message: workItemsError || 'Unable to load work items',\n          type: 'authentication' as const,\n          recoverable: true,\n          suggestedAction: 'Change auth / start new sign-in',\n        } : undefined)}\n        onRetry={() => sendEvent({ type: 'REFRESH_DATA' })}\n        onFixAuth={() => sendEvent({ type: 'RESET_AUTH', connectionId: activeConnectionId })}\n      />\n    {:else if filteredItems.length === 0 && workItems.length > 0}\n      <div class=\"empty-state\">\n        <p>No items match your filters.</p>\n        <button\n          onclick={() => {\n            filterText = '';\n            typeFilter = '';\n            stateFilter = 'all';\n          }}>Clear Filters</button\n        >\n      </div>\n    {:else}\n      <div class=\"items-container\">\n        {#each filteredItems as item (item.id)}\n          <div class=\"work-item-card\">\n            <div class=\"card-header\">\n              <span class=\"type-icon\"\n                >{getWorkItemTypeIcon(item.fields?.['System.WorkItemType'])}</span\n              >\n              <span class=\"item-id\">#{item.id}</span>\n              <span\n                class=\"priority {getPriorityClass(item.fields?.['Microsoft.VSTS.Common.Priority'])}\"\n              >\n                P{item.fields?.['Microsoft.VSTS.Common.Priority'] || '3'}\n              </span>\n            </div>\n\n            <div class=\"card-body\">\n              <div class=\"item-title\">\n                {item.fields?.['System.Title'] || `Work Item #${item.id}`}\n              </div>\n\n              <div class=\"item-meta\">\n                <span class=\"meta-badge type\">{item.fields?.['System.WorkItemType'] || 'Task'}</span\n                >\n                <span\n                  class=\"meta-badge state state-{normalizeState(item.fields?.['System.State'])}\"\n                >\n                  {item.fields?.['System.State'] || 'New'}\n                </span>\n                {#if item.fields?.['System.AssignedTo']}\n                  <span class=\"meta-badge assignee\">\n                    {item.fields['System.AssignedTo'].displayName ||\n                      item.fields['System.AssignedTo']}\n                  </span>\n                {/if}\n                {#if timerState?.workItemId === item.id}\n                  <span\n                    class=\"meta-badge timer-badge\"\n                    title=\"Timer Active\"\n                    role=\"button\"\n                    tabindex=\"0\"\n                    onmouseenter={handleTimerMouseEnter}\n                    onmouseleave={handleTimerMouseLeave}\n                  >\n                    <span class=\"codicon\">‚è±</span>\n                    {formatElapsedTime(timerElapsedSeconds)}\n                  </span>\n                {/if}\n              </div>\n\n              <!-- Action Buttons -->\n              <div class=\"item-actions\">\n                <button\n                  class=\"action-btn primary\"\n                  onclick={(e) => handleStartTimer(item, e)}\n                  title={timerState?.workItemId === item.id ? 'Stop Timer' : 'Start Timer'}\n                  aria-label={timerState?.workItemId === item.id ? 'Stop Timer' : 'Start Timer'}\n                >\n                  <span class=\"codicon\">{timerState?.workItemId === item.id ? '‚èπ' : '‚ñ∂'}</span>\n                </button>\n                <button\n                  class=\"action-btn\"\n                  onclick={(e) => handleEditItem(item, e)}\n                  title=\"Edit Work Item\"\n                  aria-label=\"Edit Work Item\"\n                >\n                  <span class=\"codicon\">‚úé</span>\n                </button>\n                <button\n                  class=\"action-btn\"\n                  onclick={(e) => handleCreateBranch(item, e)}\n                  title=\"Create Branch\"\n                  aria-label=\"Create Branch\"\n                >\n                  <span class=\"codicon\">‚éá</span>\n                </button>\n                <button\n                  class=\"action-btn\"\n                  onclick={(e) => handleOpenInBrowser(item, e)}\n                  title=\"Open in Azure DevOps\"\n                  aria-label=\"Open in Azure DevOps\"\n                >\n                  <span class=\"codicon\">üåê</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        {/each}\n      </div>\n    {/if}\n  {/if}\n</div>\n\n<style>\n  .work-item-list {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    gap: 0.75rem;\n  }\n\n  .empty-state {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 3rem 1rem;\n    text-align: center;\n    color: var(--vscode-descriptionForeground);\n    gap: 1rem;\n  }\n\n  .empty-state .hint {\n    font-size: 0.85rem;\n    opacity: 0.8;\n  }\n\n\n  .empty-state-actions {\n    display: flex;\n    gap: 0.5rem;\n    margin-top: 1rem;\n  }\n\n  .loading-indicator {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 3rem 1rem;\n    gap: 1rem;\n    color: var(--vscode-descriptionForeground);\n  }\n\n  .loading-spinner {\n    width: 32px;\n    height: 32px;\n    border: 3px solid var(--vscode-panel-border);\n    border-top-color: var(--vscode-textLink-foreground);\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n\n  .loading-spinner.small {\n    width: 16px;\n    height: 16px;\n    border-width: 2px;\n  }\n\n  .loading-spinner-container {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    z-index: 100;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 24px;\n    height: 24px;\n    pointer-events: none;\n  }\n\n  @keyframes spin {\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  .query-selector-bar {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.5rem 0;\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n    border-top: 1px solid var(--vscode-panel-border, var(--vscode-input-border));\n  }\n  \n  .query-label {\n    font-size: 0.75rem;\n    color: var(--vscode-foreground);\n    white-space: nowrap;\n    font-weight: 500;\n  }\n  \n  .query-selector-bar :global(.query-select) {\n    min-width: 150px;\n  }\n  \n  .filters-bar {\n    display: flex;\n    gap: 0.5rem;\n    padding: 0.5rem 0;\n    flex-wrap: wrap;\n  }\n\n  .filter-input {\n    padding: 0.4rem 0.6rem;\n    background: var(--vscode-input-background);\n    color: var(--vscode-input-foreground);\n    border: 1px solid var(--vscode-input-border);\n    border-radius: 3px;\n    font-size: 0.85rem;\n    font-family: var(--vscode-font-family);\n    flex: 1;\n    min-width: 150px;\n  }\n\n  .filter-input:focus {\n    outline: none;\n    border-color: var(--vscode-focusBorder);\n  }\n\n  /* Custom dropdown component styling */\n  .filters-bar :global(.custom-dropdown) {\n    min-width: 120px;\n  }\n\n  button {\n    background: var(--vscode-button-background);\n    color: var(--vscode-button-foreground);\n    border: none;\n    padding: 0.4rem 0.8rem;\n    cursor: pointer;\n    font-size: 0.85rem;\n    border-radius: 3px;\n    font-family: var(--vscode-font-family);\n  }\n\n  button:hover {\n    background: var(--vscode-button-hoverBackground);\n  }\n\n  .primary-btn {\n    background: var(--vscode-button-background);\n    padding: 0.5rem 1rem;\n  }\n\n  .items-container {\n    flex: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .work-item-card {\n    display: flex;\n    flex-direction: column;\n    padding: 0.75rem;\n    background: var(--vscode-list-inactiveSelectionBackground);\n    border: 1px solid var(--vscode-panel-border);\n    border-radius: 4px;\n    cursor: pointer;\n    transition: all 0.15s ease;\n  }\n\n  .work-item-card:hover {\n    background: var(--vscode-list-hoverBackground);\n    border-color: var(--vscode-focusBorder);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  }\n\n  .card-header {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    margin-bottom: 0.5rem;\n  }\n\n  .type-icon {\n    font-family: 'codicon';\n    font-size: 1rem;\n    color: var(--vscode-textLink-foreground);\n  }\n\n  .item-id {\n    font-size: 0.75rem;\n    font-weight: 600;\n    background: var(--vscode-badge-background);\n    color: var(--vscode-badge-foreground);\n    padding: 0.15rem 0.4rem;\n    border-radius: 8px;\n  }\n\n  .priority {\n    margin-left: auto;\n    font-size: 0.7rem;\n    font-weight: 600;\n    padding: 0.15rem 0.35rem;\n    border-radius: 4px;\n  }\n\n  .priority-1 {\n    background: rgba(209, 52, 56, 0.2);\n    color: #d13438;\n  }\n\n  .priority-2 {\n    background: rgba(255, 140, 0, 0.2);\n    color: #ff8c00;\n  }\n\n  .priority-3 {\n    background: rgba(0, 120, 212, 0.15);\n    color: #0078d4;\n  }\n\n  .priority-4 {\n    background: rgba(128, 128, 128, 0.15);\n    color: #808080;\n  }\n\n  .card-body {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .item-title {\n    font-size: 0.95rem;\n    font-weight: 500;\n    line-height: 1.3;\n    color: var(--vscode-foreground);\n  }\n\n  .item-meta {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.4rem;\n    font-size: 0.75rem;\n  }\n\n  .meta-badge {\n    padding: 0.2rem 0.5rem;\n    border-radius: 10px;\n    font-size: 0.7rem;\n    font-weight: 500;\n  }\n\n  .meta-badge.type {\n    background: var(--vscode-badge-background);\n    color: var(--vscode-badge-foreground);\n  }\n\n  .meta-badge.state {\n    text-transform: uppercase;\n    letter-spacing: 0.02em;\n  }\n\n  .state-new {\n    background: rgba(0, 120, 212, 0.15);\n    color: #0078d4;\n  }\n\n  .state-active,\n  .state-inprogress {\n    background: rgba(255, 140, 0, 0.2);\n    color: #ff8c00;\n  }\n\n  .state-review {\n    background: rgba(92, 45, 145, 0.2);\n    color: #5c2d91;\n  }\n\n  .state-resolved,\n  .state-done,\n  .state-closed {\n    background: rgba(16, 124, 16, 0.2);\n    color: #107c10;\n  }\n\n  .meta-badge.assignee {\n    background: rgba(92, 45, 145, 0.15);\n    color: var(--vscode-foreground);\n    display: flex;\n    align-items: center;\n    gap: 0.25rem;\n  }\n\n  .meta-badge.timer-badge {\n    background: rgba(0, 120, 212, 0.25);\n    color: #0078d4;\n    display: flex;\n    align-items: center;\n    gap: 0.3rem;\n    font-weight: 600;\n    animation: pulse 2s ease-in-out infinite;\n  }\n\n  .timer-badge .codicon {\n    font-size: 0.9rem;\n  }\n\n  @keyframes pulse {\n    0%,\n    100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.7;\n    }\n  }\n\n  /* Action Buttons */\n  .item-actions {\n    display: flex;\n    gap: 0.4rem;\n    margin-top: 0.75rem;\n    padding-top: 0.75rem;\n    border-top: 1px solid var(--vscode-panel-border);\n    opacity: 0;\n    transition: opacity 0.2s ease;\n  }\n\n  .work-item-card:hover .item-actions {\n    opacity: 1;\n  }\n\n  .action-btn {\n    display: flex;\n    align-items: center;\n    gap: 0.3rem;\n    padding: 0.35rem 0.6rem;\n    background: var(--vscode-button-secondaryBackground);\n    color: var(--vscode-button-secondaryForeground);\n    border: 1px solid var(--vscode-button-border, transparent);\n    border-radius: 3px;\n    font-size: 0.75rem;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.15s ease;\n  }\n\n  .action-btn:hover {\n    background: var(--vscode-button-secondaryHoverBackground);\n    transform: translateY(-1px);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n\n  .action-btn:active {\n    transform: translateY(0);\n  }\n\n  .action-btn.primary {\n    background: var(--vscode-button-background);\n    color: var(--vscode-button-foreground);\n  }\n\n  .action-btn.primary:hover {\n    background: var(--vscode-button-hoverBackground);\n  }\n\n  .action-btn .codicon {\n    font-size: 0.9rem;\n    line-height: 1;\n  }\n</style>\n", "<!--\nModule: src/webview/components/KanbanBoard.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: fsmEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  interface Props {\n    context: any;\n    sendEvent: (event: any) => void;\n  }\n\n  const { context, sendEvent }: Props = $props();\n\n  let selectedItemId = $state<string | null>(null);\n\n  // CRITICAL: Filter work items to only show those for the active connection\n  // This ensures work items from one connection are never shown when another connection's tab is selected\n  const activeConnectionId = $derived(context?.activeConnectionId);\n  const allWorkItems = $derived(context?.pendingWorkItems?.workItems || context?.workItems || []);\n  const pendingWorkItemsConnectionId = $derived(context?.pendingWorkItems?.connectionId);\n  const workItems = $derived.by(() => {\n    // If pendingWorkItems has a connectionId, filter by it\n    if (pendingWorkItemsConnectionId) {\n      // Only show work items if they belong to the active connection\n      if (pendingWorkItemsConnectionId === activeConnectionId) {\n        return allWorkItems;\n      }\n      // If pendingWorkItems is for a different connection, return empty array\n      return [];\n    }\n    // Fallback: if no connectionId in pendingWorkItems, only show if activeConnectionId matches\n    // This is a safety check - ideally all work items should have connectionId\n    return activeConnectionId ? allWorkItems : [];\n  });\n  \n  const columns = $derived(context?.kanbanColumns || []);\n  const timerState = $derived(context?.timerState);\n\n  // Create a map of work items by ID for quick lookup\n  const workItemsMap = $derived.by(() => {\n    const map = new Map();\n    workItems.forEach((item: any) => {\n      if (item?.id) {\n        map.set(String(item.id), item);\n      }\n    });\n    return map;\n  });\n\n  // Helper functions (same as WorkItemList)\n  function getWorkItemTypeIcon(type: string): string {\n    const t = String(type || '').toLowerCase();\n    if (t.includes('bug')) return '\\uf41d';\n    if (t.includes('task')) return '\\uf0f7';\n    if (t.includes('story') || t.includes('user story')) return '\\uf413';\n    if (t.includes('feature')) return '\\uf0e7';\n    if (t.includes('epic')) return '\\uf0f2';\n    return '\\uf0c5';\n  }\n\n  function getPriorityClass(priority: any): string {\n    const p = Number(priority) || 3;\n    if (p === 1) return 'priority-1';\n    if (p === 2) return 'priority-2';\n    if (p === 3) return 'priority-3';\n    if (p === 4) return 'priority-4';\n    return 'priority-3';\n  }\n\n  function handleItemClick(item: any, event: Event) {\n    event.stopPropagation();\n    // Select the item instead of opening in browser\n    selectedItemId = String(item.id);\n  }\n\n  function handleStartTimer(item: any, event: Event) {\n    event.stopPropagation();\n    if (timerState?.workItemId === item.id && timerState?.state !== 'idle') {\n      sendEvent({ type: 'STOP_TIMER' });\n    } else {\n      sendEvent({\n        type: 'START_TIMER_INTERACTIVE',\n        workItemId: item.id,\n        workItemTitle: item.fields?.['System.Title'],\n      });\n    }\n  }\n</script>\n\n<div class=\"kanban-board\">\n  {#if columns.length === 0}\n    <div class=\"empty\">No columns available ‚Äì load work items or switch view.</div>\n  {:else}\n    <div class=\"columns\">\n      {#each columns as col (col.id)}\n        <div class=\"column\">\n          <div class=\"column-header\">\n            <h3>{col.title}</h3>\n            <span class=\"count\">{col.itemIds.length}</span>\n          </div>\n          <div class=\"items\">\n            {#each col.itemIds as id (id)}\n              {@const item = workItemsMap.get(String(id))}\n              {#if item}\n                <div\n                  class=\"kanban-item\"\n                  class:selected={selectedItemId === String(item.id)}\n                  role=\"button\"\n                  tabindex=\"0\"\n                  onclick={(e) => handleItemClick(item, e)}\n                  onkeydown={(e) => {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                      e.preventDefault();\n                      handleItemClick(item, e);\n                    }\n                  }}\n                >\n                  <div class=\"kanban-item-header\">\n                    <span class=\"type-icon\">{getWorkItemTypeIcon(item.fields?.['System.WorkItemType'])}</span>\n                    <span class=\"item-id\">#{item.id}</span>\n                    <span class=\"priority {getPriorityClass(item.fields?.['Microsoft.VSTS.Common.Priority'])}\">\n                      P{item.fields?.['Microsoft.VSTS.Common.Priority'] || '3'}\n                    </span>\n                  </div>\n                  <div class=\"kanban-item-title\">\n                    {item.fields?.['System.Title'] || `Work Item #${item.id}`}\n                  </div>\n                  <div class=\"kanban-item-meta\">\n                    <span class=\"meta-badge type\">{item.fields?.['System.WorkItemType'] || 'Task'}</span>\n                    {#if item.fields?.['System.AssignedTo']}\n                      <span class=\"meta-badge assignee\">\n                        {item.fields['System.AssignedTo'].displayName || item.fields['System.AssignedTo']}\n                      </span>\n                    {/if}\n                    {#if timerState?.workItemId === item.id}\n                      <span class=\"meta-badge timer-badge\" title=\"Timer Active\">‚è±</span>\n                    {/if}\n                  </div>\n                  <div class=\"kanban-item-actions\">\n                    <button\n                      class=\"action-btn\"\n                      onclick={(e) => handleStartTimer(item, e)}\n                      title={timerState?.workItemId === item.id ? 'Stop Timer' : 'Start Timer'}\n                    >\n                      <span class=\"codicon\">{timerState?.workItemId === item.id ? '‚èπ' : '‚ñ∂'}</span>\n                    </button>\n                    <button\n                      class=\"action-btn\"\n                      onclick={(e) => { e.stopPropagation(); sendEvent({ type: 'OPEN_IN_BROWSER', workItemId: item.id }); }}\n                      title=\"Open in Azure DevOps\"\n                    >\n                      <span class=\"codicon\">üåê</span>\n                    </button>\n                  </div>\n                </div>\n              {:else}\n                <!-- Fallback if work item not found -->\n                <div class=\"kanban-item kanban-item-placeholder\">\n                  <span>#{id}</span>\n                </div>\n              {/if}\n            {/each}\n          </div>\n        </div>\n      {/each}\n    </div>\n  {/if}\n</div>\n\n<style>\n  .kanban-board {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n  .columns {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    gap: 0.75rem;\n  }\n  .column {\n    background: var(--vscode-sideBar-background);\n    border: 1px solid var(--vscode-panel-border);\n    padding: 0.5rem;\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  .column-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  h3 {\n    margin: 0;\n    font-size: 0.95rem;\n  }\n  .count {\n    background: var(--vscode-badge-background);\n    color: var(--vscode-badge-foreground);\n    padding: 0 0.4rem;\n    border-radius: 1rem;\n    font-size: 0.75rem;\n  }\n  .items {\n    display: flex;\n    flex-direction: column;\n    gap: 0.4rem;\n  }\n  .kanban-item {\n    background: var(--vscode-list-inactiveSelectionBackground);\n    border: 1px solid var(--vscode-panel-border);\n    padding: 0.6rem;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 0.85rem;\n    display: flex;\n    flex-direction: column;\n    gap: 0.4rem;\n    transition: background 0.15s ease;\n  }\n  .kanban-item:hover {\n    background: var(--vscode-list-hoverBackground);\n    border-color: var(--vscode-focusBorder);\n  }\n  .kanban-item.selected {\n    background: var(--vscode-list-activeSelectionBackground);\n    color: var(--vscode-list-activeSelectionForeground);\n    border-color: var(--vscode-focusBorder);\n  }\n  .kanban-item.selected .kanban-item-title {\n    color: var(--vscode-list-activeSelectionForeground);\n  }\n  .kanban-item.selected .type-icon {\n    color: var(--vscode-list-activeSelectionForeground);\n  }\n  .kanban-item-header {\n    display: flex;\n    align-items: center;\n    gap: 0.4rem;\n    font-size: 0.75rem;\n  }\n  .type-icon {\n    font-family: 'codicon';\n    font-size: 0.9rem;\n    color: var(--vscode-icon-foreground);\n  }\n  .item-id {\n    font-weight: 600;\n    color: var(--vscode-textLink-foreground);\n  }\n  .priority {\n    margin-left: auto;\n    padding: 0.1rem 0.3rem;\n    border-radius: 2px;\n    font-size: 0.7rem;\n    font-weight: 500;\n  }\n  .priority.priority-1 {\n    background: var(--vscode-inputValidation-errorBackground);\n    color: var(--vscode-inputValidation-errorForeground);\n  }\n  .priority.priority-2 {\n    background: var(--vscode-inputValidation-warningBackground);\n    color: var(--vscode-inputValidation-warningForeground);\n  }\n  .priority.priority-3,\n  .priority.priority-4 {\n    background: var(--vscode-badge-background);\n    color: var(--vscode-badge-foreground);\n  }\n  .kanban-item-title {\n    font-weight: 500;\n    color: var(--vscode-foreground);\n    line-height: 1.3;\n    word-wrap: break-word;\n  }\n  .kanban-item-meta {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.3rem;\n    font-size: 0.75rem;\n  }\n  .meta-badge {\n    padding: 0.15rem 0.4rem;\n    border-radius: 2px;\n    font-size: 0.7rem;\n    background: var(--vscode-badge-background);\n    color: var(--vscode-badge-foreground);\n  }\n  .meta-badge.type {\n    background: var(--vscode-textPreformat-background);\n    color: var(--vscode-textPreformat-foreground);\n  }\n  .meta-badge.assignee {\n    background: var(--vscode-button-secondaryBackground);\n    color: var(--vscode-button-secondaryForeground);\n  }\n  .meta-badge.timer-badge {\n    background: var(--vscode-progressBar-background);\n    color: var(--vscode-badge-foreground);\n  }\n  .kanban-item-actions {\n    display: flex;\n    gap: 0.3rem;\n    margin-top: 0.2rem;\n  }\n  .action-btn {\n    background: transparent;\n    border: 1px solid var(--vscode-button-border, transparent);\n    color: var(--vscode-foreground);\n    padding: 0.2rem 0.4rem;\n    border-radius: 3px;\n    cursor: pointer;\n    font-size: 0.75rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background 0.15s ease;\n  }\n  .action-btn:hover {\n    background: var(--vscode-button-hoverBackground, var(--vscode-list-hoverBackground));\n  }\n  .action-btn .codicon {\n    font-family: 'codicon';\n    font-size: 0.85rem;\n  }\n  .kanban-item-placeholder {\n    opacity: 0.5;\n    font-style: italic;\n    text-align: center;\n  }\n  .empty {\n    text-align: center;\n    padding: 1rem;\n    font-style: italic;\n    color: var(--vscode-descriptionForeground);\n  }\n</style>\n", "<!--\nModule: src/webview/components/ConnectionStatus.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: appEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  interface Props {\n    connectionHealth?: {\n      status: 'healthy' | 'error' | 'warning' | 'unknown';\n      lastSuccess?: number;\n      lastFailure?: number;\n    };\n    refreshStatus?: {\n      lastAttempt: number;\n      success: boolean;\n      error?: string;\n      nextAutoRefresh?: number;\n    };\n  }\n\n  const { connectionHealth, refreshStatus }: Props = $props();\n\n  function formatTimeAgo(timestamp: number): string {\n    const seconds = Math.floor((Date.now() - timestamp) / 1000);\n    if (seconds < 60) return `${seconds}s ago`;\n    const minutes = Math.floor(seconds / 60);\n    if (minutes < 60) return `${minutes}m ago`;\n    const hours = Math.floor(minutes / 60);\n    if (hours < 24) return `${hours}h ago`;\n    const days = Math.floor(hours / 24);\n    return `${days}d ago`;\n  }\n\n  function getStatusColor(): string {\n    if (!connectionHealth) return 'var(--vscode-descriptionForeground)';\n    switch (connectionHealth.status) {\n      case 'healthy':\n        return 'var(--vscode-testing-iconPassed)';\n      case 'error':\n        return 'var(--vscode-errorForeground)';\n      case 'warning':\n        return 'var(--vscode-testing-iconQueued)';\n      default:\n        return 'var(--vscode-descriptionForeground)';\n    }\n  }\n\n  function getStatusText(): string {\n    if (!connectionHealth) return 'Unknown';\n    switch (connectionHealth.status) {\n      case 'healthy':\n        return 'Connected';\n      case 'error':\n        return 'Connection Error';\n      case 'warning':\n        return 'Warning';\n      default:\n        return 'Unknown';\n    }\n  }\n\n  function getRefreshStatusText(): string {\n    if (!refreshStatus) return '';\n    const timeAgo = formatTimeAgo(refreshStatus.lastAttempt);\n    if (refreshStatus.success) {\n      return `Last refresh: ${timeAgo}`;\n    } else {\n      return `Last refresh: Failed (${timeAgo})`;\n    }\n  }\n</script>\n\n<div class=\"connection-status\">\n  {#if connectionHealth}\n    <div class=\"status-indicator\" style=\"--status-color: {getStatusColor()}\">\n      <span class=\"status-dot\"></span>\n      <span class=\"status-text\">{getStatusText()}</span>\n    </div>\n  {/if}\n  {#if refreshStatus}\n    <div class=\"refresh-status\">\n      <span class=\"refresh-icon\">{refreshStatus.success ? '‚úì' : '‚úó'}</span>\n      <span class=\"refresh-text\">{getRefreshStatusText()}</span>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .connection-status {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n    font-size: 0.75rem;\n  }\n\n  .status-indicator {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .status-dot {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background: var(--status-color);\n    display: inline-block;\n  }\n\n  .status-text {\n    color: var(--vscode-foreground);\n    font-weight: 500;\n  }\n\n  .refresh-status {\n    display: flex;\n    align-items: center;\n    gap: 0.375rem;\n    color: var(--vscode-descriptionForeground);\n  }\n\n  .refresh-icon {\n    font-size: 0.875rem;\n    opacity: 0.8;\n  }\n\n  .refresh-text {\n    font-size: 0.75rem;\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/StatusBar.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: appEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  import ConnectionStatus from './ConnectionStatus.svelte';\n\n  interface Connection {\n    id: string;\n    label?: string;\n    organization?: string;\n    project?: string;\n  }\n\n  interface TimerActor {\n    state?: string;\n  }\n\n  interface UIState {\n    connectionHealth?: {\n      status: 'healthy' | 'error' | 'warning' | 'unknown';\n      lastSuccess?: number;\n      lastFailure?: number;\n    };\n    refreshStatus?: {\n      lastAttempt: number;\n      success: boolean;\n      error?: string;\n      nextAutoRefresh?: number;\n    };\n  }\n\n  interface Context {\n    timerActor?: TimerActor;\n    activeConnectionId?: string;\n    connections?: Connection[];\n    ui?: UIState;\n  }\n\n  interface Props {\n    context: Context;\n  }\n\n  const { context }: Props = $props();\n\n  // Use $derived instead of $: reactive statements (Svelte 5 best practice)\n  const timerState = $derived(context?.timerActor?.state || 'idle');\n  const activeConnectionId = $derived(context?.activeConnectionId);\n  const connections = $derived(context?.connections || []);\n  const activeConnection = $derived.by(() =>\n    connections.find((c) => c.id === activeConnectionId)\n  );\n  const uiState = $derived(context?.ui);\n  const connectionHealth = $derived(uiState?.connectionHealth);\n  const refreshStatus = $derived(uiState?.refreshStatus);\n\n  function formatConnectionLabel(conn: Connection | undefined): string {\n    if (!conn) return 'No connection';\n    if (conn.label) return conn.label;\n    if (conn.organization && conn.project) {\n      return `${conn.organization}/${conn.project}`;\n    }\n    return conn.id;\n  }\n</script>\n\n<div class=\"status-bar\">\n  {#if activeConnection}\n    <div class=\"status-section connection-info\">\n      <span class=\"label\">Connection:</span>\n      <span class=\"value\">{formatConnectionLabel(activeConnection)}</span>\n    </div>\n  {/if}\n  {#if connectionHealth || refreshStatus}\n    <ConnectionStatus {connectionHealth} {refreshStatus} />\n  {/if}\n  {#if timerState !== 'idle'}\n    <div class=\"status-section timer-active\">\n      <span class=\"label\">Timer:</span>\n      <span class=\"value\">{timerState}</span>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .status-bar {\n    display: flex;\n    gap: 1rem;\n    padding: 0.35rem 0.75rem;\n    background: var(--vscode-statusBar-background);\n    color: var(--vscode-statusBar-foreground);\n    border-top: 1px solid var(--vscode-panel-border);\n    font-size: 0.75rem;\n    position: sticky;\n    bottom: 0;\n  }\n\n  .status-section {\n    display: flex;\n    gap: 0.4rem;\n    align-items: center;\n  }\n\n  .label {\n    opacity: 0.8;\n  }\n\n  .value {\n    font-weight: 500;\n  }\n\n  .connection-info {\n    color: var(--vscode-foreground);\n  }\n\n  .timer-active {\n    color: var(--vscode-statusBarItem-prominentForeground);\n    background: var(--vscode-statusBarItem-prominentBackground);\n    padding: 0.25rem 0.5rem;\n    border-radius: 3px;\n  }\n</style>\n", "<!--\nModule: src/webview/components/ConnectionView.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: appEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Per-connection UI component containing all connection-specific controls and views\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  import WorkItemList from './WorkItemList.svelte';\n  import KanbanBoard from './KanbanBoard.svelte';\n  import StatusBar from './StatusBar.svelte';\n  \n  interface Props {\n    connection: { id: string; label?: string };\n    isActive: boolean;\n    query: string;\n    workItems: any[];\n    filters: any;\n    viewMode: 'list' | 'kanban';\n    context: any;\n    matches: Record<string, boolean>;\n    sendEvent: (event: any) => void;\n  }\n  \n  const { connection, isActive, query, workItems, viewMode, context, matches, sendEvent }: Props = $props();\n  \n  function handleQueryChange(newQuery: string) {\n    sendEvent({\n      type: 'SET_CONNECTION_QUERY',\n      connectionId: connection.id,\n      query: newQuery,\n    });\n  }\n  \n</script>\n\n<div\n  class=\"connection-view\"\n  class:active={isActive}\n  data-connection-id={connection.id}\n>\n  {#if isActive}\n    {@const contextWithWorkItems = { ...context, pendingWorkItems: { workItems, connectionId: connection.id } }}\n    <div class=\"connection-content\">\n      {#if viewMode === 'kanban'}\n        <KanbanBoard context={contextWithWorkItems} {sendEvent} />\n      {:else}\n        <WorkItemList \n          context={contextWithWorkItems} \n          {matches}\n          {sendEvent}\n          {query}\n          onQueryChange={handleQueryChange}\n        />\n      {/if}\n      \n      <StatusBar {context} />\n    </div>\n  {/if}\n</div>\n\n<style>\n  .connection-view {\n    display: none; /* Hidden by default */\n  }\n  \n  .connection-view.active {\n    display: block; /* Visible when active */\n  }\n  \n  .connection-content {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/ConnectionViews.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: fsmEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Container component for all connection-specific UI views\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  import ConnectionView from './ConnectionView.svelte';\n  \n  interface Props {\n    connections: Array<{ id: string; label?: string }>;\n    activeConnectionId: string | undefined;\n    context: any;\n    matches: Record<string, boolean>;\n    sendEvent: (event: any) => void;\n  }\n  \n  const { connections, activeConnectionId, context, matches, sendEvent }: Props = $props();\n  \n  // Derive per-connection data from context\n  // Convert plain objects (from serialization) back to Maps for easier access\n  const connectionQueries = $derived.by(() => {\n    const queries = context?.connectionQueries;\n    if (queries instanceof Map) return queries;\n    if (queries && typeof queries === 'object') return new Map(Object.entries(queries));\n    return new Map();\n  });\n  const connectionWorkItems = $derived.by(() => {\n    const items = context?.connectionWorkItems;\n    if (items instanceof Map) return items;\n    if (items && typeof items === 'object') return new Map(Object.entries(items));\n    return new Map();\n  });\n  const connectionFilters = $derived.by(() => {\n    const filters = context?.connectionFilters;\n    if (filters instanceof Map) return filters;\n    if (filters && typeof filters === 'object') return new Map(Object.entries(filters));\n    return new Map();\n  });\n  const connectionViewModes = $derived.by(() => {\n    const modes = context?.connectionViewModes;\n    if (modes instanceof Map) return modes;\n    if (modes && typeof modes === 'object') return new Map(Object.entries(modes));\n    return new Map();\n  });\n</script>\n\n<div class=\"connection-views\">\n  {#each connections as connection (connection.id)}\n    {@const isActive = connection.id === activeConnectionId}\n    {@const query = connectionQueries.get(connection.id) || context?.activeQuery || 'My Activity'}\n    {@const workItems = connectionWorkItems.get(connection.id) || []}\n    {@const filters = connectionFilters.get(connection.id) || {}}\n    {@const viewMode = connectionViewModes.get(connection.id) || context?.viewMode || 'list'}\n    \n    <ConnectionView\n      {connection}\n      {isActive}\n      {query}\n      {workItems}\n      {filters}\n      {viewMode}\n      {context}\n      {matches}\n      {sendEvent}\n    />\n  {/each}\n</div>\n\n<style>\n  .connection-views {\n    display: flex;\n    flex-direction: column;\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/AuthReminder.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: appEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  interface Props {\n    context: any;\n    sendEvent: (event: any) => void;\n  }\n\n  const { context, sendEvent }: Props = $props();\n\n  // Device code session reactive bindings\n  const deviceCodeSession = $derived(context?.deviceCodeSession);\n  const deviceCodeRemainingMs = $derived(\n    deviceCodeSession ? Math.max(deviceCodeSession.expiresAt - Date.now(), 0) : 0\n  );\n  const deviceCodeExpiresInMinutes = $derived(\n    deviceCodeSession ? Math.ceil(deviceCodeRemainingMs / 60000) : 0\n  );\n  const deviceCodeExpired = $derived(\n    deviceCodeSession ? deviceCodeRemainingMs <= 0 : true\n  );\n\n  // Auth code flow session reactive bindings\n  const authCodeFlowSession = $derived(context?.authCodeFlowSession);\n  const authCodeFlowRemainingMs = $derived(\n    authCodeFlowSession ? Math.max(authCodeFlowSession.expiresAt - Date.now(), 0) : 0\n  );\n  const authCodeFlowExpiresInMinutes = $derived(\n    authCodeFlowSession ? Math.ceil(authCodeFlowRemainingMs / 60000) : 0\n  );\n  const authCodeFlowExpired = $derived(\n    authCodeFlowSession ? authCodeFlowRemainingMs <= 0 : true\n  );\n\n  // PAT error reactive bindings\n  const workItemsError = $derived(context?.workItemsError);\n  const workItemsErrorConnectionId = $derived(context?.workItemsErrorConnectionId);\n  const activeConnectionId = $derived(context?.activeConnectionId);\n  // const workItems = $derived(context?.workItems || context?.pendingWorkItems?.workItems || []);\n  // const hasWorkItems = $derived(workItems.length > 0);\n\n  // Get connection health error from UI state\n  const uiState = $derived(context?.ui);\n  const connectionHealth = $derived(uiState?.connectionHealth);\n  const connectionHealthError = $derived(connectionHealth?.lastError);\n  const hasConnectionHealthError = $derived(\n    connectionHealth?.status === 'error' &&\n    connectionHealthError &&\n    connectionHealthError.type === 'authentication'\n  );\n\n  // Auth reminders propagated from Praxis (serialized Map)\n  const pendingAuthReminders = $derived(context?.pendingAuthReminders);\n  const currentAuthReminder = $derived(\n    pendingAuthReminders && activeConnectionId\n      ? pendingAuthReminders instanceof Map\n        ? pendingAuthReminders.get(activeConnectionId)\n        : (pendingAuthReminders as Record<string, any>)[activeConnectionId]\n      : undefined\n  );\n\n  // Get active connection to check auth method\n  const connections = $derived(context?.connections || []);\n  const activeConnection = $derived(connections.find((c: any) => c.id === activeConnectionId));\n  const isEntraAuth = $derived(activeConnection?.authMethod === 'entra');\n\n  // Check if PAT error should be shown (only if it's for the active connection)\n  const showPatError = $derived(\n    workItemsError && \n    workItemsErrorConnectionId === activeConnectionId &&\n    !isEntraAuth // Don't show PAT error for Entra connections\n  );\n\n  // Work items auth error for Entra (when connectionHealth is absent)\n  const showWorkItemsEntraAuthError = $derived(\n    workItemsError &&\n    workItemsErrorConnectionId === activeConnectionId &&\n    isEntraAuth\n  );\n\n  // Base flags (avoid circular derivations)\n  const canShowDeviceCodeBase = $derived(\n    deviceCodeSession &&\n      !deviceCodeExpired &&\n      deviceCodeSession.connectionId === activeConnectionId\n  );\n  const canShowAuthCodeFlowBase = $derived(\n    authCodeFlowSession &&\n      !authCodeFlowExpired &&\n      authCodeFlowSession.connectionId === activeConnectionId\n  );\n  const entraAuthErrorEligible = $derived(\n    hasConnectionHealthError && !!activeConnectionId && isEntraAuth\n  );\n\n  // Final visibility flags - prioritize auth code flow > device code > error\n  const showAuthCodeFlow = $derived(Boolean(canShowAuthCodeFlowBase));\n  const showDeviceCode = $derived(Boolean(canShowDeviceCodeBase && !showAuthCodeFlow));\n  const showEntraAuthError = $derived(Boolean(entraAuthErrorEligible && !showDeviceCode && !showAuthCodeFlow));\n\n  // Auth reminder visibility (fallback when connectionHealth is absent)\n  const showAuthReminder = $derived(\n    Boolean(\n      currentAuthReminder &&\n      !showAuthCodeFlow &&\n      !showDeviceCode &&\n      !showEntraAuthError &&\n      !showWorkItemsEntraAuthError &&\n      !showPatError\n    )\n  );\n\n  function copyAndOpenDeviceCode() {\n    if (!deviceCodeSession) return;\n    // Delegate browser launch + clipboard to extension (webview sandbox limitations)\n    sendEvent({\n      type: 'OPEN_DEVICE_CODE_BROWSER',\n      connectionId: deviceCodeSession.connectionId,\n    });\n  }\n\n  function copyDeviceCodeOnly() {\n    if (!deviceCodeSession) return;\n    sendEvent({\n      type: 'COPY_DEVICE_CODE',\n      connectionId: deviceCodeSession.connectionId,\n    });\n  }\n\n  function handleRetry() {\n    sendEvent({ type: 'REFRESH_DATA' });\n  }\n\n  function handleOpenSettings() {\n    sendEvent({ type: 'OPEN_SETTINGS' });\n  }\n\n  function handleResetAuth() {\n    if (activeConnectionId) {\n      sendEvent({ type: 'RESET_AUTH', connectionId: activeConnectionId });\n    } else {\n      sendEvent({ type: 'RESET_AUTH' });\n    }\n  }\n\n  function handleCancelDeviceCode() {\n    if (deviceCodeSession) {\n      sendEvent({\n        type: 'SIGN_OUT_ENTRA',\n        connectionId: deviceCodeSession.connectionId,\n      });\n    }\n  }\n\n  function handleOpenAuthCodeFlowBrowser() {\n    if (!authCodeFlowSession) return;\n    sendEvent({\n      type: 'OPEN_AUTH_CODE_FLOW_BROWSER',\n      connectionId: authCodeFlowSession.connectionId,\n    });\n  }\n\n  function handleCancelAuthCodeFlow() {\n    if (authCodeFlowSession) {\n      sendEvent({\n        type: 'SIGN_OUT_ENTRA',\n        connectionId: authCodeFlowSession.connectionId,\n      });\n    }\n  }\n\n  function handleStartFreshAuth() {\n    // Open setup at the auth choice step so the user can pick a new auth type\n    // and acquire a fresh token (new PAT or new Entra device code flow).\n    handleResetAuth();\n  }\n\n  function startDeviceCodeSignIn() {\n    if (!isEntraAuth) return;\n\n    const connectionId = deviceCodeSession?.connectionId ?? activeConnectionId;\n    if (!connectionId) return;\n\n    sendEvent({\n      type: 'SIGN_IN_ENTRA',\n      connectionId,\n      forceInteractive: true,\n    });\n  }\n</script>\n\n{#if showAuthCodeFlow}\n  <!-- Entra Auth Code Flow Banner -->\n  <div class=\"auth-reminder-banner warning\">\n    <span class=\"auth-icon\">üîê</span>\n    <div class=\"auth-message-container\">\n      <span class=\"auth-message\">\n        Authentication Required: Complete sign-in in your browser ({authCodeFlowExpiresInMinutes}m left)\n      </span>\n    </div>\n    <div class=\"auth-actions\">\n      <button\n        class=\"auth-action\"\n        onclick={handleOpenAuthCodeFlowBrowser}\n        title=\"Open browser to complete sign-in\"\n        aria-label=\"Open browser to complete sign-in\"\n      >\n        <span class=\"codicon\">üåê</span>\n        Open browser\n      </button>\n      <button\n        class=\"auth-action secondary\"\n        onclick={handleCancelAuthCodeFlow}\n        title=\"Cancel authentication\"\n        aria-label=\"Cancel authentication\"\n      >\n        <span class=\"codicon\">‚úó</span>\n        Cancel\n      </button>\n    </div>\n  </div>\n{:else if showDeviceCode}\n  <!-- Entra Device Code Banner -->\n  <div class=\"auth-reminder-banner warning\">\n    <span class=\"auth-icon\">üîê</span>\n    <div class=\"auth-message-container\">\n      <span class=\"auth-message\">\n        Authentication Required: Enter code <strong>{deviceCodeSession.userCode}</strong> in your\n        browser ({deviceCodeExpiresInMinutes}m left)\n      </span>\n    </div>\n    <div class=\"auth-actions\">\n      <button\n        class=\"auth-action\"\n        onclick={copyDeviceCodeOnly}\n        title=\"Copy code\"\n        aria-label=\"Copy code\"\n      >\n        <span class=\"codicon\">üìã</span>\n        Copy code\n      </button>\n      <button\n        class=\"auth-action\"\n        onclick={copyAndOpenDeviceCode}\n        title=\"Copy code and open browser\"\n        aria-label=\"Copy code and open browser\"\n      >\n        <span class=\"codicon\">üåê</span>\n        Open browser\n      </button>\n      <button\n        class=\"auth-action secondary\"\n        onclick={handleCancelDeviceCode}\n        title=\"Cancel authentication\"\n        aria-label=\"Cancel authentication\"\n      >\n        <span class=\"codicon\">‚úó</span>\n        Cancel\n      </button>\n    </div>\n  </div>\n{:else if showEntraAuthError}\n  <!-- Entra Auth Failure Banner -->\n  <div class=\"auth-reminder-banner error\">\n    <span class=\"auth-icon\">‚ö†Ô∏è</span>\n    <div class=\"auth-message\">\n      <strong>Authentication Failed</strong>\n      <span class=\"error-detail\">\n        {connectionHealthError?.message || 'Entra ID authentication failed. Start a new sign-in to choose PAT or begin device code again.'}\n      </span>\n      {#if connectionHealthError?.suggestedAction}\n        <span class=\"error-hint\">Suggested: {connectionHealthError.suggestedAction}</span>\n      {/if}\n    </div>\n    <div class=\"auth-actions\">\n      <button class=\"auth-action\" onclick={startDeviceCodeSignIn}>\n        Start device code sign-in\n      </button>\n      <button class=\"auth-action\" onclick={handleStartFreshAuth}>\n        Change auth / start new sign-in\n      </button>\n      <button class=\"auth-action secondary\" onclick={handleOpenSettings}>Settings</button>\n    </div>\n  </div>\n{:else if showWorkItemsEntraAuthError}\n  <!-- Entra Auth Failure derived from work items error -->\n  <div class=\"auth-reminder-banner error\">\n    <span class=\"auth-icon\">‚ö†Ô∏è</span>\n    <div class=\"auth-message\">\n      <strong>Authentication Failed</strong>\n      <span class=\"error-detail\">\n        {workItemsError || 'Authentication failed. Start a new sign-in to choose PAT or device code.'}\n      </span>\n    </div>\n    <div class=\"auth-actions\">\n      <button class=\"auth-action\" onclick={startDeviceCodeSignIn}>\n        Start device code sign-in\n      </button>\n      <button class=\"auth-action\" onclick={handleStartFreshAuth}>\n        Change auth / start new sign-in\n      </button>\n      <button class=\"auth-action secondary\" onclick={handleOpenSettings}>Settings</button>\n    </div>\n  </div>\n{:else if showPatError}\n  <!-- PAT Reauth Banner -->\n  <div class=\"auth-reminder-banner error\">\n    <span class=\"auth-icon\">‚ö†</span>\n    <span class=\"auth-message\">{workItemsError}</span>\n    <div class=\"auth-actions\">\n      <button class=\"auth-action\" onclick={handleRetry}>Retry</button>\n      <button class=\"auth-action\" onclick={handleStartFreshAuth}>Change auth / start new sign-in</button>\n      <button class=\"auth-action secondary\" onclick={handleOpenSettings}>Settings</button>\n    </div>\n  </div>\n{:else if showAuthReminder}\n  <!-- Auth Reminder (fallback when connectionHealth is absent) -->\n  <div class=\"auth-reminder-banner error\">\n    <span class=\"auth-icon\">‚ö†Ô∏è</span>\n    <div class=\"auth-message\">\n      <strong>Authentication Required</strong>\n      <span class=\"error-detail\">{currentAuthReminder?.reason || 'Sign in to continue.'}</span>\n    </div>\n    <div class=\"auth-actions\">\n      {#if isEntraAuth}\n        <button class=\"auth-action\" onclick={startDeviceCodeSignIn}>\n          Start device code sign-in\n        </button>\n        <button class=\"auth-action\" onclick={handleStartFreshAuth}>\n          Change auth / start new sign-in\n        </button>\n      {:else}\n        <button class=\"auth-action\" onclick={handleRetry}>Retry</button>\n      {/if}\n      <button class=\"auth-action secondary\" onclick={handleOpenSettings}>Settings</button>\n    </div>\n  </div>\n{/if}\n\n<style>\n  .auth-reminder-banner {\n    display: flex;\n    align-items: flex-start;\n    flex-wrap: wrap;\n    gap: 0.75rem;\n    padding: 0.75rem 1rem;\n    border-radius: 4px;\n    margin-bottom: 1rem;\n    color: var(--vscode-foreground);\n    max-width: 100%;\n    box-sizing: border-box;\n  }\n\n  .auth-reminder-banner.error {\n    background: var(--vscode-inputValidation-errorBackground);\n    border: 1px solid var(--vscode-inputValidation-errorBorder);\n    color: var(--vscode-errorForeground);\n  }\n\n  .auth-reminder-banner.warning {\n    background: var(--vscode-inputValidation-warningBackground);\n    border: 1px solid var(--vscode-inputValidation-warningBorder);\n    color: var(--vscode-foreground);\n  }\n\n  .auth-icon {\n    font-size: 1.2rem;\n    flex-shrink: 0;\n  }\n\n  .auth-message-container {\n    flex: 1 1 0;\n    min-width: 0;\n    max-width: 100%;\n  }\n\n  .auth-message {\n    font-size: 0.9rem;\n    word-wrap: break-word;\n    overflow-wrap: break-word;\n  }\n\n  div.auth-message {\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n  }\n\n  .auth-message strong {\n    font-weight: 600;\n    font-size: 0.95rem;\n  }\n\n  .error-detail {\n    font-size: 0.85rem;\n    opacity: 0.9;\n  }\n\n  .error-hint {\n    font-size: 0.8rem;\n    font-style: italic;\n    opacity: 0.8;\n    margin-top: 0.25rem;\n  }\n\n  .auth-actions {\n    display: flex;\n    gap: 0.5rem;\n    flex-shrink: 0;\n    flex-wrap: wrap;\n    align-items: center;\n    flex-basis: auto;\n  }\n\n  /* Force buttons to wrap below text when space is limited */\n  /* Stack vertically on smaller/medium screens to prevent overflow */\n  @media (max-width: 800px) {\n    .auth-reminder-banner {\n      flex-direction: column;\n      align-items: stretch;\n    }\n\n    .auth-message-container {\n      width: 100%;\n      max-width: 100%;\n      margin-bottom: 0.5rem;\n    }\n\n    .auth-actions {\n      width: 100%;\n      justify-content: flex-end;\n    }\n  }\n\n  .auth-action {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-width: 2rem;\n    height: 2rem;\n    padding: 0 0.6rem;\n    margin: 0;\n    background: transparent;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    color: var(--vscode-icon-foreground);\n    transition: background-color 0.2s ease;\n  }\n\n  .auth-action:hover {\n    background: var(--vscode-toolbar-hoverBackground);\n  }\n\n  .auth-action:active {\n    background: var(--vscode-toolbar-activeBackground);\n  }\n\n  .auth-action .codicon {\n    font-family: 'codicon';\n    font-size: 16px;\n    font-weight: normal;\n    font-style: normal;\n    line-height: 1;\n    display: inline-block;\n    text-decoration: none;\n    text-rendering: auto;\n    text-align: center;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    user-select: none;\n  }\n\n  .auth-action.secondary {\n    opacity: 0.8;\n  }\n\n  .auth-action.secondary:hover {\n    opacity: 1;\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/WebviewHeader.svelte\nOwner: webview\nPurpose: Custom header with action buttons matching VS Code header functionality\n-->\n<script lang=\"ts\">\n  interface Props {\n    context?: any;\n    sendEvent?: (event: any) => void;\n  }\n  \n  const { context, sendEvent }: Props = $props();\n  \n  // Refresh button state for animation\n  let isRefreshing = $state(false);\n  \n  function handleRefresh() {\n    isRefreshing = true;\n    // Send REFRESH_DATA message to extension\n    sendEvent?.({ type: 'REFRESH_DATA' });\n    // Reset animation state after 500ms\n    setTimeout(() => {\n      isRefreshing = false;\n    }, 500);\n  }\n  \n  function handleToggleKanban() {\n    sendEvent?.({ type: 'TOGGLE_VIEW' });\n  }\n  \n  function handleCreateWorkItem() {\n    sendEvent?.({ type: 'CREATE_WORK_ITEM' });\n  }\n  \n  function handleSetup() {\n    sendEvent?.({ type: 'MANAGE_CONNECTIONS' });\n  }\n  \n  function handleToggleDebug() {\n    sendEvent?.({ type: 'TOGGLE_DEBUG_VIEW' });\n  }\n  \n  // Show debug button only if debug logging is enabled\n  const showDebugButton = $derived(context?.debugLoggingEnabled === true);\n</script>\n\n<header class=\"webview-header\">\n  <div class=\"header-actions\">\n    <!-- Toggle Kanban View -->\n    <button\n      class=\"header-btn\"\n      onclick={handleToggleKanban}\n      title=\"Toggle Kanban View\"\n      aria-label=\"Toggle Kanban View\"\n    >\n      <span class=\"codicon\">‚öè</span>\n    </button>\n    \n    <!-- Refresh Work Items -->\n    <button\n      class=\"header-btn {isRefreshing ? 'refreshing' : ''}\"\n      onclick={handleRefresh}\n      title=\"Refresh Work Items (R)\"\n      aria-label=\"Refresh Work Items\"\n    >\n      <span class=\"codicon\">‚Üª</span>\n    </button>\n    \n    <!-- Create Work Item -->\n    <button\n      class=\"header-btn\"\n      onclick={handleCreateWorkItem}\n      title=\"Create Work Item\"\n      aria-label=\"Create Work Item\"\n    >\n      <span class=\"codicon\">Ôºã</span>\n    </button>\n    \n    <!-- Setup/Manage Connections -->\n    <button\n      class=\"header-btn\"\n      onclick={handleSetup}\n      title=\"Setup or Manage Connections\"\n      aria-label=\"Setup or Manage Connections\"\n    >\n      <span class=\"codicon\">‚öô</span>\n    </button>\n    \n    <!-- Toggle Debug View (conditional) -->\n    {#if showDebugButton}\n      <button\n        class=\"header-btn\"\n        onclick={handleToggleDebug}\n        title=\"Toggle Debug View\"\n        aria-label=\"Toggle Debug View\"\n      >\n        <span class=\"codicon\">üêõ</span>\n      </button>\n    {/if}\n  </div>\n</header>\n\n<style>\n  .webview-header {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 0;\n    border-bottom: 1px solid var(--vscode-panel-border);\n    background: transparent;\n  }\n  \n  .header-actions {\n    display: flex;\n    gap: 0.25rem;\n    align-items: center;\n  }\n  \n  .header-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 2rem;\n    height: 2rem;\n    padding: 0;\n    margin: 0;\n    background: transparent;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    color: var(--vscode-icon-foreground);\n    transition: background-color 0.2s ease;\n  }\n  \n  .header-btn:hover {\n    background: var(--vscode-toolbar-hoverBackground);\n  }\n  \n  .header-btn:active {\n    background: var(--vscode-toolbar-activeBackground);\n  }\n  \n  .header-btn .codicon {\n    font-family: 'codicon';\n    font-size: 16px;\n    font-weight: normal;\n    font-style: normal;\n    line-height: 1;\n    display: inline-block;\n    text-decoration: none;\n    text-rendering: auto;\n    text-align: center;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    user-select: none;\n  }\n  \n  /* Refresh animation */\n  .header-btn.refreshing .codicon {\n    animation: spin 500ms ease-in-out;\n  }\n  \n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n</style>\n\n", "<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte';\n\n  export let type: 'success' | 'error' | 'info' | 'warning' = 'info';\n  export let message: string;\n\n  const dispatch = createEventDispatcher();\n\n  function dismiss() {\n    dispatch('dismiss');\n  }\n\n  // Auto-dismiss after 5 seconds for success/info\n  if (type === 'success' || type === 'info') {\n    setTimeout(dismiss, 5000);\n  }\n</script>\n\n<div class=\"notification {type}\" role=\"alert\">\n  <span class=\"message\">{message}</span>\n  <button class=\"close-btn\" on:click={dismiss} aria-label=\"Close\">√ó</button>\n</div>\n\n<style>\n  .notification {\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    padding: 12px 16px;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    min-width: 300px;\n    max-width: 400px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    z-index: 1000;\n    animation: slideIn 0.3s ease-out;\n  }\n\n  .success {\n    background-color: var(--vscode-notificationsInfoIcon-foreground, #3794ff);\n    color: white;\n  }\n\n  .error {\n    background-color: var(--vscode-notificationsErrorIcon-foreground, #f14c4c);\n    color: white;\n  }\n\n  .info {\n    background-color: var(--vscode-notificationsInfoIcon-foreground, #3794ff);\n    color: white;\n  }\n\n  .warning {\n    background-color: var(--vscode-notificationsWarningIcon-foreground, #cca700);\n    color: white;\n  }\n\n  .message {\n    flex-grow: 1;\n    margin-right: 12px;\n  }\n\n  .close-btn {\n    background: none;\n    border: none;\n    color: inherit;\n    font-size: 20px;\n    cursor: pointer;\n    padding: 0;\n    line-height: 1;\n    opacity: 0.8;\n  }\n\n  .close-btn:hover {\n    opacity: 1;\n  }\n\n  @keyframes slideIn {\n    from {\n      transform: translateY(100%);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n</style>\n", "<script lang=\"ts\">\n  import { createEventDispatcher } from 'svelte';\n\n  export let workItemId: number;\n  export let mode: string = 'addComment';\n\n  let comment = '';\n  let isSubmitting = false;\n\n  const dispatch = createEventDispatcher();\n\n  function cancel() {\n    dispatch('cancel');\n  }\n\n  function submit() {\n    if (!comment.trim()) return;\n    isSubmitting = true;\n    dispatch('submit', { workItemId, comment, mode });\n  }\n</script>\n\n<div class=\"modal-overlay\">\n  <div class=\"modal\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-title\">\n    <h3 id=\"modal-title\">Add Comment to Work Item #{workItemId}</h3>\n    \n    <div class=\"content\">\n      <textarea\n        bind:value={comment}\n        placeholder=\"Type your comment here...\"\n        rows=\"5\"\n        disabled={isSubmitting}\n      ></textarea>\n    </div>\n\n    <div class=\"actions\">\n      <button class=\"secondary\" on:click={cancel} disabled={isSubmitting}>Cancel</button>\n      <button class=\"primary\" on:click={submit} disabled={isSubmitting || !comment.trim()}>\n        {isSubmitting ? 'Submitting...' : 'Add Comment'}\n      </button>\n    </div>\n  </div>\n</div>\n\n<style>\n  .modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n  }\n\n  .modal {\n    background-color: var(--vscode-editor-background);\n    border: 1px solid var(--vscode-widget-border);\n    border-radius: 6px;\n    padding: 20px;\n    width: 500px;\n    max-width: 90%;\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25);\n  }\n\n  h3 {\n    margin-top: 0;\n    margin-bottom: 16px;\n    color: var(--vscode-foreground);\n  }\n\n  textarea {\n    width: 100%;\n    background-color: var(--vscode-input-background);\n    color: var(--vscode-input-foreground);\n    border: 1px solid var(--vscode-input-border);\n    border-radius: 2px;\n    padding: 8px;\n    font-family: inherit;\n    resize: vertical;\n    box-sizing: border-box;\n  }\n\n  textarea:focus {\n    outline: 1px solid var(--vscode-focusBorder);\n    border-color: var(--vscode-focusBorder);\n  }\n\n  .actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 12px;\n    margin-top: 16px;\n  }\n\n  button {\n    padding: 6px 14px;\n    border-radius: 2px;\n    cursor: pointer;\n    font-size: 13px;\n    border: 1px solid transparent;\n  }\n\n  button.primary {\n    background-color: var(--vscode-button-background);\n    color: var(--vscode-button-foreground);\n  }\n\n  button.primary:hover:not(:disabled) {\n    background-color: var(--vscode-button-hoverBackground);\n  }\n\n  button.secondary {\n    background-color: var(--vscode-button-secondaryBackground);\n    color: var(--vscode-button-secondaryForeground);\n  }\n\n  button.secondary:hover:not(:disabled) {\n    background-color: var(--vscode-button-secondaryHoverBackground);\n  }\n\n  button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n</style>\n", "<!--\nModule: src/webview/components/HistoryControls.svelte\nOwner: webview\nPurpose: Undo/Redo controls using Praxis history engine\n-->\n\n<script lang=\"ts\">\n  import { history } from '../praxis/store.js';\n  \n  // Reactive state for undo/redo availability\n  let canUndo = $state(history.canUndo());\n  let canRedo = $state(history.canRedo());\n  \n  // Update availability when history changes\n  $effect(() => {\n    // Check availability periodically (could be improved with proper subscription)\n    const interval = setInterval(() => {\n      canUndo = history.canUndo();\n      canRedo = history.canRedo();\n    }, 100);\n    \n    return () => clearInterval(interval);\n  });\n  \n  function handleUndo() {\n    console.debug('[HistoryControls] Undo clicked');\n    if (history.canUndo()) {\n      const result = history.undo();\n      console.debug('[HistoryControls] Undo result:', result);\n      canUndo = history.canUndo();\n      canRedo = history.canRedo();\n    } else {\n      console.debug('[HistoryControls] Cannot undo - no history');\n    }\n  }\n  \n  function handleRedo() {\n    console.debug('[HistoryControls] Redo clicked');\n    if (history.canRedo()) {\n      const result = history.redo();\n      console.debug('[HistoryControls] Redo result:', result);\n      canUndo = history.canUndo();\n      canRedo = history.canRedo();\n    } else {\n      console.debug('[HistoryControls] Cannot redo - at end of history');\n    }\n  }\n</script>\n\n<div class=\"history-controls\">\n  <button \n    class=\"history-button undo\" \n    onclick={handleUndo}\n    disabled={!canUndo}\n    title=\"Undo last action (Ctrl+Z)\"\n  >\n    ‚ü≤ Undo\n  </button>\n  <button \n    class=\"history-button redo\" \n    onclick={handleRedo}\n    disabled={!canRedo}\n    title=\"Redo last action (Ctrl+Shift+Z)\"\n  >\n    ‚ü≥ Redo\n  </button>\n</div>\n\n<style>\n  .history-controls {\n    display: flex;\n    gap: 0.5rem;\n    align-items: center;\n  }\n  \n  .history-button {\n    padding: 0.25rem 0.5rem;\n    font-size: 0.875rem;\n    border: 1px solid var(--vscode-button-border, transparent);\n    background: var(--vscode-button-secondaryBackground);\n    color: var(--vscode-button-secondaryForeground);\n    cursor: pointer;\n    border-radius: 2px;\n    transition: opacity 0.2s;\n  }\n  \n  .history-button:hover:not(:disabled) {\n    background: var(--vscode-button-secondaryHoverBackground);\n  }\n  \n  .history-button:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/HistoryTimeline.svelte\nOwner: webview\nPurpose: Visual timeline for navigating through state history\n-->\n\n<script lang=\"ts\">\n  import { history } from '../praxis/store.js';\n  import { diffStates, formatDiff, getDiffSummary } from '../../debugging/stateDiff.js';\n  import type { ApplicationEngineContext } from '../../praxis/application/engine.js';\n  import type { HistoryEntry } from '@plures/praxis/svelte';\n  \n  let historyEntries = $state(history.getHistory());\n  let currentIndex = $state(historyEntries.length - 1);\n  let selectedIndex = $state<number | null>(null);\n  let showDiff = $state(false);\n  let diffFromIndex = $state<number | null>(null);\n  \n  // Update history when it changes\n  $effect(() => {\n    const interval = setInterval(() => {\n      const newEntries = history.getHistory();\n      if (newEntries.length !== historyEntries.length) {\n        historyEntries = newEntries;\n        currentIndex = historyEntries.length - 1;\n      }\n    }, 100);\n    \n    return () => clearInterval(interval);\n  });\n  \n  function goToSnapshot(index: number) {\n    if (history.goToHistory(index)) {\n      currentIndex = index;\n      selectedIndex = index;\n    }\n  }\n  \n  function compareSnapshots(index1: number, index2: number) {\n    const entry1 = historyEntries[index1];\n    const entry2 = historyEntries[index2];\n    \n    if (!entry1 || !entry2) return null;\n    \n    const diff = diffStates(\n      entry1.state.context as ApplicationEngineContext,\n      entry2.state.context as ApplicationEngineContext\n    );\n    \n    return diff;\n  }\n  \n  function showDiffBetween(index1: number, index2: number) {\n    diffFromIndex = index1;\n    selectedIndex = index2;\n    showDiff = true;\n  }\n  \n  function formatTimestamp(timestamp: number): string {\n    return new Date(timestamp).toLocaleTimeString();\n  }\n  \n  function formatEventTag(tag: string): string {\n    return tag\n      .replace(/_/g, ' ')\n      .replace(/([A-Z])/g, ' $1')\n      .trim();\n  }\n  \n  const selectedDiff = $derived.by(() => {\n    if (!showDiff || diffFromIndex === null || selectedIndex === null) {\n      return null;\n    }\n    return compareSnapshots(diffFromIndex, selectedIndex);\n  });\n</script>\n\n<div class=\"history-timeline-container\">\n  <div class=\"timeline-header\">\n    <h3>State History Timeline</h3>\n    <div class=\"timeline-controls\">\n      <button \n        class=\"control-button\" \n        onclick={() => history.clearHistory()}\n        title=\"Clear history\"\n      >\n        Clear\n      </button>\n      <span class=\"history-count\">\n        {historyEntries.length} snapshots\n      </span>\n    </div>\n  </div>\n  \n  <div class=\"timeline-entries\">\n    {#each historyEntries as entry, index}\n      <div \n        class=\"timeline-entry\" \n        class:active={index === currentIndex}\n        class:selected={index === selectedIndex}\n        onclick={() => goToSnapshot(index)}\n        title=\"Click to jump to this snapshot\"\n      >\n        <div class=\"entry-index\">{index}</div>\n        <div class=\"entry-content\">\n          <div class=\"entry-state\">{entry.state.state}</div>\n          {#if entry.label}\n            <div class=\"entry-label\">{entry.label}</div>\n          {/if}\n          {#if entry.events && entry.events.length > 0}\n            <div class=\"entry-events\">\n              {#each entry.events.slice(0, 2) as event}\n                <span class=\"event-tag\">{formatEventTag(event.tag)}</span>\n              {/each}\n              {#if entry.events.length > 2}\n                <span class=\"event-more\">+{entry.events.length - 2} more</span>\n              {/if}\n            </div>\n          {/if}\n          <div class=\"entry-timestamp\">{formatTimestamp(entry.timestamp)}</div>\n        </div>\n        <div class=\"entry-actions\">\n          {#if index > 0}\n            <button \n              class=\"action-button\"\n              onclick={(e) => {\n                e.stopPropagation();\n                showDiffBetween(index - 1, index);\n              }}\n              title=\"Compare with previous\"\n            >\n              Diff\n            </button>\n          {/if}\n        </div>\n      </div>\n    {/each}\n  </div>\n  \n  {#if showDiff && selectedDiff && diffFromIndex !== null && selectedIndex !== null}\n    <div class=\"diff-panel\">\n      <div class=\"diff-header\">\n        <h4>State Diff</h4>\n        <button class=\"close-button\" onclick={() => showDiff = false}>√ó</button>\n      </div>\n      <div class=\"diff-content\">\n        <div class=\"diff-summary\">\n          {getDiffSummary(selectedDiff)}\n        </div>\n        <pre class=\"diff-text\">{formatDiff(selectedDiff)}</pre>\n      </div>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .history-timeline-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    background: var(--vscode-editor-background);\n    border: 1px solid var(--vscode-panel-border);\n    border-radius: 4px;\n  }\n  \n  .timeline-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.5rem 1rem;\n    border-bottom: 1px solid var(--vscode-panel-border);\n  }\n  \n  .timeline-header h3 {\n    margin: 0;\n    font-size: 0.875rem;\n    font-weight: 600;\n  }\n  \n  .timeline-controls {\n    display: flex;\n    gap: 0.5rem;\n    align-items: center;\n  }\n  \n  .control-button {\n    padding: 0.25rem 0.5rem;\n    font-size: 0.75rem;\n    background: var(--vscode-button-secondaryBackground);\n    color: var(--vscode-button-secondaryForeground);\n    border: 1px solid var(--vscode-button-border);\n    border-radius: 2px;\n    cursor: pointer;\n  }\n  \n  .control-button:hover {\n    background: var(--vscode-button-secondaryHoverBackground);\n  }\n  \n  .history-count {\n    font-size: 0.75rem;\n    color: var(--vscode-descriptionForeground);\n  }\n  \n  .timeline-entries {\n    flex: 1;\n    overflow-y: auto;\n    padding: 0.5rem;\n  }\n  \n  .timeline-entry {\n    display: flex;\n    gap: 0.5rem;\n    padding: 0.5rem;\n    margin-bottom: 0.25rem;\n    border: 1px solid var(--vscode-panel-border);\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background 0.2s;\n  }\n  \n  .timeline-entry:hover {\n    background: var(--vscode-list-hoverBackground);\n  }\n  \n  .timeline-entry.active {\n    border-color: var(--vscode-focusBorder);\n    background: var(--vscode-list-activeSelectionBackground);\n  }\n  \n  .timeline-entry.selected {\n    border-color: var(--vscode-button-background);\n  }\n  \n  .entry-index {\n    font-weight: 600;\n    color: var(--vscode-descriptionForeground);\n    min-width: 2rem;\n  }\n  \n  .entry-content {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n  }\n  \n  .entry-state {\n    font-weight: 600;\n    color: var(--vscode-foreground);\n  }\n  \n  .entry-label {\n    font-size: 0.75rem;\n    color: var(--vscode-descriptionForeground);\n    font-style: italic;\n  }\n  \n  .entry-events {\n    display: flex;\n    gap: 0.25rem;\n    flex-wrap: wrap;\n  }\n  \n  .event-tag {\n    font-size: 0.7rem;\n    padding: 0.125rem 0.25rem;\n    background: var(--vscode-badge-background);\n    color: var(--vscode-badge-foreground);\n    border-radius: 2px;\n  }\n  \n  .event-more {\n    font-size: 0.7rem;\n    color: var(--vscode-descriptionForeground);\n  }\n  \n  .entry-timestamp {\n    font-size: 0.7rem;\n    color: var(--vscode-descriptionForeground);\n  }\n  \n  .entry-actions {\n    display: flex;\n    gap: 0.25rem;\n  }\n  \n  .action-button {\n    padding: 0.125rem 0.5rem;\n    font-size: 0.7rem;\n    background: var(--vscode-button-secondaryBackground);\n    color: var(--vscode-button-secondaryForeground);\n    border: 1px solid var(--vscode-button-border);\n    border-radius: 2px;\n    cursor: pointer;\n  }\n  \n  .action-button:hover {\n    background: var(--vscode-button-secondaryHoverBackground);\n  }\n  \n  .diff-panel {\n    border-top: 1px solid var(--vscode-panel-border);\n    max-height: 300px;\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .diff-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.5rem 1rem;\n    background: var(--vscode-editor-background);\n  }\n  \n  .diff-header h4 {\n    margin: 0;\n    font-size: 0.875rem;\n  }\n  \n  .close-button {\n    background: none;\n    border: none;\n    color: var(--vscode-foreground);\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: 0;\n    width: 1.5rem;\n    height: 1.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .diff-content {\n    flex: 1;\n    overflow-y: auto;\n    padding: 0.5rem 1rem;\n  }\n  \n  .diff-summary {\n    font-weight: 600;\n    margin-bottom: 0.5rem;\n    color: var(--vscode-foreground);\n  }\n  \n  .diff-text {\n    font-family: monospace;\n    font-size: 0.75rem;\n    white-space: pre-wrap;\n    color: var(--vscode-foreground);\n    margin: 0;\n  }\n</style>\n\n", "<!--\nModule: src/webview/components/PerformanceDashboard.svelte\nOwner: webview\nPurpose: Visual dashboard for analyzing state transition performance\n-->\n\n<script lang=\"ts\">\n  import { PerformanceProfiler } from '../../debugging/performanceProfiler.js';\n  import type { PerformanceProfile } from '../../debugging/performanceProfiler.js';\n  \n  let profile = $state<PerformanceProfile | null>(null);\n  let threshold = $state(100); // ms\n  let showSlowOnly = $state(false);\n  \n  // Update profile periodically\n  $effect(() => {\n    const interval = setInterval(() => {\n      profile = PerformanceProfiler.profileHistory();\n    }, 1000);\n    \n    return () => clearInterval(interval);\n  });\n  \n  function formatDuration(ms: number): string {\n    if (ms < 1) return `${(ms * 1000).toFixed(0)}Œºs`;\n    if (ms < 1000) return `${ms.toFixed(2)}ms`;\n    return `${(ms / 1000).toFixed(2)}s`;\n  }\n  \n  function formatSize(bytes: number): string {\n    if (bytes < 1024) return `${bytes}B`;\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(2)}KB`;\n    return `${(bytes / (1024 * 1024)).toFixed(2)}MB`;\n  }\n  \n  const displayedTransitions = $derived.by(() => {\n    if (!profile) return [];\n    \n    if (showSlowOnly) {\n      return profile.transitions.filter(t => t.duration > threshold);\n    }\n    \n    return profile.transitions;\n  });\n  \n  const slowTransitions = $derived.by(() => {\n    if (!profile) return [];\n    return PerformanceProfiler.getSlowTransitions(threshold);\n  });\n</script>\n\n<div class=\"performance-dashboard\">\n  <div class=\"dashboard-header\">\n    <h3>Performance Dashboard</h3>\n    <div class=\"dashboard-controls\">\n      <label>\n        <input type=\"checkbox\" bind:checked={showSlowOnly} />\n        Show slow only (&gt; {threshold}ms)\n      </label>\n      <input \n        type=\"range\" \n        min=\"0\" \n        max=\"1000\" \n        step=\"10\" \n        bind:value={threshold}\n        class=\"threshold-slider\"\n      />\n      <span class=\"threshold-value\">{threshold}ms</span>\n    </div>\n  </div>\n  \n  {#if profile}\n    <div class=\"dashboard-summary\">\n      <div class=\"summary-item\">\n        <span class=\"summary-label\">Total Transitions</span>\n        <span class=\"summary-value\">{profile.summary.totalTransitions}</span>\n      </div>\n      <div class=\"summary-item\">\n        <span class=\"summary-label\">Avg Transition</span>\n        <span class=\"summary-value\">{formatDuration(profile.summary.averageTransitionTime)}</span>\n      </div>\n      <div class=\"summary-item\">\n        <span class=\"summary-label\">Total Duration</span>\n        <span class=\"summary-value\">{formatDuration(profile.summary.totalDuration)}</span>\n      </div>\n      <div class=\"summary-item\">\n        <span class=\"summary-label\">Avg Context Size</span>\n        <span class=\"summary-value\">{formatSize(profile.summary.averageContextSize)}</span>\n      </div>\n    </div>\n    \n    {#if slowTransitions.length > 0}\n      <div class=\"slow-transitions\">\n        <h4>Slow Transitions (&gt; {threshold}ms)</h4>\n        <div class=\"transitions-list\">\n          {#each slowTransitions as transition}\n            <div class=\"transition-item slow\">\n              <div class=\"transition-header\">\n                <span class=\"transition-states\">\n                  {transition.from} ‚Üí {transition.to}\n                </span>\n                <span class=\"transition-duration slow\">\n                  {formatDuration(transition.duration)}\n                </span>\n              </div>\n              <div class=\"transition-details\">\n                <span>{transition.eventCount} events</span>\n                <span>{formatSize(transition.contextSize)}</span>\n                {#if transition.label}\n                  <span class=\"transition-label\">{transition.label}</span>\n                {/if}\n              </div>\n            </div>\n          {/each}\n        </div>\n      </div>\n    {/if}\n    \n    <div class=\"all-transitions\">\n      <h4>All Transitions</h4>\n      <div class=\"transitions-list\">\n        {#each displayedTransitions as transition}\n          <div class=\"transition-item\" class:slow={transition.duration > threshold}>\n            <div class=\"transition-header\">\n              <span class=\"transition-states\">\n                {transition.from} ‚Üí {transition.to}\n              </span>\n              <span class=\"transition-duration\" class:slow={transition.duration > threshold}>\n                {formatDuration(transition.duration)}\n              </span>\n            </div>\n            <div class=\"transition-details\">\n              <span>{transition.eventCount} events</span>\n              <span>{formatSize(transition.contextSize)}</span>\n              {#if transition.label}\n                <span class=\"transition-label\">{transition.label}</span>\n              {/if}\n            </div>\n          </div>\n        {/each}\n      </div>\n    </div>\n  {:else}\n    <div class=\"no-data\">\n      <p>No performance data available. Perform some actions to see metrics.</p>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .performance-dashboard {\n    padding: 1rem;\n    background: var(--vscode-editor-background);\n    border: 1px solid var(--vscode-panel-border);\n    border-radius: 4px;\n    font-family: var(--vscode-font-family);\n  }\n  \n  .dashboard-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n    padding-bottom: 0.5rem;\n    border-bottom: 1px solid var(--vscode-panel-border);\n  }\n  \n  .dashboard-header h3 {\n    margin: 0;\n    font-size: 1rem;\n  }\n  \n  .dashboard-controls {\n    display: flex;\n    gap: 1rem;\n    align-items: center;\n  }\n  \n  .threshold-slider {\n    width: 100px;\n  }\n  \n  .threshold-value {\n    font-size: 0.875rem;\n    color: var(--vscode-descriptionForeground);\n    min-width: 50px;\n  }\n  \n  .dashboard-summary {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    gap: 1rem;\n    margin-bottom: 1.5rem;\n  }\n  \n  .summary-item {\n    display: flex;\n    flex-direction: column;\n    padding: 0.5rem;\n    background: var(--vscode-editorWidget-background);\n    border-radius: 4px;\n  }\n  \n  .summary-label {\n    font-size: 0.75rem;\n    color: var(--vscode-descriptionForeground);\n    margin-bottom: 0.25rem;\n  }\n  \n  .summary-value {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: var(--vscode-foreground);\n  }\n  \n  .slow-transitions,\n  .all-transitions {\n    margin-top: 1.5rem;\n  }\n  \n  .slow-transitions h4,\n  .all-transitions h4 {\n    margin: 0 0 0.5rem 0;\n    font-size: 0.875rem;\n    color: var(--vscode-foreground);\n  }\n  \n  .transitions-list {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n    max-height: 400px;\n    overflow-y: auto;\n  }\n  \n  .transition-item {\n    padding: 0.5rem;\n    background: var(--vscode-editorWidget-background);\n    border: 1px solid var(--vscode-panel-border);\n    border-radius: 4px;\n    transition: border-color 0.2s;\n  }\n  \n  .transition-item.slow {\n    border-color: var(--vscode-errorForeground);\n    background: var(--vscode-inputValidation-errorBackground);\n  }\n  \n  .transition-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 0.25rem;\n  }\n  \n  .transition-states {\n    font-weight: 600;\n    color: var(--vscode-foreground);\n  }\n  \n  .transition-duration {\n    font-size: 0.875rem;\n    color: var(--vscode-descriptionForeground);\n  }\n  \n  .transition-duration.slow {\n    color: var(--vscode-errorForeground);\n    font-weight: 600;\n  }\n  \n  .transition-details {\n    display: flex;\n    gap: 1rem;\n    font-size: 0.75rem;\n    color: var(--vscode-descriptionForeground);\n  }\n  \n  .transition-label {\n    font-style: italic;\n  }\n  \n  .no-data {\n    padding: 2rem;\n    text-align: center;\n    color: var(--vscode-descriptionForeground);\n  }\n</style>\n\n", "<!--\nModule: src/webview/App.svelte\nOwner: webview\nReads: syncState from extension (ApplicationContext serialized)\nWrites: UI-only events; selection via selection writer factory (webview-owned)\nReceives: syncState, host broadcasts\nEmits: appEvent envelopes (Router handles stamping)\nProhibitions: Do not import extension host modules; Do not define context types\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\n\nLLM-GUARD:\n- Use selection writer factory for selection updates\n- Do not route by connection here; let Router decide targets\n-->\n<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { get } from 'svelte/store';\n  import { praxisStore } from './praxis/store.js';\n  import { applicationSnapshot } from './praxisSnapshotStore.js';\n  // import Settings from './components/Settings.svelte';\n  import ConnectionTabs from './components/ConnectionTabs.svelte';\n  import ConnectionViews from './components/ConnectionViews.svelte';\n  import AuthReminder from './components/AuthReminder.svelte';\n  import WebviewHeader from './components/WebviewHeader.svelte';\n  import Notification from './components/Notification.svelte';\n  import ComposeCommentDialog from './components/ComposeCommentDialog.svelte';\n  import HistoryControls from './components/HistoryControls.svelte';\n  import HistoryTimeline from './components/HistoryTimeline.svelte';\n  import PerformanceDashboard from './components/PerformanceDashboard.svelte';\n  \n  // ConnectionViews component uses export let syntax for proper TypeScript inference\n\n  console.debug('[webview] App.svelte initializing');\n\n  // Reactive Praxis state from webview store\n  let currentState = $state(get(praxisStore) as any);\n  let snapshotState = $state(get(applicationSnapshot) as any);\n  \n  // Subscribe to store updates\n  $effect(() => {\n    const unsubscribe = praxisStore.subscribe((value) => {\n      // Automatic logging will capture this\n      currentState = value;\n    });\n    return unsubscribe;\n  });\n  \n  // Also subscribe to applicationSnapshot for immediate updates\n  // This ensures we get updates even if the Praxis store hasn't updated yet\n  $effect(() => {\n    const unsubscribe = applicationSnapshot.subscribe((snapshot) => {\n      // Automatic logging will capture this\n      snapshotState = snapshot;\n      // Also update currentState if snapshot has data and store doesn't\n      if (snapshot && snapshot.context && (!currentState?.context || currentState.context.connections?.length === 0)) {\n        currentState = {\n          value: snapshot.value || currentState?.value,\n          context: snapshot.context,\n          matches: snapshot.matches || currentState?.matches || {},\n        };\n      }\n    });\n    return unsubscribe;\n  });\n  \n  // The Praxis store context is the ApplicationEngineContext directly, not nested under 'app'\n  // CRITICAL: Use $derived to ensure reactivity - reads from reactive $state variables\n  const appContext = $derived.by(() => {\n    const storeContext = currentState?.context;\n    const snapshotContext = snapshotState?.context;\n    \n    // Prefer store context if it has connections or substantial data\n    if (storeContext && (storeContext.connections?.length > 0 || Object.keys(storeContext).length > 5)) {\n      return storeContext;\n    }\n    \n    // Fallback to snapshot context (updated directly from syncState messages)\n    if (snapshotContext && (snapshotContext.connections?.length > 0 || Object.keys(snapshotContext).length > 5)) {\n      return snapshotContext;\n    }\n    \n    // Return whichever has data, preferring store\n    return storeContext || snapshotContext || {};\n  });\n  // const uiContext = $derived(currentState.context.ui);\n\n  // Debug snapshot reactivity\n  $effect(() => {\n    console.debug('[AzureDevOpsInt][webview] App reactive - context:', {\n      appState: appContext?.applicationState,\n      connections: appContext?.connections?.length,\n      activeConnectionId: appContext?.activeConnectionId,\n      viewMode: appContext?.viewMode,\n    });\n  });\n\n  // Get VS Code API instance (already acquired in main.ts)\n  const vscode = (window as any).__vscodeApi;\n\n  // Helper to send events back to extension\n  function sendEvent(event: any) {\n    if (vscode) {\n      vscode.postMessage({ type: 'appEvent', event });\n    }\n  }\n\n  // Context-based state derivation\n  // Always show UI even if context is empty (will update when syncState arrives)\n  const hasConnections = $derived((appContext?.connections?.length || 0) > 0);\n  const isActivating = $derived(\n    appContext?.applicationState === 'activating' || \n    appContext?.applicationState === 'initializing' ||\n    appContext?.applicationState === 'inactive'\n  );\n  const isActivationFailed = $derived(\n    appContext?.applicationState === 'activation_error' || \n    appContext?.lastError ||\n    (appContext?.workItemsError && appContext?.workItemsErrorConnectionId === appContext?.activeConnectionId)\n  );\n  \n  // Typed derived values for ConnectionViews props\n  const connectionsArray: Array<{ id: string; label?: string }> = $derived(\n    appContext?.connections || []\n  );\n  const activeId: string | undefined = $derived(appContext?.activeConnectionId);\n\n  onMount(() => {\n    // Automatic logging will capture mount events\n    // Note: webviewReady is sent from main.ts after mount, no need to send it here\n  });\n\n  // Toggle debug view - handled locally in Svelte, just notify Praxis of change\n  let localDebugViewVisible = $state(false);\n  \n  // Sync with context when it changes\n  $effect(() => {\n    if (appContext?.debugViewVisible !== undefined) {\n      localDebugViewVisible = appContext.debugViewVisible;\n    }\n  });\n  \n  function toggleDebugView() {\n    localDebugViewVisible = !localDebugViewVisible;\n    sendEvent({ type: 'TOGGLE_DEBUG_VIEW' });\n  }\n\n  // Expose function globally so it can be called from message handlers if needed\n  (window as any).__toggleDebugView = toggleDebugView;\n\n</script>\n\n<main>\n  {#if hasConnections}\n    <!-- Main work items UI -->\n    <WebviewHeader context={appContext} {sendEvent} />\n    \n    <!-- History Controls (Undo/Redo) -->\n    <div class=\"history-controls-container\">\n      <HistoryControls />\n    </div>\n    \n    {#if connectionsArray.length > 1}\n      <ConnectionTabs\n        connections={appContext.connections}\n        activeConnectionId={appContext.activeConnectionId}\n      />\n    {:else if activeId}\n      <div class=\"single-connection-header\">\n        <span class=\"single-connection-label\" title=\"Active Connection\">\n          {connectionsArray.find((c) => c.id === activeId)?.label || activeId}\n        </span>\n      </div>\n    {/if}\n\n    <!-- Error Banner for existing connections -->\n    {#if isActivationFailed}\n      <div class=\"error-banner\">\n        <span class=\"codicon codicon-error\"></span>\n        <span>{appContext?.lastError?.message || 'Connection Error'}</span>\n        <button class=\"retry-btn\" onclick={() => sendEvent({ type: 'RETRY' })}>Retry</button>\n      </div>\n    {/if}\n\n    <ConnectionViews\n      connections={connectionsArray}\n      activeConnectionId={activeId}\n      context={appContext}\n      matches={{}} \n      {sendEvent}\n    />\n    \n    <AuthReminder context={appContext} {sendEvent} />\n    {#if appContext?.debugLoggingEnabled && localDebugViewVisible}\n      <div class=\"debug-panel\" role=\"region\" aria-label=\"Debug View\">\n        <h3>Debug View</h3>\n        <pre class=\"debug-json\">{JSON.stringify(\n            {\n              appState: appContext.applicationState,\n              activeConnectionId: appContext.activeConnectionId,\n              viewMode: appContext.viewMode,\n            },\n            null,\n            2\n          )}</pre>\n      </div>\n      \n      <!-- History Timeline for Time-Travel Debugging -->\n      <div class=\"history-timeline-panel\">\n        <HistoryTimeline />\n      </div>\n      \n      <!-- Performance Dashboard -->\n      <div class=\"performance-dashboard-panel\">\n        <PerformanceDashboard />\n      </div>\n    {/if}\n\n    <!-- Global UI Components -->\n    {#if appContext?.ui?.statusMessage}\n      <Notification\n        message={appContext.ui.statusMessage.text}\n        type={appContext.ui.statusMessage.type}\n        on:dismiss={() => sendEvent({ type: 'DISMISS_NOTIFICATION' })}\n      />\n    {/if}\n\n    {#if appContext?.ui?.modal?.type === 'composeComment'}\n      <ComposeCommentDialog\n        workItemId={appContext.ui.modal.workItemId}\n        mode={appContext.ui.modal.mode}\n        on:cancel={() => sendEvent({ type: 'DISMISS_DIALOG' })}\n        on:submit={(event) => sendEvent({ type: 'SUBMIT_COMMENT', ...event.detail })}\n      />\n    {/if}\n\n  {:else}\n    <!-- No connections state or still loading -->\n    {#if isActivating && (!appContext || appContext.applicationState === 'inactive')}\n      <div class=\"loading\">\n        <p>Initializing Azure DevOps Integration...</p>\n        <p class=\"sub-text\">Waiting for connection data...</p>\n        <p class=\"sub-text\" style=\"font-size: 0.8em; margin-top: 10px;\">\n          If this persists, check the browser console (F12) for errors.\n        </p>\n      </div>\n    {:else if isActivationFailed}\n      <div class=\"error-container\">\n        <h2>Connection Error</h2>\n        <p>{appContext?.workItemsError || appContext?.lastError?.message || 'Unknown error'}</p>\n        {#if appContext?.activeConnectionId}\n          <p style=\"font-size: 0.9em; margin-top: 10px;\">\n            Connection: {appContext.activeConnectionId}\n          </p>\n        {/if}\n        <button onclick={() => sendEvent({ type: 'RETRY' })}>Retry</button>\n      </div>\n    {:else}\n      <div class=\"empty-state\">\n        <p>No connections configured.</p>\n        <button onclick={() => sendEvent({ type: 'OPEN_SETTINGS' })}>Configure Connections</button>\n        \n        <!-- Debug Info for Troubleshooting -->\n        <div style=\"margin-top: 20px; font-size: 0.8em; color: var(--vscode-descriptionForeground); text-align: left;\">\n          <details>\n            <summary>Debug Info (v2)</summary>\n            <pre>{JSON.stringify({\n              hasConnections,\n              connectionsLength: appContext?.connections?.length || 0,\n              appState: appContext?.applicationState || 'unknown',\n              activeConnectionId: appContext?.activeConnectionId,\n              contextKeys: appContext ? Object.keys(appContext) : [],\n              rawConnections: appContext?.connections || [],\n              hasAppContext: !!appContext,\n              storeValue: currentState?.value,\n              snapshotValue: get(applicationSnapshot)?.value,\n            }, null, 2)}</pre>\n          </details>\n        </div>\n      </div>\n    {/if}\n  {/if}\n</main>\n\n<style>\n  main {\n    padding: 1rem;\n    font-family: var(--vscode-font-family, sans-serif);\n    color: var(--vscode-foreground);\n  }\n  .loading {\n    text-align: center;\n    padding: 2rem;\n  }\n  .error-container {\n    color: var(--vscode-errorForeground);\n    padding: 1rem;\n    margin: 1rem 0;\n  }\n  .error-banner {\n    background-color: var(--vscode-inputValidation-errorBackground);\n    border: 1px solid var(--vscode-inputValidation-errorBorder);\n    color: var(--vscode-foreground);\n    padding: 0.5rem;\n    margin-bottom: 0.5rem;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    border-radius: 2px;\n  }\n  .retry-btn {\n    margin-left: auto;\n    padding: 2px 8px;\n    font-size: 0.8em;\n  }\n  button {\n    background: var(--vscode-button-background);\n    color: var(--vscode-button-foreground);\n    border: none;\n    padding: 0.5rem 1rem;\n    cursor: pointer;\n    margin-top: 0.5rem;\n  }\n  button:hover {\n    background: var(--vscode-button-hoverBackground);\n  }\n  .single-connection-header {\n    padding: 0.5rem 0;\n    margin-bottom: 0.5rem;\n  }\n  \n  .history-controls-container {\n    display: flex;\n    justify-content: flex-end;\n    padding: 0.5rem 1rem;\n    border-bottom: 1px solid var(--vscode-panel-border);\n  }\n  .debug-panel {\n    margin: 0.5rem 0 0.75rem;\n    padding: 0.5rem;\n    background: var(--vscode-editorWidget-background);\n    border: 1px solid var(--vscode-panel-border, var(--vscode-input-border));\n    border-radius: 4px;\n    max-height: 300px;\n    overflow: auto;\n    font-size: 0.65rem;\n  }\n  .debug-panel h3 {\n    margin: 0 0 0.4rem;\n    font-size: 0.75rem;\n  }\n  .debug-json {\n    margin: 0;\n    font-family: monospace;\n    white-space: pre-wrap;\n  }\n  .single-connection-label {\n    font-size: 0.75rem;\n    padding: 0.35rem 0.55rem;\n    background: var(--vscode-tab-activeBackground);\n    border: 1px solid var(--vscode-tab-activeBorder, var(--vscode-focusBorder));\n    border-radius: 4px;\n    color: var(--vscode-tab-activeForeground);\n  }\n  \n  .history-timeline-panel {\n    margin: 0.5rem 0;\n    max-height: 400px;\n    overflow: hidden;\n  }\n  \n  .performance-dashboard-panel {\n    margin: 0.5rem 0;\n    max-height: 500px;\n    overflow: hidden;\n  }\n</style>\n"],
  "mappings": ";AAmHE,CAAA,OAAA,CAAA;AACE,WAAA;AACA,OAAA;AACA,eAAA;AACA,WAAA,EAAA;AACA,cAAA,IAAA;AACA,iBAAA,IAAA,MAAA,IAAA,4BAAA,EAAA,IAAA;AACJ;AACE,CAAA,GAAA,CARA;AASA,CAAA,cAAA,CATA;AAUE,YAAA;AACA,cAAA;AACA,SAAA,IAAA,+BAAA,EAAA,IAAA;AACA,UAAA;AACA,WAAA,QAAA,QAAA;AACA,aAAA;AACA,eAAA;AACA,UAAA;AACA,0BAAA;AACA,2BAAA;AACA,WAAA;AACA,eAAA;AACA,cACJ,MAAA,MAAA,IAAA,EACA,WAAA,MAAA;AACA;AACE,CAlBA,GAkBA,CA1BA,aA0BI;AACJ,CAlBA,cAkBA,CA3BA,aA2Be;AACb,SAAA,IAAA,4BAAA,EAAA,IAAA;AACA,cAAA,IAAA,4BAAA,EAAA,KAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AACJ;AACE,CAvBA,GAuBI,CAAA,MAAA,CA/BJ;AAgCA,CAvBA,cAuBe,CADX,MACW,CAhCf;AAiCE,cAAA,IAAA,6BAAA,EAAA,IAAA;AACA,SAAA,IAAA,6BAAA,EAAA,IAAA;AACJ;AACE,CA5BA,GA4BI,CALA,MAKA,CApCJ,aAoCW;AACX,CA5BA,cA4Be,CANX,MAMW,CArCf,aAqCsB;AACpB,WAAA;AACA,YAAA;AACA,QAAA;AACA,SAAA;AACA,UAAA;AACA,UAAA;AACA,cAAA,IAAA;AACA,iBAAA;AACJ;AACE,CAvCA,GAuCA,CA/CA,aA+CI;AACJ,CAvCA,cAuCA,CAhDA,aAgDe;AACb,WAAA,IAAA,MAAA,IAAA;AACA,kBAAA;AACJ;AAEE,CA7CA,GA6CA,CArDA,aAqDI,KAAK,CAtBL,OAsBa;AACjB,CA7CA,cA6CA,CAtDA,aAsDe,KAAK,CAvBhB,OAuBwB;AAC1B,WAAA;AACA,YAAA;AACA,SAAA;AACA,OAAA;AACA,UAAA;AACA,SAAA;AACA,cAAA,IAAA,4BAAA,EAAA,IAAA;AACJ;AACE,CAvDA,GAuDA,CA/DA,aA+DI,WAAW;AACf,CAvDA,cAuDA,CAhEA,aAgEe,WAAW;AACxB,WAAA;AACJ;;;ACnEE,CAAA,eAAA,CAAA;AACE,YAAA;AACA,WAAA;AACJ;AAEE,CAAA,eAAA,CALA;AAME,WAAA;AACA,eAAA;AACA,mBAAA;AACA,SAAA;AACA,WAAA,OAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,aAAA;AACA,eAAA,IAAA;AACA,UAAA;AACA,cAAA,aAAA,MAAA;AACJ;AAEE,CAhBA,eAgBA,CArBA,aAqBgB;AACd,gBAAA,IAAA,gCAAA,EAAA,IAAA;AACJ;AAEE,CApBA,eAoBA,CAzBA,aAyBgB;AACd,WAAA;AACA,gBAAA,IAAA;AACJ;AAEE,CAAA,cAAA,CA9BA;AA+BE,QAAA;AACA,cAAA;AACJ;AAEE,CAAA,cAAA,CAnCA;AAoCE,eAAA;AACA,aAAA;AACA,cAAA,UAAA,MAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAPA,cAOe,CAAA,IAAA,CA1Cf;AA2CE,aAAA,OAAA;AACJ;AAEE,CAAA,aAAA,CA9CA;AA+CE,YAAA;AACA,OAAA;AACA,QAAA;AACA,SAAA;AACA,WAAA;AACA,cAAA;AACA,cAAA,IAAA,4BAAA,EAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA,wBAAA,EAAA,IAAA;AACA,iBAAA;AACA,cAAA,EAAA,IAAA,KAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACA,cAAA;AACA,cAAA;AACA,aAAA;AACJ;AAEE,CAAA,eAAA,CA9DA;AA+DE,WAAA;AACA,SAAA;AACA,WAAA,OAAA;AACA,cAAA,IAAA,4BAAA,EAAA,IAAA;AACA,SAAA,IAAA,4BAAA,EAAA,IAAA;AACA,UAAA;AACA,cAAA;AACA,aAAA;AACA,eAAA,IAAA;AACA,UAAA;AACA,cAAA,iBAAA,KAAA;AACJ;AAEE,CAdA,eAcA,CA5EA,aA4EgB;AACd,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAnBA,eAmBgB,CAAA,QAAA,CAjFhB;AAkFE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAxBA,eAwBA,CAtFA,aAsFgB;AACd,WAAA;AACA,cAAA,IAAA,6BAAA,EAAA,IAAA;AACA,SAAA,IAAA,6BAAA,EAAA,IAAA;AACJ;;;AC/HE,CAAA,YAAA,CAAA;AACE,WAAA;AACA,eAAA;AACA,mBAAA;AACA,OAAA;AACA,WAAA,QAAA;AACA,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,SAAA,IAAA;AACA,iBAAA;AACA,iBAAA;AACJ;AAEE,CAAA,aAAA,CAbA;AAcE,WAAA;AACA,eAAA;AACA,OAAA;AACA,QAAA;AACJ;AAEE,CAAA,UAAA,CApBA;AAqBE,aAAA;AACA,eAAA;AACJ;AAEE,CAAA,aAAA,CAzBA;AA0BE,WAAA;AACA,kBAAA;AACA,OAAA;AACA,QAAA;AACJ;AAEE,CAPA,aAOA,CAhCA,eAgCe,MAAA,OAAA,CAhCf;AAiCE,eAAA;AACJ;AAEE,CAAA,UAAA,CApCA;AAqCE,aAAA;AACA,WAAA;AACJ;AAEE,CAAA,aAAA,CAzCA;AA0CE,WAAA;AACA,OAAA;AACA,eAAA;AACA,eAAA;AACJ;AAEE,CAAA,aAAA,CAhDA;AAiDE,WAAA,SAAA;AACA,UAAA,IAAA,MAAA;AACA,iBAAA;AACA,aAAA;AACA,UAAA;AACA,cAAA,iBAAA;AACJ;AAEE,CATA,aASc,CAAA,OAAA,CAzDd;AA0DE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAdA,aAcc,CALA,OAKA,CA9Dd,cA8DsB;AACpB,cAAA,IAAA;AACJ;AAEE,CAlBA,aAkBc,CAAA,SAAA,CAlEd;AAmEE,cAAA;AACA,SAAA,IAAA;AACA,gBAAA,IAAA;AACA,WAAA,QAAA;AACA,aAAA;AACJ;AAEE,CA1BA,aA0Bc,CARA,SAQA,CA1Ed,cA0EwB;AACtB,cAAA,IAAA;AACJ;;;ACnFE,CAAA,WAAA,CAAA;AACE,WAAA;AACA,eAAA;AACA,mBAAA;AACA,cAAA;AACA,WAAA;AACJ;AAEE,CAAA,mBAAA,CARA;AASE,cAAA;AACA,aAAA;AACJ;AAEE,CALA,mBAKoB,CAAA,KAAA,CAbpB;AAcE,SAAA,IAAA;AACJ;AAEE,CAAA,gBAAA,CAjBA;AAkBE,aAAA;AACA,iBAAA;AACA,WAAA;AACJ;AAEE,CAAA,iBAAA,CAvBA;AAwBE,aAAA;AACA,eAAA;AACA,UAAA,EAAA,EAAA,OAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,mBAAA,CA9BA;AA+BE,aAAA;AACA,SAAA,IAAA;AACA,UAAA,EAAA,EAAA,OAAA;AACA,eAAA;AACJ;AAEE,CAAA,kBAAA,CArCA;AAsCE,WAAA,OAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA;AACA,iBAAA;AACA,aAAA;AACA,UAAA;AACA,cAAA,iBAAA;AACJ;AAEE,CAXA,kBAWA,CAhDA,aAgDmB;AACjB,cAAA,IAAA;AACJ;;;AC0VE,CAAA,cAAA,CAAA;AACE,WAAA;AACA,kBAAA;AACA,UAAA;AACA,OAAA;AACJ;AAEE,CAAA,WAAA,CAPA;AAQE,WAAA;AACA,kBAAA;AACA,eAAA;AACA,mBAAA;AACA,WAAA,KAAA;AACA,cAAA;AACA,SAAA,IAAA;AACA,OAAA;AACJ;AAEE,CAXA,WAWA,CAlBA,eAkBa,CAAA,IAAA,OAAA,CAlBb;AAmBE,aAAA;AACA,WAAA;AACJ;AAGE,CAAA,mBAAA,CAxBA;AAyBE,WAAA;AACA,OAAA;AACA,cAAA;AACJ;AAEE,CAAA,iBAAA,CA9BA;AA+BE,WAAA;AACA,kBAAA;AACA,eAAA;AACA,mBAAA;AACA,WAAA,KAAA;AACA,OAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,eAAA,CAxCA;AAyCE,SAAA;AACA,UAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,oBAAA,IAAA;AACA,iBAAA;AACA,aAAA,oBAAW,GAAA,OAAA;AACf;AAEE,CATA,eASgB,CAAA,KAAA,CAjDhB;AAkDE,SAAA;AACA,UAAA;AACA,gBAAA;AACJ;AAEE,CAAA,yBAAA,CAvDA;AAwDE,YAAA;AACA,OAAA;AACA,SAAA;AACA,WAAA;AACA,WAAA;AACA,eAAA;AACA,mBAAA;AACA,SAAA;AACA,UAAA;AACA,kBAAA;AACJ;AAEE,WAtBE;AAuBJ;AACA,eAAA,OAAA;AACA;AACA;AAEE,CAAA,kBAAA,CA1EA;AA2EE,WAAA;AACA,eAAA;AACA,OAAA;AACA,WAAA,OAAA;AACA,cAAA;AACA,iBAAA;AACA,cAAA,IAAA,MAAA,IAAA,qBAAA,EAAA,IAAA;AACJ;AAEE,CAAA,WAAA,CApFA;AAqFE,aAAA;AACA,SAAA,IAAA;AACA,eAAA;AACA,eAAA;AACJ;AAEE,CAjBA,kBAiBA,CA3FA,eA2F4B,CAAA;AAC1B,aAAA;AACJ;AAEE,CAAA,WAAA,CA/FA;AAgGE,WAAA;AACA,OAAA;AACA,WAAA,OAAA;AACA,aAAA;AACJ;AAEE,CAAA,YAAA,CAtGA;AAuGE,WAAA,OAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,aAAA;AACA,eAAA,IAAA;AACA,QAAA;AACA,aAAA;AACJ;AAEE,CAZA,YAYA,CAlHA,cAkHa;AACX,WAAA;AACA,gBAAA,IAAA;AACJ;AAGE,CAzBA,WAyBA,CAxHA,eAwHqB,CAAA;AACnB,aAAA;AACJ;AAEE,MAAA,CA5HA;AA6HE,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA;AACA,WAAA,OAAA;AACA,UAAA;AACA,aAAA;AACA,iBAAA;AACA,eAAA,IAAA;AACJ;AAEE,MAAA,CAvIA,cAuIM;AACJ,cAAA,IAAA;AACJ;AAEE,CAAA,WAAA,CA3IA;AA4IE,cAAA,IAAA;AACA,WAAA,OAAA;AACJ;AAEE,CAAA,eAAA,CAhJA;AAiJE,QAAA;AACA,cAAA;AACA,cAAA;AACA,WAAA;AACA,kBAAA;AACA,OAAA;AACJ;AAEE,CAAA,cAAA,CAzJA;AA0JE,WAAA;AACA,kBAAA;AACA,WAAA;AACA,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,UAAA;AACA,cAAA,IAAA,MAAA;AACJ;AAEE,CAXA,cAWA,CApKA,cAoKe;AACb,cAAA,IAAA;AACA,gBAAA,IAAA;AACA,cAAA,EAAA,IAAA,IAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACJ;AAEE,CAAA,WAAA,CA1KA;AA2KE,WAAA;AACA,eAAA;AACA,OAAA;AACA,iBAAA;AACJ;AAEE,CAAA,SAAA,CAjLA;AAkLE,eAAA;AACA,aAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,OAAA,CAvLA;AAwLE,aAAA;AACA,eAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,WAAA,QAAA;AACA,iBAAA;AACJ;AAEE,CAAA,QAAA,CAhMA;AAiME,eAAA;AACA,aAAA;AACA,eAAA;AACA,WAAA,QAAA;AACA,iBAAA;AACJ;AAEE,CAAA,UAAA,CAxMA;AAyME,cAAA,KAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,UAAA,CA7MA;AA8ME,cAAA,KAAA,GAAA,EAAA,GAAA,EAAA,CAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,UAAA,CAlNA;AAmNE,cAAA,KAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,UAAA,CAvNA;AAwNE,cAAA,KAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,SAAA,CA5NA;AA6NE,WAAA;AACA,kBAAA;AACA,OAAA;AACJ;AAEE,CAAA,UAAA,CAlOA;AAmOE,aAAA;AACA,eAAA;AACA,eAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,SAAA,CAzOA;AA0OE,WAAA;AACA,aAAA;AACA,OAAA;AACA,aAAA;AACJ;AAEE,CAAA,UAAA,CAhPA;AAiPE,WAAA,OAAA;AACA,iBAAA;AACA,aAAA;AACA,eAAA;AACJ;AAEE,CAPA,UAOW,CAAA,IAAA,CAvPX;AAwPE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAZA,UAYW,CAAA,KAAA,CA5PX;AA6PE,kBAAA;AACA,kBAAA;AACJ;AAEE,CAAA,SAAA,CAjQA;AAkQE,cAAA,KAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,YAAA,CAtQA;AAuQA,CAAA,gBAAA,CAvQA;AAwQE,cAAA,KAAA,GAAA,EAAA,GAAA,EAAA,CAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,YAAA,CA5QA;AA6QE,cAAA,KAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,cAAA,CAjRA;AAkRA,CAAA,UAAA,CAlRA;AAmRA,CAAA,YAAA,CAnRA;AAoRE,cAAA,KAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAxCA,UAwCW,CAAA,QAAA,CAxRX;AAyRE,cAAA,KAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA;AACA,SAAA,IAAA;AACA,WAAA;AACA,eAAA;AACA,OAAA;AACJ;AAEE,CAhDA,UAgDW,CAAA,WAAA,CAhSX;AAiSE,cAAA,KAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA;AACA,SAAA;AACA,WAAA;AACA,eAAA;AACA,OAAA;AACA,eAAA;AACA,aAAA,qBAAW,GAAA,YAAA;AACf;AAEE,CAVW,WAUX,CA1SA,eA0Sa,CAAA,OAAA,OAAA,CA1Sb;AA2SE,aAAA;AACJ;AAEE,WAPE;AAQJ;AAEA,aAAA;AACA;AACA;AACA,aAAA;AACA;AACA;AAGE,CAAA,YAAA,CAzTA;AA0TE,WAAA;AACA,OAAA;AACA,cAAA;AACA,eAAA;AACA,cAAA,IAAA,MAAA,IAAA;AACA,WAAA;AACA,cAAA,QAAA,KAAA;AACJ;AAEE,CA1KA,cA0KA,CAnUA,cAmUe,OAAO,CAVtB,YAUsB,OAAA,CAnUtB;AAoUE,WAAA;AACJ;AAEE,CAAA,UAAA,CAvUA;AAwUE,WAAA;AACA,eAAA;AACA,OAAA;AACA,WAAA,QAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA,sBAAA,EAAA;AACA,iBAAA;AACA,aAAA;AACA,eAAA;AACA,UAAA;AACA,cAAA,IAAA,MAAA;AACJ;AAEE,CAfA,UAeA,CAtVA,cAsVW;AACT,cAAA,IAAA;AACA,aAAA,WAAA;AACA,cAAA,EAAA,IAAA,IAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACJ;AAEE,CArBA,UAqBA,CA5VA,cA4VW;AACT,aAAA,WAAA;AACJ;AAEE,CAzBA,UAyBW,CAAA,OAAA,CAhWX;AAiWE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,CA9BA,UA8BW,CALA,OAKA,CArWX,cAqWmB;AACjB,cAAA,IAAA;AACJ;AAEE,CAlCA,UAkCA,CAzWA,eAyWY,CA/DC,OA+DD,OAAA,CAzWZ;AA0WE,aAAA;AACA,eAAA;AACJ;;;AC3oBE,CAAA,YAAA,CAAA;AACE,WAAA;AACA,kBAAA;AACA,OAAA;AACJ;AACE,CAAA,OAAA,CALA;AAME,WAAA;AACA,yBAAA,OAAA,SAAA,EAAA,OAAA,KAAA,EAAA;AACA,OAAA;AACJ;AACE,CAAA,MAAA,CAVA;AAWE,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,WAAA;AACA,WAAA;AACA,kBAAA;AACA,OAAA;AACJ;AACE,CAAA,aAAA,CAlBA;AAmBE,WAAA;AACA,mBAAA;AACA,eAAA;AACJ;AACE,EAAA,CAvBA;AAwBE,UAAA;AACA,aAAA;AACJ;AACE,CAAA,KAAA,CA3BA;AA4BE,cAAA,IAAA;AACA,SAAA,IAAA;AACA,WAAA,EAAA;AACA,iBAAA;AACA,aAAA;AACJ;AACE,CAAA,KAAA,CAlCA;AAmCE,WAAA;AACA,kBAAA;AACA,OAAA;AACJ;AACE,CAAA,WAAA,CAvCA;AAwCE,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,WAAA;AACA,iBAAA;AACA,UAAA;AACA,aAAA;AACA,WAAA;AACA,kBAAA;AACA,OAAA;AACA,cAAA,WAAA,MAAA;AACJ;AACE,CAZA,WAYA,CAnDA,aAmDY;AACV,cAAA,IAAA;AACA,gBAAA,IAAA;AACJ;AACE,CAhBA,WAgBY,CAAA,QAAA,CAvDZ;AAwDE,cAAA,IAAA;AACA,SAAA,IAAA;AACA,gBAAA,IAAA;AACJ;AACE,CArBA,WAqBY,CALA,QAKA,CA5DZ,cA4DsB,CAAA,iBAAA,OAAA,CA5DtB;AA6DE,SAAA,IAAA;AACJ;AACE,CAxBA,WAwBY,CARA,QAQA,CA/DZ,cA+DsB,CAAA,SAAA,OAAA,CA/DtB;AAgEE,SAAA,IAAA;AACJ;AACE,CAAA,kBAAA,CAlEA;AAmEE,WAAA;AACA,eAAA;AACA,OAAA;AACA,aAAA;AACJ;AACE,CATsB,SAStB,CAxEA;AAyEE,eAAA;AACA,aAAA;AACA,SAAA,IAAA;AACJ;AACE,CAAA,OAAA,CA7EA;AA8EE,eAAA;AACA,SAAA,IAAA;AACJ;AACE,CAAA,QAAA,CAjFA;AAkFE,eAAA;AACA,WAAA,OAAA;AACA,iBAAA;AACA,aAAA;AACA,eAAA;AACJ;AACE,CAPA,QAOS,CAAA,UAAA,CAxFT;AAyFE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AACE,CAXA,QAWS,CAAA,UAAA,CA5FT;AA6FE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AACE,CAfA,QAeS,CAAA,UAAA,CAhGT;AAiGA,CAhBA,QAgBS,CAAA,UAAA,CAjGT;AAkGE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AACE,CAzCsB,iBAyCtB,CArGA;AAsGE,eAAA;AACA,SAAA,IAAA;AACA,eAAA;AACA,aAAA;AACJ;AACE,CAAA,gBAAA,CA3GA;AA4GE,WAAA;AACA,aAAA;AACA,OAAA;AACA,aAAA;AACJ;AACE,CAAA,UAAA,CAjHA;AAkHE,WAAA,QAAA;AACA,iBAAA;AACA,aAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AACE,CAPA,UAOW,CAAA,IAAA,CAxHX;AAyHE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AACE,CAXA,UAWW,CAAA,QAAA,CA5HX;AA6HE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AACE,CAfA,UAeW,CAAA,WAAA,CAhIX;AAiIE,cAAA,IAAA;AACA,SAAA,IAAA;AACJ;AACE,CAAA,mBAAA,CApIA;AAqIE,WAAA;AACA,OAAA;AACA,cAAA;AACJ;AACE,CAAA,UAAA,CAzIA;AA0IE,cAAA;AACA,UAAA,IAAA,MAAA,IAAA,sBAAA,EAAA;AACA,SAAA,IAAA;AACA,WAAA,OAAA;AACA,iBAAA;AACA,UAAA;AACA,aAAA;AACA,WAAA;AACA,eAAA;AACA,mBAAA;AACA,cAAA,WAAA,MAAA;AACJ;AACE,CAbA,UAaA,CAtJA,aAsJW;AACT,cAAA,IAAA,+BAAA,EAAA,IAAA;AACJ;AACE,CAhBA,UAgBA,CAzJA,cAyJY,CAAA,OAAA,OAAA,CAzJZ;AA0JE,eAAA;AACA,aAAA;AACJ;AACE,CAAA,uBAAA,CA7JA;AA8JE,WAAA;AACA,cAAA;AACA,cAAA;AACJ;AACE,CAAA,KAAA,CAlKA;AAmKE,cAAA;AACA,WAAA;AACA,cAAA;AACA,SAAA,IAAA;AACJ;;;ACzPE,CAAA,iBAAA,CAAA;AACE,WAAA;AACA,eAAA;AACA,OAAA;AACA,aAAA;AACJ;AAEE,CAAA,gBAAA,CAPA;AAQE,WAAA;AACA,eAAA;AACA,OAAA;AACJ;AAEE,CAAA,UAAA,CAbA;AAcE,SAAA;AACA,UAAA;AACA,iBAAA;AACA,cAAA,IAAA;AACA,WAAA;AACJ;AAEE,CAAA,WAAA,CArBA;AAsBE,SAAA,IAAA;AACA,eAAA;AACJ;AAEE,CAAA,cAAA,CA1BA;AA2BE,WAAA;AACA,eAAA;AACA,OAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,YAAA,CAjCA;AAkCE,aAAA;AACA,WAAA;AACJ;AAEE,CAAA,YAAA,CAtCA;AAuCE,aAAA;AACJ;;;AC1CE,CAAA,UAAA,CAAA;AACE,WAAA;AACA,OAAA;AACA,WAAA,QAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,cAAA,IAAA,MAAA,IAAA;AACA,aAAA;AACA,YAAA;AACA,UAAA;AACJ;AAEE,CAAA,cAAA,CAZA;AAaE,WAAA;AACA,OAAA;AACA,eAAA;AACJ;AAEE,CAAA,KAAA,CAlBA;AAmBE,WAAA;AACJ;AAEE,CAAA,KAAA,CAtBA;AAuBE,eAAA;AACJ;AAEE,CAAA,eAAA,CA1BA;AA2BE,SAAA,IAAA;AACJ;AAEE,CAAA,YAAA,CA9BA;AA+BE,SAAA,IAAA;AACA,cAAA,IAAA;AACA,WAAA,QAAA;AACA,iBAAA;AACJ;;;AC7DE,CAAA,eAAA,CAAA;AACE,WAAA;AACJ;AAEE,CAJA,eAIgB,CAAA,MAAA,CAJhB;AAKE,WAAA;AACJ;AAEE,CAAA,kBAAA,CARA;AASE,WAAA;AACA,kBAAA;AACA,OAAA;AACJ;;;ACHE,CAAA,gBAAA,CAAA;AACE,WAAA;AACA,kBAAA;AACJ;;;AC+QE,CAAA,oBAAA,CAAA;AACE,WAAA;AACA,eAAA;AACA,aAAA;AACA,OAAA;AACA,WAAA,QAAA;AACA,iBAAA;AACA,iBAAA;AACA,SAAA,IAAA;AACA,aAAA;AACA,cAAA;AACJ;AAEE,CAbA,oBAaqB,CAAA,KAAA,CAbrB;AAcE,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAnBA,oBAmBqB,CAAA,OAAA,CAnBrB;AAoBE,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,SAAA,CAzBA;AA0BE,aAAA;AACA,eAAA;AACJ;AAEE,CAAA,sBAAA,CA9BA;AA+BE,QAAA,EAAA,EAAA;AACA,aAAA;AACA,aAAA;AACJ;AAEE,CAAA,YAAA,CApCA;AAqCE,aAAA;AACA,aAAA;AACA,iBAAA;AACJ;AAEE,GAAG,CANH,YAMG,CA1CH;AA2CE,WAAA;AACA,kBAAA;AACA,OAAA;AACJ;AAEE,CAZA,YAYA,CAhDA,cAgDc,MAAA,OAAA,CAhDd;AAiDE,eAAA;AACA,aAAA;AACJ;AAEE,CAAA,YAAA,CArDA;AAsDE,aAAA;AACA,WAAA;AACJ;AAEE,CAAA,UAAA,CA1DA;AA2DE,aAAA;AACA,cAAA;AACA,WAAA;AACA,cAAA;AACJ;AAEE,CAAA,YAAA,CAjEA;AAkEE,WAAA;AACA,OAAA;AACA,eAAA;AACA,aAAA;AACA,eAAA;AACA,cAAA;AACJ;AAIE,QAAA,WAAA;AACE,GA7EF,oBA6EE,CA7EF;AA8EI,oBAAA;AACA,iBAAA;AACN;AAEI,GApDF,sBAoDE,CAlFF;AAmFI,WAAA;AACA,eAAA;AACA,mBAAA;AACN;AAEI,GAvBF,YAuBE,CAxFF;AAyFI,WAAA;AACA,qBAAA;AACN;AACA;AAEE,CAAA,WAAA,CA9FA;AA+FE,WAAA;AACA,eAAA;AACA,mBAAA;AACA,aAAA;AACA,UAAA;AACA,WAAA,EAAA;AACA,UAAA;AACA,cAAA;AACA,UAAA;AACA,iBAAA;AACA,UAAA;AACA,SAAA,IAAA;AACA,cAAA,iBAAA,KAAA;AACJ;AAEE,CAhBA,WAgBA,CA9GA,aA8GY;AACV,cAAA,IAAA;AACJ;AAEE,CApBA,WAoBA,CAlHA,aAkHY;AACV,cAAA,IAAA;AACJ;AAEE,CAxBA,WAwBA,CAtHA,cAsHa,CAAA,OAAA,OAAA,CAtHb;AAuHE,eAAA;AACA,aAAA;AACA,eAAA;AACA,cAAA;AACA,eAAA;AACA,WAAA;AACA,mBAAA;AACA,kBAAA;AACA,cAAA;AACA,0BAAA;AACA,2BAAA;AACA,eAAA;AACJ;AAEE,CAvCA,WAuCY,CAAA,SAAA,CArIZ;AAsIE,WAAA;AACJ;AAEE,CA3CA,WA2CY,CAJA,SAIA,CAzIZ,aAyIsB;AACpB,WAAA;AACJ;;;ACpYE,CAAA,cAAA,CAAA;AACE,WAAA;AACA,eAAA;AACA,mBAAA;AACA,WAAA;AACA,iBAAA,IAAA,MAAA,IAAA;AACA,cAAA;AACJ;AAEE,CAAA,cAAA,CATA;AAUE,WAAA;AACA,OAAA;AACA,eAAA;AACJ;AAEE,CAAA,UAAA,CAfA;AAgBE,WAAA;AACA,eAAA;AACA,mBAAA;AACA,SAAA;AACA,UAAA;AACA,WAAA;AACA,UAAA;AACA,cAAA;AACA,UAAA;AACA,iBAAA;AACA,UAAA;AACA,SAAA,IAAA;AACA,cAAA,iBAAA,KAAA;AACJ;AAEE,CAhBA,UAgBA,CA/BA,cA+BW;AACT,cAAA,IAAA;AACJ;AAEE,CApBA,UAoBA,CAnCA,cAmCW;AACT,cAAA,IAAA;AACJ;AAEE,CAxBA,UAwBA,CAvCA,eAuCY,CAAA,OAAA,OAAA,CAvCZ;AAwCE,eAAA;AACA,aAAA;AACA,eAAA;AACA,cAAA;AACA,eAAA;AACA,WAAA;AACA,mBAAA;AACA,kBAAA;AACA,cAAA;AACA,0BAAA;AACA,2BAAA;AACA,eAAA;AACJ;AAGE,CAxCA,UAwCW,CAAA,UAAA,CAvDX,eAuDuB,CAhBX,OAgBW,OAAA,CAvDvB;AAwDE,aAAA,oBAAW,MAAA;AACf;AAEE,WAHE;AAIJ;AACA,eAAA,OAAA;AACA;AACA;AACA,eAAA,OAAA;AACA;AACA;;;ACjJE,CAAA,YAAA,CAAA;AACE,YAAA;AACA,UAAA;AACA,SAAA;AACA,WAAA,KAAA;AACA,iBAAA;AACA,WAAA;AACA,eAAA;AACA,mBAAA;AACA,aAAA;AACA,aAAA;AACA,cAAA,EAAA,IAAA,KAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACA,WAAA;AACA,aAAA,uBAAW,KAAA;AACf;AAEE,CAAA,OAAA,CAhBA;AAiBE,oBAAA,IAAA,yCAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,KAAA,CArBA;AAsBE,oBAAA,IAAA,0CAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,IAAA,CA1BA;AA2BE,oBAAA,IAAA,yCAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,OAAA,CA/BA;AAgCE,oBAAA,IAAA,4CAAA,EAAA;AACA,SAAA;AACJ;AAEE,CAAA,OAAA,CApCA;AAqCE,aAAA;AACA,gBAAA;AACJ;AAEE,CAAA,SAAA,CAzCA;AA0CE,cAAA;AACA,UAAA;AACA,SAAA;AACA,aAAA;AACA,UAAA;AACA,WAAA;AACA,eAAA;AACA,WAAA;AACJ;AAEE,CAXA,SAWA,CApDA,cAoDU;AACR,WAAA;AACJ;AAEE,WA3CE;AA4CJ;AACA,eAAA,WAAA;AACA,aAAA;AACA;AACA;AACA,eAAA,WAAA;AACA,aAAA;AACA;AACA;;;AC5CE,CAAA,aAAA,CAAA;AACE,YAAA;AACA,OAAA;AACA,QAAA;AACA,SAAA;AACA,UAAA;AACA,oBAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACA,WAAA;AACA,eAAA;AACA,mBAAA;AACA,WAAA;AACJ;AAEE,CAAA,KAAA,CAbA;AAcE,oBAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,WAAA;AACA,SAAA;AACA,aAAA;AACA,cAAA,EAAA,IAAA,KAAA,KAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA;AACJ;AAEE,EAAA,CAvBA;AAwBE,cAAA;AACA,iBAAA;AACA,SAAA,IAAA;AACJ;AAEE,QAAA,CA7BA;AA8BE,SAAA;AACA,oBAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,WAAA;AACA,eAAA;AACA,UAAA;AACA,cAAA;AACJ;AAEE,QAAA,CAzCA,aAyCQ;AACN,WAAA,IAAA,MAAA,IAAA;AACA,gBAAA,IAAA;AACJ;AAEE,CAAA,OAAA,CA9CA;AA+CE,WAAA;AACA,mBAAA;AACA,OAAA;AACA,cAAA;AACJ;AAEE,MAAA,CArDA;AAsDE,WAAA,IAAA;AACA,iBAAA;AACA,UAAA;AACA,aAAA;AACA,UAAA,IAAA,MAAA;AACJ;AAEE,MAAM,CAAA,OAAA,CA7DN;AA8DE,oBAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,MAAM,CALA,OAKA,CAlEN,aAkEc,MAAM,KAAK;AACvB,oBAAA,IAAA;AACJ;AAEE,MAAM,CAAA,SAAA,CAtEN;AAuEE,oBAAA,IAAA;AACA,SAAA,IAAA;AACJ;AAEE,MAAM,CALA,SAKA,CA3EN,aA2EgB,MAAM,KAAK;AACzB,oBAAA,IAAA;AACJ;AAEE,MAAA,CA/EA,aA+EM;AACJ,WAAA;AACA,UAAA;AACJ;;;AC1DE,CAAA,gBAAA,CAAA;AACE,WAAA;AACA,OAAA;AACA,eAAA;AACJ;AAEE,CAAA,cAAA,CANA;AAOE,WAAA,QAAA;AACA,aAAA;AACA,UAAA,IAAA,MAAA,IAAA,sBAAA,EAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA;AACA,iBAAA;AACA,cAAA,QAAA;AACJ;AAEE,CAXA,cAWA,CAjBA,cAiBe,MAAM,KAAK;AACxB,cAAA,IAAA;AACJ;AAEE,CAfA,cAeA,CArBA,cAqBe;AACb,WAAA;AACA,UAAA;AACJ;;;AC+DE,CAAA,0BAAA,CAAA;AACE,WAAA;AACA,kBAAA;AACA,UAAA;AACA,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACJ;AAEE,CAAA,eAAA,CATA;AAUE,WAAA;AACA,mBAAA;AACA,eAAA;AACA,WAAA,OAAA;AACA,iBAAA,IAAA,MAAA,IAAA;AACJ;AAEE,CARA,eAQA,CAjBA,cAiBiB,EAAA,OAAA,CAjBjB;AAkBE,UAAA;AACA,aAAA;AACA,eAAA;AACJ;AAEE,CAAA,iBAAA,CAvBA;AAwBE,WAAA;AACA,OAAA;AACA,eAAA;AACJ;AAEE,CAAA,cAAA,CA7BA;AA8BE,WAAA,QAAA;AACA,aAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,UAAA;AACJ;AAEE,CAVA,cAUA,CAvCA,aAuCe;AACb,cAAA,IAAA;AACJ;AAEE,CAAA,aAAA,CA3CA;AA4CE,aAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,gBAAA,CAhDA;AAiDE,QAAA;AACA,cAAA;AACA,WAAA;AACJ;AAEE,CAAA,cAAA,CAtDA;AAuDE,WAAA;AACA,OAAA;AACA,WAAA;AACA,iBAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,UAAA;AACA,cAAA,WAAA;AACJ;AAEE,CAXA,cAWA,CAjEA,aAiEe;AACb,cAAA,IAAA;AACJ;AAEE,CAfA,cAee,CAAA,MAAA,CArEf;AAsEE,gBAAA,IAAA;AACA,cAAA,IAAA;AACJ;AAEE,CApBA,cAoBe,CAAA,QAAA,CA1Ef;AA2EE,gBAAA,IAAA;AACJ;AAEE,CAAA,WAAA,CA9EA;AA+EE,eAAA;AACA,SAAA,IAAA;AACA,aAAA;AACJ;AAEE,CAAA,aAAA,CApFA;AAqFE,QAAA;AACA,WAAA;AACA,kBAAA;AACA,OAAA;AACJ;AAEE,CAAA,WAAA,CA3FA;AA4FE,eAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,WAAA,CAhGA;AAiGE,aAAA;AACA,SAAA,IAAA;AACA,cAAA;AACJ;AAEE,CAAA,YAAA,CAtGA;AAuGE,WAAA;AACA,OAAA;AACA,aAAA;AACJ;AAEE,CAAA,SAAA,CA5GA;AA6GE,aAAA;AACA,WAAA,SAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,iBAAA;AACJ;AAEE,CAAA,UAAA,CApHA;AAqHE,aAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,eAAA,CAzHA;AA0HE,aAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,aAAA,CA9HA;AA+HE,WAAA;AACA,OAAA;AACJ;AAEE,CAAA,aAAA,CAnIA;AAoIE,WAAA,SAAA;AACA,aAAA;AACA,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,UAAA;AACJ;AAEE,CAVA,aAUA,CA7IA,aA6Ic;AACZ,cAAA,IAAA;AACJ;AAEE,CAAA,UAAA,CAjJA;AAkJE,cAAA,IAAA,MAAA,IAAA;AACA,cAAA;AACA,WAAA;AACA,kBAAA;AACJ;AAEE,CAAA,WAAA,CAxJA;AAyJE,WAAA;AACA,mBAAA;AACA,eAAA;AACA,WAAA,OAAA;AACA,cAAA,IAAA;AACJ;AAEE,CARA,WAQA,CAhKA,cAgKa,EAAA,OAAA,CAhKb;AAiKE,UAAA;AACA,aAAA;AACJ;AAEE,CAAA,YAAA,CArKA;AAsKE,cAAA;AACA,UAAA;AACA,SAAA,IAAA;AACA,aAAA;AACA,UAAA;AACA,WAAA;AACA,SAAA;AACA,UAAA;AACA,WAAA;AACA,eAAA;AACA,mBAAA;AACJ;AAEE,CAAA,YAAA,CAnLA;AAoLE,QAAA;AACA,cAAA;AACA,WAAA,OAAA;AACJ;AAEE,CAAA,YAAA,CAzLA;AA0LE,eAAA;AACA,iBAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,SAAA,CA/LA;AAgME,eAAA;AACA,aAAA;AACA,eAAA;AACA,SAAA,IAAA;AACA,UAAA;AACJ;;;AC3ME,CAAA,qBAAA,CAAA;AACE,WAAA;AACA,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,eAAA,IAAA;AACJ;AAEE,CAAA,gBAAA,CARA;AASE,WAAA;AACA,mBAAA;AACA,eAAA;AACA,iBAAA;AACA,kBAAA;AACA,iBAAA,IAAA,MAAA,IAAA;AACJ;AAEE,CATA,gBASA,CAjBA,eAiBkB,EAAA,OAAA,CAjBlB;AAkBE,UAAA;AACA,aAAA;AACJ;AAEE,CAAA,kBAAA,CAtBA;AAuBE,WAAA;AACA,OAAA;AACA,eAAA;AACJ;AAEE,CAAA,gBAAA,CA5BA;AA6BE,SAAA;AACJ;AAEE,CAAA,eAAA,CAhCA;AAiCE,aAAA;AACA,SAAA,IAAA;AACA,aAAA;AACJ;AAEE,CAAA,iBAAA,CAtCA;AAuCE,WAAA;AACA,yBAAA,OAAA,QAAA,EAAA,OAAA,KAAA,EAAA;AACA,OAAA;AACA,iBAAA;AACJ;AAEE,CAAA,YAAA,CA7CA;AA8CE,WAAA;AACA,kBAAA;AACA,WAAA;AACA,cAAA,IAAA;AACA,iBAAA;AACJ;AAEE,CAAA,aAAA,CArDA;AAsDE,aAAA;AACA,SAAA,IAAA;AACA,iBAAA;AACJ;AAEE,CAAA,aAAA,CA3DA;AA4DE,aAAA;AACA,eAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,gBAAA,CAjEA;AAkEA,CAAA,eAAA,CAlEA;AAmEE,cAAA;AACJ;AAEE,CALA,gBAKA,CAtEA,eAsEkB,EAAA,OAAA,CAtElB;AAuEA,CALA,eAKA,CAvEA,eAuEiB,EAAA,OAAA,CAvEjB;AAwEE,UAAA,EAAA,EAAA,OAAA;AACA,aAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,gBAAA,CA7EA;AA8EE,WAAA;AACA,kBAAA;AACA,OAAA;AACA,cAAA;AACA,cAAA;AACJ;AAEE,CAAA,eAAA,CArFA;AAsFE,WAAA;AACA,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,iBAAA;AACA,cAAA,aAAA;AACJ;AAEE,CARA,eAQgB,CAAA,IAAA,CA7FhB;AA8FE,gBAAA,IAAA;AACA,cAAA,IAAA;AACJ;AAEE,CAAA,iBAAA,CAlGA;AAmGE,WAAA;AACA,mBAAA;AACA,eAAA;AACA,iBAAA;AACJ;AAEE,CAAA,iBAAA,CAzGA;AA0GE,eAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,mBAAA,CA9GA;AA+GE,aAAA;AACA,SAAA,IAAA;AACJ;AAEE,CALA,mBAKoB,CAtBJ,IAsBI,CAnHpB;AAoHE,SAAA,IAAA;AACA,eAAA;AACJ;AAEE,CAAA,kBAAA,CAxHA;AAyHE,WAAA;AACA,OAAA;AACA,aAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,gBAAA,CA/HA;AAgIE,cAAA;AACJ;AAEE,CAAA,OAAA,CAnIA;AAoIE,WAAA;AACA,cAAA;AACA,SAAA,IAAA;AACJ;;;ACDE,IAAA,CAAA;AACE,WAAA;AACA,eAAA,IAAA,oBAAA,EAAA;AACA,SAAA,IAAA;AACJ;AACE,CAAA,OAAA,CALA;AAME,cAAA;AACA,WAAA;AACJ;AACE,CAAA,eAAA,CATA;AAUE,SAAA,IAAA;AACA,WAAA;AACA,UAAA,KAAA;AACJ;AACE,CAAA,YAAA,CAdA;AAeE,oBAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA;AACA,SAAA,IAAA;AACA,WAAA;AACA,iBAAA;AACA,WAAA;AACA,eAAA;AACA,OAAA;AACA,iBAAA;AACJ;AACE,CAAA,SAAA,CAzBA;AA0BE,eAAA;AACA,WAAA,IAAA;AACA,aAAA;AACJ;AACE,MAAA,CA9BA;AA+BE,cAAA,IAAA;AACA,SAAA,IAAA;AACA,UAAA;AACA,WAAA,OAAA;AACA,UAAA;AACA,cAAA;AACJ;AACE,MAAA,CAtCA,aAsCM;AACJ,cAAA,IAAA;AACJ;AACE,CAAA,wBAAA,CAzCA;AA0CE,WAAA,OAAA;AACA,iBAAA;AACJ;AAEE,CAAA,0BAAA,CA9CA;AA+CE,WAAA;AACA,mBAAA;AACA,WAAA,OAAA;AACA,iBAAA,IAAA,MAAA,IAAA;AACJ;AACE,CAAA,WAAA,CApDA;AAqDE,UAAA,OAAA,EAAA;AACA,WAAA;AACA,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA,qBAAA,EAAA,IAAA;AACA,iBAAA;AACA,cAAA;AACA,YAAA;AACA,aAAA;AACJ;AACE,CAVA,WAUA,CA9DA,cA8Da,EAAA,OAAA,CA9Db;AA+DE,UAAA,EAAA,EAAA;AACA,aAAA;AACJ;AACE,CAAA,UAAA,CAlEA;AAmEE,UAAA;AACA,eAAA;AACA,eAAA;AACJ;AACE,CAAA,uBAAA,CAvEA;AAwEE,aAAA;AACA,WAAA,QAAA;AACA,cAAA,IAAA;AACA,UAAA,IAAA,MAAA,IAAA,yBAAA,EAAA,IAAA;AACA,iBAAA;AACA,SAAA,IAAA;AACJ;AAEE,CAAA,sBAAA,CAhFA;AAiFE,UAAA,OAAA;AACA,cAAA;AACA,YAAA;AACJ;AAEE,CAAA,2BAAA,CAtFA;AAuFE,UAAA,OAAA;AACA,cAAA;AACA,YAAA;AACJ;",
  "names": []
}
