{
  "version": 3,
  "sources": ["ConnectionTabs.svelte", "Dropdown.svelte", "ErrorBanner.svelte", "EmptyState.svelte", "WorkItemList.svelte", "KanbanBoard.svelte", "ConnectionStatus.svelte", "StatusBar.svelte", "ConnectionView.svelte", "ConnectionViews.svelte", "AuthReminder.svelte", "WebviewHeader.svelte", "Notification.svelte", "ComposeCommentDialog.svelte", "HistoryControls.svelte", "HistoryTimeline.svelte", "PerformanceDashboard.svelte", "App.svelte"],
  "sourcesContent": ["<!--\r\nModule: src/webview/components/ConnectionTabs.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: fsmEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  /**\r\n   * ConnectionTabs.svelte\r\n   * Progressive enhancement component: currently uses classic Svelte reactivity.\r\n   * When upgrading to Svelte 5, replace internal reactive state with:\r\n   *   const $props = { connections, activeConnectionId };\r\n   *   const $state = { selected: $props.activeConnectionId };\r\n   *   const $derived = { ordered: () => $props.connections?.slice().sort(...) };\r\n   *   $effect(() => { if ($state.selected && $state.selected !== $props.activeConnectionId) ... });\r\n   */\r\n  export let connections: Array<{ id: string; label?: string }> = [];\r\n  export let activeConnectionId: string | undefined;\r\n  const vscode = (window as any).__vscodeApi;\r\n\r\n  // Classic Svelte reactive declarations\r\n  let ordered = [] as typeof connections;\r\n  $: ordered = (connections || [])\r\n    .slice()\r\n    .sort((a, b) => (a.label || a.id).localeCompare(b.label || b.id));\r\n\r\n  // Track selected index for keyboard navigation\r\n  $: selectedIndex = ordered.findIndex((c) => c.id === activeConnectionId);\r\n  let tabRefs: HTMLButtonElement[] = [];\r\n\r\n  // Svelte action to capture element refs (bind:this requires identifier)\r\n  function tabRef(node: HTMLButtonElement, i: number) {\r\n    tabRefs[i] = node;\r\n    return {\r\n      update(newIndex: number) {\r\n        tabRefs[newIndex] = node;\r\n      },\r\n      destroy() {\r\n        tabRefs[i] = undefined as any;\r\n      },\r\n    };\r\n  }\r\n\r\n  import { createSelectConnection, webviewOwner } from  '../selection.writer.internal.js';\r\n\r\n  function select(id: string) {\r\n    if (!vscode) return;\r\n    const evt = createSelectConnection(webviewOwner, id);\r\n    vscode.postMessage({ type: 'fsmEvent', event: evt });\r\n  }\r\n\r\n  function focusIndex(i: number) {\r\n    const target = tabRefs[i];\r\n    if (target) {\r\n      // Delay focus to allow Svelte selection re-render\r\n      setTimeout(() => target.focus(), 0);\r\n    }\r\n  }\r\n\r\n  function handleKeydown(e: KeyboardEvent) {\r\n    if (!ordered.length) return;\r\n    const key = e.key;\r\n    let nextIndex = selectedIndex < 0 ? 0 : selectedIndex;\r\n    const last = ordered.length - 1;\r\n    if (key === 'ArrowRight' || key === 'ArrowDown') {\r\n      nextIndex = (selectedIndex + 1) % ordered.length;\r\n    } else if (key === 'ArrowLeft' || key === 'ArrowUp') {\r\n      nextIndex = (selectedIndex - 1 + ordered.length) % ordered.length;\r\n    } else if (key === 'Home') {\r\n      nextIndex = 0;\r\n    } else if (key === 'End') {\r\n      nextIndex = last;\r\n    } else {\r\n      return; // Unhandled key\r\n    }\r\n    e.preventDefault();\r\n    const target = ordered[nextIndex];\r\n    if (target) {\r\n      select(target.id);\r\n      focusIndex(nextIndex);\r\n    }\r\n  }\r\n</script>\r\n\r\n<div\r\n  class=\"connection-tabs tab-bar\"\r\n  role=\"tablist\"\r\n  aria-label=\"Project Connections\"\r\n  aria-orientation=\"horizontal\"\r\n  tabindex=\"0\"\r\n  onkeydown={handleKeydown}\r\n>\r\n  {#each ordered as c, i}\r\n    <button\r\n      role=\"tab\"\r\n      aria-selected={c.id === activeConnectionId}\r\n      tabindex={c.id === activeConnectionId ? 0 : -1}\r\n      class={c.id === activeConnectionId ? 'connection-tab tab active' : 'connection-tab tab'}\r\n      onclick={() => select(c.id)}\r\n      use:tabRef={i}\r\n    >\r\n      {c.label || c.id}\r\n    </button>\r\n  {/each}\r\n</div>\r\n\r\n<style>\r\n  .tab-bar {\r\n    display: flex;\r\n    gap: 0.25rem;\r\n    align-items: flex-end;\r\n    padding: 0 0.25rem;\r\n    background: var(--vscode-editorWidget-background);\r\n    border-bottom: 1px solid var(--vscode-editorWidget-border, var(--vscode-input-border));\r\n  }\r\n  .tab,\r\n  .connection-tab {\r\n    position: relative;\r\n    background: transparent;\r\n    color: var(--vscode-tab-inactiveForeground, var(--vscode-foreground));\r\n    border: none;\r\n    padding: 0.45rem 0.75rem 0.35rem;\r\n    font-size: 0.75rem;\r\n    line-height: 1;\r\n    cursor: pointer;\r\n    border-top-left-radius: 4px;\r\n    border-top-right-radius: 4px;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    transition:\r\n      color 0.15s ease,\r\n      background 0.15s ease;\r\n  }\r\n  .tab:hover,\r\n  .connection-tab:hover {\r\n    color: var(--vscode-tab-hoverForeground, var(--vscode-foreground));\r\n    background: var(--vscode-tab-hoverBackground, rgba(255, 255, 255, 0.05));\r\n  }\r\n  .tab.active,\r\n  .connection-tab.active {\r\n    background: var(--vscode-tab-activeBackground, var(--vscode-editor-background));\r\n    color: var(--vscode-tab-activeForeground, var(--vscode-foreground));\r\n  }\r\n  .tab.active::after,\r\n  .connection-tab.active::after {\r\n    content: '';\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    height: 2px;\r\n    background: var(--vscode-focusBorder);\r\n    border-radius: 1px;\r\n  }\r\n  .tab:focus,\r\n  .connection-tab:focus {\r\n    outline: 1px solid var(--vscode-focusBorder);\r\n    outline-offset: -1px;\r\n  }\r\n  /* Provide subtle separators between non-active tabs */\r\n  .tab:not(.active)::before,\r\n  .connection-tab:not(.active)::before {\r\n    content: '';\r\n    position: absolute;\r\n    right: 0;\r\n    top: 25%;\r\n    bottom: 25%;\r\n    width: 1px;\r\n    background: var(--vscode-editorWidget-border, var(--vscode-input-border));\r\n  }\r\n  .tab:last-child::before,\r\n  .connection-tab:last-child::before {\r\n    display: none;\r\n  }\r\n</style>\r\n", "<!--\r\nModule: src/webview/components/Dropdown.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: fsmEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  interface Props {\r\n    value: string;\r\n    options: Array<{ value: string; label: string }>;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n    class?: string;\r\n  }\r\n\r\n  const { value, options, onChange, placeholder, class: className = '' }: Props = $props();\r\n\r\n  let isOpen = $state(false);\r\n  let dropdownRef: HTMLDivElement | null = $state(null);\r\n  let buttonRef: HTMLButtonElement | null = $state(null);\r\n\r\n  const selectedOption = $derived(\r\n    options.find((opt) => opt.value === value) || options[0] || { value: '', label: placeholder || 'Select...' }\r\n  );\r\n\r\n  function toggle() {\r\n    isOpen = !isOpen;\r\n  }\r\n\r\n  function select(optionValue: string) {\r\n    onChange(optionValue);\r\n    isOpen = false;\r\n  }\r\n\r\n  function handleClickOutside(event: MouseEvent) {\r\n    if (dropdownRef && !dropdownRef.contains(event.target as Node)) {\r\n      isOpen = false;\r\n    }\r\n  }\r\n\r\n  function handleKeydown(event: KeyboardEvent) {\r\n    if (event.key === 'Escape') {\r\n      isOpen = false;\r\n      buttonRef?.focus();\r\n    } else if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\r\n      event.preventDefault();\r\n      const currentIndex = options.findIndex((opt) => opt.value === value);\r\n      let nextIndex = currentIndex;\r\n      \r\n      if (event.key === 'ArrowDown') {\r\n        nextIndex = currentIndex < options.length - 1 ? currentIndex + 1 : 0;\r\n      } else {\r\n        nextIndex = currentIndex > 0 ? currentIndex - 1 : options.length - 1;\r\n      }\r\n      \r\n      if (nextIndex >= 0 && nextIndex < options.length) {\r\n        select(options[nextIndex].value);\r\n      }\r\n    } else if (event.key === 'Enter' || event.key === ' ') {\r\n      event.preventDefault();\r\n      toggle();\r\n    }\r\n  }\r\n\r\n  $effect(() => {\r\n    if (isOpen) {\r\n      document.addEventListener('click', handleClickOutside);\r\n      return () => {\r\n        document.removeEventListener('click', handleClickOutside);\r\n      };\r\n    }\r\n  });\r\n</script>\r\n\r\n<div class=\"custom-dropdown {className}\" bind:this={dropdownRef} data-custom-dropdown=\"true\">\r\n  <button\r\n    type=\"button\"\r\n    class=\"dropdown-button\"\r\n    bind:this={buttonRef}\r\n    onclick={toggle}\r\n    onkeydown={handleKeydown}\r\n    aria-expanded={isOpen}\r\n    aria-haspopup=\"listbox\"\r\n  >\r\n    <span class=\"dropdown-label\">{selectedOption.label}</span>\r\n    <span class=\"dropdown-arrow\" class:open={isOpen}>‚ñº</span>\r\n  </button>\r\n  {#if isOpen}\r\n    <div class=\"dropdown-menu\" role=\"listbox\">\r\n      {#each options as option (option.value)}\r\n        <button\r\n          type=\"button\"\r\n          class=\"dropdown-option\"\r\n          class:selected={option.value === value}\r\n          onclick={() => select(option.value)}\r\n          role=\"option\"\r\n          aria-selected={option.value === value}\r\n        >\r\n          {option.label}\r\n        </button>\r\n      {/each}\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .custom-dropdown {\r\n    position: relative;\r\n    display: inline-block;\r\n  }\r\n\r\n  .dropdown-button {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    padding: 0.4rem 0.6rem;\r\n    background: var(--vscode-input-background) !important;\r\n    color: var(--vscode-input-foreground) !important;\r\n    border: 1px solid var(--vscode-input-border) !important;\r\n    border-radius: 3px;\r\n    font-size: 0.85rem;\r\n    font-family: var(--vscode-font-family);\r\n    cursor: pointer;\r\n    transition: border-color 0.15s ease;\r\n  }\r\n\r\n  .dropdown-button:hover {\r\n    border-color: var(--vscode-inputOption-hoverBorder, var(--vscode-focusBorder));\r\n  }\r\n\r\n  .dropdown-button:focus {\r\n    outline: none;\r\n    border-color: var(--vscode-focusBorder);\r\n  }\r\n\r\n  .dropdown-label {\r\n    flex: 1;\r\n    text-align: left;\r\n  }\r\n\r\n  .dropdown-arrow {\r\n    margin-left: 0.5rem;\r\n    font-size: 0.7rem;\r\n    transition: transform 0.15s ease;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n\r\n  .dropdown-arrow.open {\r\n    transform: rotate(180deg);\r\n  }\r\n\r\n  .dropdown-menu {\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 1000;\r\n    margin-top: 0.25rem;\r\n    background: var(--vscode-dropdown-background, var(--vscode-input-background)) !important;\r\n    border: 1px solid var(--vscode-dropdown-border, var(--vscode-input-border)) !important;\r\n    border-radius: 3px;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\r\n    max-height: 200px;\r\n    overflow-y: auto;\r\n    min-width: 100%;\r\n  }\r\n\r\n  .dropdown-option {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 0.5rem 0.75rem;\r\n    background: var(--vscode-dropdown-background, var(--vscode-input-background)) !important;\r\n    color: var(--vscode-dropdown-foreground, var(--vscode-input-foreground)) !important;\r\n    border: none;\r\n    text-align: left;\r\n    font-size: 0.85rem;\r\n    font-family: var(--vscode-font-family);\r\n    cursor: pointer;\r\n    transition: background-color 0.1s ease;\r\n  }\r\n\r\n  .dropdown-option:hover {\r\n    background: var(--vscode-list-hoverBackground) !important;\r\n    color: var(--vscode-list-hoverForeground) !important;\r\n  }\r\n\r\n  .dropdown-option.selected {\r\n    background: var(--vscode-list-activeSelectionBackground) !important;\r\n    color: var(--vscode-list-activeSelectionForeground) !important;\r\n  }\r\n\r\n  .dropdown-option:focus {\r\n    outline: none;\r\n    background: var(--vscode-list-focusBackground, var(--vscode-list-hoverBackground));\r\n    color: var(--vscode-list-focusForeground, var(--vscode-list-hoverForeground));\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/ErrorBanner.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: fsmEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  interface Props {\r\n    error: {\r\n      message: string;\r\n      type: 'authentication' | 'network' | 'authorization' | 'server';\r\n      recoverable: boolean;\r\n      suggestedAction?: string;\r\n    };\r\n    onRetry?: () => void;\r\n    onFixAuth?: () => void;\r\n    onDismiss?: () => void;\r\n  }\r\n\r\n  const { error, onRetry, onFixAuth, onDismiss }: Props = $props();\r\n\r\n  function handleAction() {\r\n    if (error.type === 'authentication' && onFixAuth) {\r\n      onFixAuth();\r\n    } else if (onRetry) {\r\n      onRetry();\r\n    }\r\n  }\r\n\r\n  function getActionLabel(): string {\r\n    if (error.suggestedAction) {\r\n      return error.suggestedAction;\r\n    }\r\n    if (error.type === 'authentication') {\r\n      return 'Fix Authentication';\r\n    }\r\n    return 'Retry';\r\n  }\r\n</script>\r\n\r\n{#if error}\r\n  <div class=\"error-banner\" role=\"alert\">\r\n    <div class=\"error-content\">\r\n      <span class=\"error-icon\">‚ö†Ô∏è</span>\r\n      <div class=\"error-message\">\r\n        <strong>{error.message}</strong>\r\n        {#if error.type === 'authentication'}\r\n          <span class=\"error-hint\">Please update your credentials to continue.</span>\r\n        {:else if error.type === 'network'}\r\n          <span class=\"error-hint\">Check your internet connection and try again.</span>\r\n        {/if}\r\n      </div>\r\n    </div>\r\n    <div class=\"error-actions\">\r\n      {#if error.recoverable}\r\n        <button class=\"action-button primary\" onclick={handleAction}>\r\n          {getActionLabel()}\r\n        </button>\r\n      {/if}\r\n      {#if onDismiss}\r\n        <button class=\"action-button secondary\" onclick={onDismiss} title=\"Dismiss\">\r\n          ‚úï\r\n        </button>\r\n      {/if}\r\n    </div>\r\n  </div>\r\n{/if}\r\n\r\n<style>\r\n  .error-banner {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    gap: 1rem;\r\n    padding: 0.75rem 1rem;\r\n    background: var(--vscode-inputValidation-errorBackground);\r\n    border: 1px solid var(--vscode-inputValidation-errorBorder);\r\n    color: var(--vscode-errorForeground);\r\n    border-radius: 4px;\r\n    margin-bottom: 1rem;\r\n  }\r\n\r\n  .error-content {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    gap: 0.75rem;\r\n    flex: 1;\r\n  }\r\n\r\n  .error-icon {\r\n    font-size: 1.25rem;\r\n    flex-shrink: 0;\r\n  }\r\n\r\n  .error-message {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.25rem;\r\n    flex: 1;\r\n  }\r\n\r\n  .error-message strong {\r\n    font-weight: 600;\r\n  }\r\n\r\n  .error-hint {\r\n    font-size: 0.875rem;\r\n    opacity: 0.9;\r\n  }\r\n\r\n  .error-actions {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    align-items: center;\r\n    flex-shrink: 0;\r\n  }\r\n\r\n  .action-button {\r\n    padding: 0.375rem 0.75rem;\r\n    border: 1px solid transparent;\r\n    border-radius: 3px;\r\n    font-size: 0.875rem;\r\n    cursor: pointer;\r\n    transition: background-color 0.2s;\r\n  }\r\n\r\n  .action-button.primary {\r\n    background: var(--vscode-button-background);\r\n    color: var(--vscode-button-foreground);\r\n  }\r\n\r\n  .action-button.primary:hover {\r\n    background: var(--vscode-button-hoverBackground);\r\n  }\r\n\r\n  .action-button.secondary {\r\n    background: transparent;\r\n    color: var(--vscode-foreground);\r\n    border-color: var(--vscode-input-border);\r\n    padding: 0.25rem 0.5rem;\r\n    min-width: 1.5rem;\r\n  }\r\n\r\n  .action-button.secondary:hover {\r\n    background: var(--vscode-list-hoverBackground);\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/EmptyState.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: fsmEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  interface Props {\r\n    hasError: boolean;\r\n    error?: {\r\n      message: string;\r\n      type: 'authentication' | 'network' | 'authorization' | 'server';\r\n      recoverable: boolean;\r\n      suggestedAction?: string;\r\n    };\r\n    onRetry?: () => void;\r\n    onFixAuth?: () => void;\r\n  }\r\n\r\n  const { hasError, error, onRetry, onFixAuth }: Props = $props();\r\n\r\n  function handleAction() {\r\n    if (error?.type === 'authentication' && onFixAuth) {\r\n      onFixAuth();\r\n    } else if (onRetry) {\r\n      onRetry();\r\n    }\r\n  }\r\n\r\n  function getActionLabel(): string {\r\n    if (error?.suggestedAction) {\r\n      return error.suggestedAction;\r\n    }\r\n    if (error?.type === 'authentication') {\r\n      return 'Re-authenticate';\r\n    }\r\n    return 'Retry';\r\n  }\r\n</script>\r\n\r\n<div class=\"empty-state\">\r\n  {#if hasError && error}\r\n    <div class=\"empty-state-content error\">\r\n      <div class=\"empty-state-icon\">‚ö†Ô∏è</div>\r\n      <h3 class=\"empty-state-title\">Unable to load work items</h3>\r\n      <p class=\"empty-state-message\">{error.message}</p>\r\n      {#if error.recoverable}\r\n        <button class=\"empty-state-action\" onclick={handleAction}>\r\n          {getActionLabel()}\r\n        </button>\r\n      {/if}\r\n    </div>\r\n  {:else}\r\n    <div class=\"empty-state-content\">\r\n      <div class=\"empty-state-icon\">üìã</div>\r\n      <h3 class=\"empty-state-title\">No work items</h3>\r\n      <p class=\"empty-state-message\">Select a query or connection to view work items.</p>\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .empty-state {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    min-height: 300px;\r\n    padding: 2rem;\r\n  }\r\n\r\n  .empty-state-content {\r\n    text-align: center;\r\n    max-width: 400px;\r\n  }\r\n\r\n  .empty-state-content.error {\r\n    color: var(--vscode-errorForeground);\r\n  }\r\n\r\n  .empty-state-icon {\r\n    font-size: 3rem;\r\n    margin-bottom: 1rem;\r\n    opacity: 0.6;\r\n  }\r\n\r\n  .empty-state-title {\r\n    font-size: 1.25rem;\r\n    font-weight: 600;\r\n    margin: 0 0 0.5rem 0;\r\n    color: var(--vscode-foreground);\r\n  }\r\n\r\n  .empty-state-message {\r\n    font-size: 0.875rem;\r\n    color: var(--vscode-descriptionForeground);\r\n    margin: 0 0 1.5rem 0;\r\n    line-height: 1.5;\r\n  }\r\n\r\n  .empty-state-action {\r\n    padding: 0.5rem 1rem;\r\n    background: var(--vscode-button-background);\r\n    color: var(--vscode-button-foreground);\r\n    border: none;\r\n    border-radius: 3px;\r\n    font-size: 0.875rem;\r\n    cursor: pointer;\r\n    transition: background-color 0.2s;\r\n  }\r\n\r\n  .empty-state-action:hover {\r\n    background: var(--vscode-button-hoverBackground);\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/WorkItemList.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: appEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  import Dropdown from './Dropdown.svelte';\r\n  import ErrorBanner from './ErrorBanner.svelte';\r\n  import EmptyState from './EmptyState.svelte';\r\n\r\n  interface Props {\r\n    context: any;\r\n    sendEvent: (event: any) => void;\r\n    matches?: Record<string, boolean>;\r\n    query?: string;\r\n    onQueryChange?: (query: string) => void;\r\n  }\r\n\r\n  const { context, sendEvent, query: propQuery, onQueryChange }: Props = $props();\r\n\r\n  // NOTE: Loading state is managed centrally by the FSM through ui.loading.workItems\r\n  // The FSM sets this when entering loadingData state (query changes, refresh, etc.)\r\n\r\n  const activeConnectionId = $derived(context?.activeConnectionId);\r\n  \r\n  // Query selector\r\n  const predefinedQueries = [\r\n    'My Activity',\r\n    'Assigned to me',\r\n    'Recently Updated',\r\n    'Created By Me',\r\n    'All Active',\r\n    'All Work Items', // Includes closed/completed items\r\n  ];\r\n  const currentQuery = $derived(propQuery || context?.activeQuery || predefinedQueries[0]);\r\n  \r\n  // CRITICAL: Filter work items to only show those for the active connection\r\n  // This ensures work items from one connection are never shown when another connection's tab is selected\r\n  const pendingWorkItemsConnectionId = $derived(context?.pendingWorkItems?.connectionId);\r\n  const connectionWorkItems = $derived(context?.connectionWorkItems || {});\r\n  \r\n  const workItems = $derived.by(() => {\r\n    if (!activeConnectionId) {\r\n      return [];\r\n    }\r\n\r\n    // Priority 1: Check pendingWorkItems if it matches the active connection\r\n    if (pendingWorkItemsConnectionId === activeConnectionId && context?.pendingWorkItems?.workItems) {\r\n      return context.pendingWorkItems.workItems;\r\n    }\r\n\r\n    // Priority 2: Check connectionWorkItems map for the active connection\r\n    const connectionItems = connectionWorkItems[activeConnectionId];\r\n    if (Array.isArray(connectionItems) && connectionItems.length > 0) {\r\n      return connectionItems;\r\n    }\r\n\r\n    // Priority 3: Fallback to legacy workItems array (for backward compatibility)\r\n    if (Array.isArray(context?.workItems) && context.workItems.length > 0) {\r\n      return context.workItems;\r\n    }\r\n\r\n    return [];\r\n  });\r\n  const timerState = $derived(context?.timerState);\r\n  const workItemsError = $derived(context?.workItemsError);\r\n  const workItemsErrorConnectionId = $derived(context?.workItemsErrorConnectionId);\r\n  const showError = $derived(workItemsError && workItemsErrorConnectionId === activeConnectionId);\r\n  \r\n  // Get UI state from FSM - loading state is managed centrally in FSM\r\n  const uiState = $derived(context?.ui);\r\n  const connectionHealth = $derived(uiState?.connectionHealth);\r\n  const hasConnectionError = $derived(connectionHealth?.status === 'error' && connectionHealth?.lastError);\r\n  const connectionError = $derived(connectionHealth?.lastError);\r\n  \r\n  // FSM-MANAGED LOADING STATE - Read from FSM context, never set locally\r\n  // The FSM sets ui.loading.workItems when entering loadingData state\r\n  // and clears it when exiting (via entry/exit actions)\r\n  const showLoading = $derived(uiState?.loading?.workItems === true);\r\n\r\n  // Force reactivity every second to update timer display\r\n  let tick = $state(0);\r\n  setInterval(() => {\r\n    tick = (tick + 1) % 1000;\r\n  }, 1000);\r\n\r\n  // Compute elapsed time from startTime\r\n  const timerElapsedSeconds = $derived.by(() => {\r\n    // Trigger recomputation on tick\r\n   \r\n\r\n    if (!timerState?.startTime) return 0;\r\n\r\n    const stopTime = timerState.stopTime;\r\n    const now = stopTime || Date.now();\r\n    const elapsed = Math.floor((now - timerState.startTime) / 1000);\r\n\r\n    return Math.max(0, elapsed);\r\n  });\r\n\r\n  // Filters\r\n  let filterText = $state('');\r\n  let typeFilter = $state('');\r\n  let stateFilter = $state('all');\r\n  let sortKey = $state('updated-desc');\r\n\r\n  // Extract available types and states from work items\r\n  const availableTypes = $derived([\r\n    ...new Set(workItems.map((w: any) => w.fields?.['System.WorkItemType']).filter(Boolean) as string[]),\r\n  ]);\r\n  const availableStates = $derived([\r\n    ...new Set(\r\n      workItems.map((w: any) => normalizeState(w.fields?.['System.State'])).filter(Boolean) as string[]\r\n    ),\r\n  ]);\r\n\r\n  // Filter and sort work items\r\n  const filteredItems = $derived(\r\n    workItems\r\n      .filter((item: any) => {\r\n        const title = (item.fields?.['System.Title'] || '').toLowerCase();\r\n        const matchesText = !filterText || title.includes(filterText.toLowerCase());\r\n        const matchesType = !typeFilter || item.fields?.['System.WorkItemType'] === typeFilter;\r\n        const itemState = normalizeState(item.fields?.['System.State']);\r\n        const matchesState = stateFilter === 'all' || itemState === stateFilter;\r\n        return matchesText && matchesType && matchesState;\r\n      })\r\n      .sort((a: any, b: any) => {\r\n        switch (sortKey) {\r\n          case 'id-asc':\r\n            return Number(a.id) - Number(b.id);\r\n          case 'id-desc':\r\n            return Number(b.id) - Number(a.id);\r\n          case 'title-asc':\r\n            return (a.fields?.['System.Title'] || '').localeCompare(\r\n              b.fields?.['System.Title'] || ''\r\n            );\r\n          case 'updated-desc':\r\n          default:\r\n            return (\r\n              new Date(b.fields?.['System.ChangedDate'] || 0).getTime() -\r\n              new Date(a.fields?.['System.ChangedDate'] || 0).getTime()\r\n            );\r\n        }\r\n      })\r\n  );\r\n\r\n  function normalizeState(raw: string): string {\r\n    if (!raw) return 'new';\r\n    const s = String(raw).toLowerCase().trim().replace(/\\s+/g, '-');\r\n    if (['new', 'to-do', 'todo', 'proposed'].includes(s)) return 'new';\r\n    if (s === 'active') return 'active';\r\n    if (['in-progress', 'inprogress', 'doing'].includes(s)) return 'inprogress';\r\n    if (['review', 'code-review', 'testing'].includes(s)) return 'review';\r\n    if (s === 'resolved') return 'resolved';\r\n    if (s === 'done') return 'done';\r\n    if (['closed', 'completed'].includes(s)) return 'closed';\r\n    return 'new';\r\n  }\r\n\r\n  function getWorkItemTypeIcon(type: string): string {\r\n    const t = String(type || '').toLowerCase();\r\n    if (t.includes('bug')) return '\\uf41d';\r\n    if (t.includes('task')) return '\\uf0f7';\r\n    if (t.includes('story') || t.includes('user story')) return '\\uf413';\r\n    if (t.includes('feature')) return '\\uf0e7';\r\n    if (t.includes('epic')) return '\\uf0f2';\r\n    return '\\uf0c5';\r\n  }\r\n\r\n  function getPriorityClass(priority: any): string {\r\n    const p = Number(priority) || 3;\r\n    if (p === 1) return 'priority-1';\r\n    if (p === 2) return 'priority-2';\r\n    if (p === 3) return 'priority-3';\r\n    if (p === 4) return 'priority-4';\r\n    return 'priority-3';\r\n  }\r\n\r\n  \r\n  function handleStartTimer(item: any, event: Event) {\r\n    event.stopPropagation();\r\n\r\n    // Toggle: if timer is running on this item, stop it; otherwise start it\r\n    if (timerState?.workItemId === item.id && timerState?.state !== 'idle') {\r\n      sendEvent({ type: 'STOP_TIMER' });\r\n    } else {\r\n      sendEvent({\r\n        type: 'START_TIMER_INTERACTIVE',\r\n        workItemId: item.id,\r\n        workItemTitle: item.fields?.['System.Title'],\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleEditItem(item: any, event: Event) {\r\n    event.stopPropagation();\r\n    sendEvent({ type: 'EDIT_WORK_ITEM', workItemId: item.id });\r\n  }\r\n\r\n  function handleOpenInBrowser(item: any, event: Event) {\r\n    event.stopPropagation();\r\n    sendEvent({ type: 'OPEN_IN_BROWSER', workItemId: item.id });\r\n  }\r\n\r\n  function handleCreateBranch(item: any, event: Event) {\r\n    event.stopPropagation();\r\n    sendEvent({ type: 'CREATE_BRANCH', workItemId: item.id });\r\n  }\r\n\r\n  // State for timer display preferences\r\n  let displayTimerSeconds = $state(true);\r\n  let timerHoverStart = $state(0);\r\n\r\n  function formatElapsedTime(seconds: number, forceShowSeconds: boolean = true): string {\r\n    const hours = Math.floor(seconds / 3600);\r\n    const mins = Math.floor((seconds % 3600) / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n\r\n    // Show seconds for first 30 seconds, or when forced, or when recently hovered\r\n    const showSeconds =\r\n      forceShowSeconds &&\r\n      (seconds < 30 ||\r\n        displayTimerSeconds ||\r\n        (timerHoverStart > 0 && Date.now() - timerHoverStart < 30000));\r\n\r\n    if (hours > 0) {\r\n      return showSeconds\r\n        ? `${hours}:${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`\r\n        : `${hours}:${String(mins).padStart(2, '0')}`;\r\n    }\r\n    // Always show MM:SS format, even for 0:00\r\n    return showSeconds ? `${mins}:${String(secs).padStart(2, '0')}` : `${mins}m`;\r\n  }\r\n\r\n  function handleTimerMouseEnter() {\r\n    timerHoverStart = Date.now();\r\n  }\r\n\r\n  function handleTimerMouseLeave() {\r\n    // Keep showing seconds for another 30 seconds after hover ends\r\n    setTimeout(() => {\r\n      timerHoverStart = 0;\r\n    }, 30000);\r\n  }\r\n</script>\r\n\r\n<div class=\"work-item-list\" style=\"position: relative;\">\r\n  {#if !activeConnectionId}\r\n    <div class=\"empty-state\">\r\n      <p>No active connection selected.</p>\r\n      <p class=\"hint\">Configure a connection in settings to get started.</p>\r\n    </div>\r\n  {:else}\r\n    <!-- Query Selector -->\r\n    {#if onQueryChange}\r\n      <div class=\"query-selector-bar\">\r\n        <label for=\"query-select\" class=\"query-label\">Query:</label>\r\n        <Dropdown\r\n          value={currentQuery}\r\n          options={predefinedQueries.map((q) => ({ value: q, label: q }))}\r\n          onChange={(value) => {\r\n            // Send query change - FSM will set loading state automatically\r\n            if (onQueryChange) {\r\n              onQueryChange(value);\r\n            }\r\n          }}\r\n          class=\"query-select\"\r\n        />\r\n      </div>\r\n    {/if}\r\n    \r\n    <!-- Filters Bar -->\r\n    <div class=\"filters-bar\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Filter by title...\"\r\n        bind:value={filterText}\r\n        class=\"filter-input\"\r\n      />\r\n      <Dropdown\r\n        value={typeFilter}\r\n        options={[\r\n          { value: '', label: 'All Types' },\r\n          ...availableTypes.map((type: string) => ({ value: type, label: type })),\r\n        ]}\r\n        onChange={(value) => {\r\n          typeFilter = value;\r\n        }}\r\n      />\r\n      <Dropdown\r\n        value={stateFilter}\r\n        options={[\r\n          { value: 'all', label: 'All States' },\r\n          ...availableStates.map((state: string) => ({ value: state, label: state })),\r\n        ]}\r\n        onChange={(value) => {\r\n          stateFilter = value;\r\n        }}\r\n      />\r\n      <Dropdown\r\n        value={sortKey}\r\n        options={[\r\n          { value: 'updated-desc', label: 'Updated ‚Üì' },\r\n          { value: 'id-desc', label: 'ID ‚Üì' },\r\n          { value: 'id-asc', label: 'ID ‚Üë' },\r\n          { value: 'title-asc', label: 'Title A‚ÜíZ' },\r\n        ]}\r\n        onChange={(value) => {\r\n          sortKey = value;\r\n        }}\r\n      />\r\n    </div>\r\n\r\n    {#if showLoading}\r\n      {#if workItems.length === 0}\r\n        <!-- Full loading indicator when no work items exist -->\r\n        <div class=\"loading-indicator\">\r\n          <div class=\"loading-spinner\"></div>\r\n          <p>Loading work items...</p>\r\n        </div>\r\n      {:else}\r\n        <!-- Discrete loading spinner - positioned absolutely to not affect layout -->\r\n        <div class=\"loading-spinner-container\">\r\n          <div class=\"loading-spinner small\"></div>\r\n        </div>\r\n      {/if}\r\n    {/if}\r\n    {#if hasConnectionError && connectionError}\r\n      <ErrorBanner\r\n        error={connectionError.type === 'authentication'\r\n          ? { ...connectionError, suggestedAction: 'Change auth / start new sign-in' }\r\n          : connectionError}\r\n        onRetry={() => sendEvent({ type: 'REFRESH_DATA' })}\r\n        onFixAuth={() => sendEvent({ type: 'RESET_AUTH', connectionId: activeConnectionId })}\r\n        onDismiss={() => {\r\n          // Dismiss handled by FSM clearing error state\r\n        }}\r\n      />\r\n    {/if}\r\n    {#if (hasConnectionError || showError) && workItems.length === 0 && !showLoading}\r\n      <EmptyState\r\n        hasError={true}\r\n        error={connectionError || (showError ? {\r\n          message: workItemsError || 'Unable to load work items',\r\n          type: 'authentication' as const,\r\n          recoverable: true,\r\n          suggestedAction: 'Change auth / start new sign-in',\r\n        } : undefined)}\r\n        onRetry={() => sendEvent({ type: 'REFRESH_DATA' })}\r\n        onFixAuth={() => sendEvent({ type: 'RESET_AUTH', connectionId: activeConnectionId })}\r\n      />\r\n    {:else if filteredItems.length === 0 && workItems.length > 0}\r\n      <div class=\"empty-state\">\r\n        <p>No items match your filters.</p>\r\n        <button\r\n          onclick={() => {\r\n            filterText = '';\r\n            typeFilter = '';\r\n            stateFilter = 'all';\r\n          }}>Clear Filters</button\r\n        >\r\n      </div>\r\n    {:else}\r\n      <div class=\"items-container\">\r\n        {#each filteredItems as item (item.id)}\r\n          <div class=\"work-item-card\">\r\n            <div class=\"card-header\">\r\n              <span class=\"type-icon\"\r\n                >{getWorkItemTypeIcon(item.fields?.['System.WorkItemType'])}</span\r\n              >\r\n              <span class=\"item-id\">#{item.id}</span>\r\n              <span\r\n                class=\"priority {getPriorityClass(item.fields?.['Microsoft.VSTS.Common.Priority'])}\"\r\n              >\r\n                P{item.fields?.['Microsoft.VSTS.Common.Priority'] || '3'}\r\n              </span>\r\n            </div>\r\n\r\n            <div class=\"card-body\">\r\n              <div class=\"item-title\">\r\n                {item.fields?.['System.Title'] || `Work Item #${item.id}`}\r\n              </div>\r\n\r\n              <div class=\"item-meta\">\r\n                <span class=\"meta-badge type\">{item.fields?.['System.WorkItemType'] || 'Task'}</span\r\n                >\r\n                <span\r\n                  class=\"meta-badge state state-{normalizeState(item.fields?.['System.State'])}\"\r\n                >\r\n                  {item.fields?.['System.State'] || 'New'}\r\n                </span>\r\n                {#if item.fields?.['System.AssignedTo']}\r\n                  <span class=\"meta-badge assignee\">\r\n                    {item.fields['System.AssignedTo'].displayName ||\r\n                      item.fields['System.AssignedTo']}\r\n                  </span>\r\n                {/if}\r\n                {#if timerState?.workItemId === item.id}\r\n                  <span\r\n                    class=\"meta-badge timer-badge\"\r\n                    title=\"Timer Active\"\r\n                    role=\"button\"\r\n                    tabindex=\"0\"\r\n                    onmouseenter={handleTimerMouseEnter}\r\n                    onmouseleave={handleTimerMouseLeave}\r\n                  >\r\n                    <span class=\"codicon\">‚è±</span>\r\n                    {formatElapsedTime(timerElapsedSeconds)}\r\n                  </span>\r\n                {/if}\r\n              </div>\r\n\r\n              <!-- Action Buttons -->\r\n              <div class=\"item-actions\">\r\n                <button\r\n                  class=\"action-btn primary\"\r\n                  onclick={(e) => handleStartTimer(item, e)}\r\n                  title={timerState?.workItemId === item.id ? 'Stop Timer' : 'Start Timer'}\r\n                  aria-label={timerState?.workItemId === item.id ? 'Stop Timer' : 'Start Timer'}\r\n                >\r\n                  <span class=\"codicon\">{timerState?.workItemId === item.id ? '‚èπ' : '‚ñ∂'}</span>\r\n                </button>\r\n                <button\r\n                  class=\"action-btn\"\r\n                  onclick={(e) => handleEditItem(item, e)}\r\n                  title=\"Edit Work Item\"\r\n                  aria-label=\"Edit Work Item\"\r\n                >\r\n                  <span class=\"codicon\">‚úé</span>\r\n                </button>\r\n                <button\r\n                  class=\"action-btn\"\r\n                  onclick={(e) => handleCreateBranch(item, e)}\r\n                  title=\"Create Branch\"\r\n                  aria-label=\"Create Branch\"\r\n                >\r\n                  <span class=\"codicon\">‚éá</span>\r\n                </button>\r\n                <button\r\n                  class=\"action-btn\"\r\n                  onclick={(e) => handleOpenInBrowser(item, e)}\r\n                  title=\"Open in Azure DevOps\"\r\n                  aria-label=\"Open in Azure DevOps\"\r\n                >\r\n                  <span class=\"codicon\">üåê</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        {/each}\r\n      </div>\r\n    {/if}\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .work-item-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    gap: 0.75rem;\r\n  }\r\n\r\n  .empty-state {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 3rem 1rem;\r\n    text-align: center;\r\n    color: var(--vscode-descriptionForeground);\r\n    gap: 1rem;\r\n  }\r\n\r\n  .empty-state .hint {\r\n    font-size: 0.85rem;\r\n    opacity: 0.8;\r\n  }\r\n\r\n\r\n  .empty-state-actions {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    margin-top: 1rem;\r\n  }\r\n\r\n  .loading-indicator {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 3rem 1rem;\r\n    gap: 1rem;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n\r\n  .loading-spinner {\r\n    width: 32px;\r\n    height: 32px;\r\n    border: 3px solid var(--vscode-panel-border);\r\n    border-top-color: var(--vscode-textLink-foreground);\r\n    border-radius: 50%;\r\n    animation: spin 1s linear infinite;\r\n  }\r\n\r\n  .loading-spinner.small {\r\n    width: 16px;\r\n    height: 16px;\r\n    border-width: 2px;\r\n  }\r\n\r\n  .loading-spinner-container {\r\n    position: absolute;\r\n    top: 0.5rem;\r\n    right: 0.5rem;\r\n    z-index: 100;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 24px;\r\n    height: 24px;\r\n    pointer-events: none;\r\n  }\r\n\r\n  @keyframes spin {\r\n    to {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n\r\n  .query-selector-bar {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n    padding: 0.5rem 0;\r\n    margin-top: 0.5rem;\r\n    margin-bottom: 0.5rem;\r\n    border-top: 1px solid var(--vscode-panel-border, var(--vscode-input-border));\r\n  }\r\n  \r\n  .query-label {\r\n    font-size: 0.75rem;\r\n    color: var(--vscode-foreground);\r\n    white-space: nowrap;\r\n    font-weight: 500;\r\n  }\r\n  \r\n  .query-selector-bar :global(.query-select) {\r\n    min-width: 150px;\r\n  }\r\n  \r\n  .filters-bar {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    padding: 0.5rem 0;\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n  .filter-input {\r\n    padding: 0.4rem 0.6rem;\r\n    background: var(--vscode-input-background);\r\n    color: var(--vscode-input-foreground);\r\n    border: 1px solid var(--vscode-input-border);\r\n    border-radius: 3px;\r\n    font-size: 0.85rem;\r\n    font-family: var(--vscode-font-family);\r\n    flex: 1;\r\n    min-width: 150px;\r\n  }\r\n\r\n  .filter-input:focus {\r\n    outline: none;\r\n    border-color: var(--vscode-focusBorder);\r\n  }\r\n\r\n  /* Custom dropdown component styling */\r\n  .filters-bar :global(.custom-dropdown) {\r\n    min-width: 120px;\r\n  }\r\n\r\n  button {\r\n    background: var(--vscode-button-background);\r\n    color: var(--vscode-button-foreground);\r\n    border: none;\r\n    padding: 0.4rem 0.8rem;\r\n    cursor: pointer;\r\n    font-size: 0.85rem;\r\n    border-radius: 3px;\r\n    font-family: var(--vscode-font-family);\r\n  }\r\n\r\n  button:hover {\r\n    background: var(--vscode-button-hoverBackground);\r\n  }\r\n\r\n  .primary-btn {\r\n    background: var(--vscode-button-background);\r\n    padding: 0.5rem 1rem;\r\n  }\r\n\r\n  .items-container {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n\r\n  .work-item-card {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0.75rem;\r\n    background: var(--vscode-list-inactiveSelectionBackground);\r\n    border: 1px solid var(--vscode-panel-border);\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: all 0.15s ease;\r\n  }\r\n\r\n  .work-item-card:hover {\r\n    background: var(--vscode-list-hoverBackground);\r\n    border-color: var(--vscode-focusBorder);\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  .card-header {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n\r\n  .type-icon {\r\n    font-family: 'codicon';\r\n    font-size: 1rem;\r\n    color: var(--vscode-textLink-foreground);\r\n  }\r\n\r\n  .item-id {\r\n    font-size: 0.75rem;\r\n    font-weight: 600;\r\n    background: var(--vscode-badge-background);\r\n    color: var(--vscode-badge-foreground);\r\n    padding: 0.15rem 0.4rem;\r\n    border-radius: 8px;\r\n  }\r\n\r\n  .priority {\r\n    margin-left: auto;\r\n    font-size: 0.7rem;\r\n    font-weight: 600;\r\n    padding: 0.15rem 0.35rem;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .priority-1 {\r\n    background: rgba(209, 52, 56, 0.2);\r\n    color: #d13438;\r\n  }\r\n\r\n  .priority-2 {\r\n    background: rgba(255, 140, 0, 0.2);\r\n    color: #ff8c00;\r\n  }\r\n\r\n  .priority-3 {\r\n    background: rgba(0, 120, 212, 0.15);\r\n    color: #0078d4;\r\n  }\r\n\r\n  .priority-4 {\r\n    background: rgba(128, 128, 128, 0.15);\r\n    color: #808080;\r\n  }\r\n\r\n  .card-body {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n\r\n  .item-title {\r\n    font-size: 0.95rem;\r\n    font-weight: 500;\r\n    line-height: 1.3;\r\n    color: var(--vscode-foreground);\r\n  }\r\n\r\n  .item-meta {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 0.4rem;\r\n    font-size: 0.75rem;\r\n  }\r\n\r\n  .meta-badge {\r\n    padding: 0.2rem 0.5rem;\r\n    border-radius: 10px;\r\n    font-size: 0.7rem;\r\n    font-weight: 500;\r\n  }\r\n\r\n  .meta-badge.type {\r\n    background: var(--vscode-badge-background);\r\n    color: var(--vscode-badge-foreground);\r\n  }\r\n\r\n  .meta-badge.state {\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.02em;\r\n  }\r\n\r\n  .state-new {\r\n    background: rgba(0, 120, 212, 0.15);\r\n    color: #0078d4;\r\n  }\r\n\r\n  .state-active,\r\n  .state-inprogress {\r\n    background: rgba(255, 140, 0, 0.2);\r\n    color: #ff8c00;\r\n  }\r\n\r\n  .state-review {\r\n    background: rgba(92, 45, 145, 0.2);\r\n    color: #5c2d91;\r\n  }\r\n\r\n  .state-resolved,\r\n  .state-done,\r\n  .state-closed {\r\n    background: rgba(16, 124, 16, 0.2);\r\n    color: #107c10;\r\n  }\r\n\r\n  .meta-badge.assignee {\r\n    background: rgba(92, 45, 145, 0.15);\r\n    color: var(--vscode-foreground);\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.25rem;\r\n  }\r\n\r\n  .meta-badge.timer-badge {\r\n    background: rgba(0, 120, 212, 0.25);\r\n    color: #0078d4;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.3rem;\r\n    font-weight: 600;\r\n    animation: pulse 2s ease-in-out infinite;\r\n  }\r\n\r\n  .timer-badge .codicon {\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  @keyframes pulse {\r\n    0%,\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n    50% {\r\n      opacity: 0.7;\r\n    }\r\n  }\r\n\r\n  /* Action Buttons */\r\n  .item-actions {\r\n    display: flex;\r\n    gap: 0.4rem;\r\n    margin-top: 0.75rem;\r\n    padding-top: 0.75rem;\r\n    border-top: 1px solid var(--vscode-panel-border);\r\n    opacity: 0;\r\n    transition: opacity 0.2s ease;\r\n  }\r\n\r\n  .work-item-card:hover .item-actions {\r\n    opacity: 1;\r\n  }\r\n\r\n  .action-btn {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.3rem;\r\n    padding: 0.35rem 0.6rem;\r\n    background: var(--vscode-button-secondaryBackground);\r\n    color: var(--vscode-button-secondaryForeground);\r\n    border: 1px solid var(--vscode-button-border, transparent);\r\n    border-radius: 3px;\r\n    font-size: 0.75rem;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    transition: all 0.15s ease;\r\n  }\r\n\r\n  .action-btn:hover {\r\n    background: var(--vscode-button-secondaryHoverBackground);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .action-btn:active {\r\n    transform: translateY(0);\r\n  }\r\n\r\n  .action-btn.primary {\r\n    background: var(--vscode-button-background);\r\n    color: var(--vscode-button-foreground);\r\n  }\r\n\r\n  .action-btn.primary:hover {\r\n    background: var(--vscode-button-hoverBackground);\r\n  }\r\n\r\n  .action-btn .codicon {\r\n    font-size: 0.9rem;\r\n    line-height: 1;\r\n  }\r\n</style>\r\n", "<!--\r\nModule: src/webview/components/KanbanBoard.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: fsmEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  interface Props {\r\n    context: any;\r\n    sendEvent: (event: any) => void;\r\n  }\r\n\r\n  const { context, sendEvent }: Props = $props();\r\n\r\n  let selectedItemId = $state<string | null>(null);\r\n\r\n  // CRITICAL: Filter work items to only show those for the active connection\r\n  // This ensures work items from one connection are never shown when another connection's tab is selected\r\n  const activeConnectionId = $derived(context?.activeConnectionId);\r\n  const allWorkItems = $derived(context?.pendingWorkItems?.workItems || context?.workItems || []);\r\n  const pendingWorkItemsConnectionId = $derived(context?.pendingWorkItems?.connectionId);\r\n  const workItems = $derived.by(() => {\r\n    // If pendingWorkItems has a connectionId, filter by it\r\n    if (pendingWorkItemsConnectionId) {\r\n      // Only show work items if they belong to the active connection\r\n      if (pendingWorkItemsConnectionId === activeConnectionId) {\r\n        return allWorkItems;\r\n      }\r\n      // If pendingWorkItems is for a different connection, return empty array\r\n      return [];\r\n    }\r\n    // Fallback: if no connectionId in pendingWorkItems, only show if activeConnectionId matches\r\n    // This is a safety check - ideally all work items should have connectionId\r\n    return activeConnectionId ? allWorkItems : [];\r\n  });\r\n  \r\n  const columns = $derived(context?.kanbanColumns || []);\r\n  const timerState = $derived(context?.timerState);\r\n\r\n  // Create a map of work items by ID for quick lookup\r\n  const workItemsMap = $derived.by(() => {\r\n    const map = new Map();\r\n    workItems.forEach((item: any) => {\r\n      if (item?.id) {\r\n        map.set(String(item.id), item);\r\n      }\r\n    });\r\n    return map;\r\n  });\r\n\r\n  // Helper functions (same as WorkItemList)\r\n  function getWorkItemTypeIcon(type: string): string {\r\n    const t = String(type || '').toLowerCase();\r\n    if (t.includes('bug')) return '\\uf41d';\r\n    if (t.includes('task')) return '\\uf0f7';\r\n    if (t.includes('story') || t.includes('user story')) return '\\uf413';\r\n    if (t.includes('feature')) return '\\uf0e7';\r\n    if (t.includes('epic')) return '\\uf0f2';\r\n    return '\\uf0c5';\r\n  }\r\n\r\n  function getPriorityClass(priority: any): string {\r\n    const p = Number(priority) || 3;\r\n    if (p === 1) return 'priority-1';\r\n    if (p === 2) return 'priority-2';\r\n    if (p === 3) return 'priority-3';\r\n    if (p === 4) return 'priority-4';\r\n    return 'priority-3';\r\n  }\r\n\r\n  function handleItemClick(item: any, event: Event) {\r\n    event.stopPropagation();\r\n    // Select the item instead of opening in browser\r\n    selectedItemId = String(item.id);\r\n  }\r\n\r\n  function handleStartTimer(item: any, event: Event) {\r\n    event.stopPropagation();\r\n    if (timerState?.workItemId === item.id && timerState?.state !== 'idle') {\r\n      sendEvent({ type: 'STOP_TIMER' });\r\n    } else {\r\n      sendEvent({\r\n        type: 'START_TIMER_INTERACTIVE',\r\n        workItemId: item.id,\r\n        workItemTitle: item.fields?.['System.Title'],\r\n      });\r\n    }\r\n  }\r\n</script>\r\n\r\n<div class=\"kanban-board\">\r\n  {#if columns.length === 0}\r\n    <div class=\"empty\">No columns available ‚Äì load work items or switch view.</div>\r\n  {:else}\r\n    <div class=\"columns\">\r\n      {#each columns as col (col.id)}\r\n        <div class=\"column\">\r\n          <div class=\"column-header\">\r\n            <h3>{col.title}</h3>\r\n            <span class=\"count\">{col.itemIds.length}</span>\r\n          </div>\r\n          <div class=\"items\">\r\n            {#each col.itemIds as id (id)}\r\n              {@const item = workItemsMap.get(String(id))}\r\n              {#if item}\r\n                <div\r\n                  class=\"kanban-item\"\r\n                  class:selected={selectedItemId === String(item.id)}\r\n                  role=\"button\"\r\n                  tabindex=\"0\"\r\n                  onclick={(e) => handleItemClick(item, e)}\r\n                  onkeydown={(e) => {\r\n                    if (e.key === 'Enter' || e.key === ' ') {\r\n                      e.preventDefault();\r\n                      handleItemClick(item, e);\r\n                    }\r\n                  }}\r\n                >\r\n                  <div class=\"kanban-item-header\">\r\n                    <span class=\"type-icon\">{getWorkItemTypeIcon(item.fields?.['System.WorkItemType'])}</span>\r\n                    <span class=\"item-id\">#{item.id}</span>\r\n                    <span class=\"priority {getPriorityClass(item.fields?.['Microsoft.VSTS.Common.Priority'])}\">\r\n                      P{item.fields?.['Microsoft.VSTS.Common.Priority'] || '3'}\r\n                    </span>\r\n                  </div>\r\n                  <div class=\"kanban-item-title\">\r\n                    {item.fields?.['System.Title'] || `Work Item #${item.id}`}\r\n                  </div>\r\n                  <div class=\"kanban-item-meta\">\r\n                    <span class=\"meta-badge type\">{item.fields?.['System.WorkItemType'] || 'Task'}</span>\r\n                    {#if item.fields?.['System.AssignedTo']}\r\n                      <span class=\"meta-badge assignee\">\r\n                        {item.fields['System.AssignedTo'].displayName || item.fields['System.AssignedTo']}\r\n                      </span>\r\n                    {/if}\r\n                    {#if timerState?.workItemId === item.id}\r\n                      <span class=\"meta-badge timer-badge\" title=\"Timer Active\">‚è±</span>\r\n                    {/if}\r\n                  </div>\r\n                  <div class=\"kanban-item-actions\">\r\n                    <button\r\n                      class=\"action-btn\"\r\n                      onclick={(e) => handleStartTimer(item, e)}\r\n                      title={timerState?.workItemId === item.id ? 'Stop Timer' : 'Start Timer'}\r\n                    >\r\n                      <span class=\"codicon\">{timerState?.workItemId === item.id ? '‚èπ' : '‚ñ∂'}</span>\r\n                    </button>\r\n                    <button\r\n                      class=\"action-btn\"\r\n                      onclick={(e) => { e.stopPropagation(); sendEvent({ type: 'OPEN_IN_BROWSER', workItemId: item.id }); }}\r\n                      title=\"Open in Azure DevOps\"\r\n                    >\r\n                      <span class=\"codicon\">üåê</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              {:else}\r\n                <!-- Fallback if work item not found -->\r\n                <div class=\"kanban-item kanban-item-placeholder\">\r\n                  <span>#{id}</span>\r\n                </div>\r\n              {/if}\r\n            {/each}\r\n          </div>\r\n        </div>\r\n      {/each}\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .kanban-board {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.75rem;\r\n  }\r\n  .columns {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n    gap: 0.75rem;\r\n  }\r\n  .column {\r\n    background: var(--vscode-sideBar-background);\r\n    border: 1px solid var(--vscode-panel-border);\r\n    padding: 0.5rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n  .column-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  h3 {\r\n    margin: 0;\r\n    font-size: 0.95rem;\r\n  }\r\n  .count {\r\n    background: var(--vscode-badge-background);\r\n    color: var(--vscode-badge-foreground);\r\n    padding: 0 0.4rem;\r\n    border-radius: 1rem;\r\n    font-size: 0.75rem;\r\n  }\r\n  .items {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.4rem;\r\n  }\r\n  .kanban-item {\r\n    background: var(--vscode-list-inactiveSelectionBackground);\r\n    border: 1px solid var(--vscode-panel-border);\r\n    padding: 0.6rem;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 0.85rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.4rem;\r\n    transition: background 0.15s ease;\r\n  }\r\n  .kanban-item:hover {\r\n    background: var(--vscode-list-hoverBackground);\r\n    border-color: var(--vscode-focusBorder);\r\n  }\r\n  .kanban-item.selected {\r\n    background: var(--vscode-list-activeSelectionBackground);\r\n    color: var(--vscode-list-activeSelectionForeground);\r\n    border-color: var(--vscode-focusBorder);\r\n  }\r\n  .kanban-item.selected .kanban-item-title {\r\n    color: var(--vscode-list-activeSelectionForeground);\r\n  }\r\n  .kanban-item.selected .type-icon {\r\n    color: var(--vscode-list-activeSelectionForeground);\r\n  }\r\n  .kanban-item-header {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.4rem;\r\n    font-size: 0.75rem;\r\n  }\r\n  .type-icon {\r\n    font-family: 'codicon';\r\n    font-size: 0.9rem;\r\n    color: var(--vscode-icon-foreground);\r\n  }\r\n  .item-id {\r\n    font-weight: 600;\r\n    color: var(--vscode-textLink-foreground);\r\n  }\r\n  .priority {\r\n    margin-left: auto;\r\n    padding: 0.1rem 0.3rem;\r\n    border-radius: 2px;\r\n    font-size: 0.7rem;\r\n    font-weight: 500;\r\n  }\r\n  .priority.priority-1 {\r\n    background: var(--vscode-inputValidation-errorBackground);\r\n    color: var(--vscode-inputValidation-errorForeground);\r\n  }\r\n  .priority.priority-2 {\r\n    background: var(--vscode-inputValidation-warningBackground);\r\n    color: var(--vscode-inputValidation-warningForeground);\r\n  }\r\n  .priority.priority-3,\r\n  .priority.priority-4 {\r\n    background: var(--vscode-badge-background);\r\n    color: var(--vscode-badge-foreground);\r\n  }\r\n  .kanban-item-title {\r\n    font-weight: 500;\r\n    color: var(--vscode-foreground);\r\n    line-height: 1.3;\r\n    word-wrap: break-word;\r\n  }\r\n  .kanban-item-meta {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 0.3rem;\r\n    font-size: 0.75rem;\r\n  }\r\n  .meta-badge {\r\n    padding: 0.15rem 0.4rem;\r\n    border-radius: 2px;\r\n    font-size: 0.7rem;\r\n    background: var(--vscode-badge-background);\r\n    color: var(--vscode-badge-foreground);\r\n  }\r\n  .meta-badge.type {\r\n    background: var(--vscode-textPreformat-background);\r\n    color: var(--vscode-textPreformat-foreground);\r\n  }\r\n  .meta-badge.assignee {\r\n    background: var(--vscode-button-secondaryBackground);\r\n    color: var(--vscode-button-secondaryForeground);\r\n  }\r\n  .meta-badge.timer-badge {\r\n    background: var(--vscode-progressBar-background);\r\n    color: var(--vscode-badge-foreground);\r\n  }\r\n  .kanban-item-actions {\r\n    display: flex;\r\n    gap: 0.3rem;\r\n    margin-top: 0.2rem;\r\n  }\r\n  .action-btn {\r\n    background: transparent;\r\n    border: 1px solid var(--vscode-button-border, transparent);\r\n    color: var(--vscode-foreground);\r\n    padding: 0.2rem 0.4rem;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n    font-size: 0.75rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: background 0.15s ease;\r\n  }\r\n  .action-btn:hover {\r\n    background: var(--vscode-button-hoverBackground, var(--vscode-list-hoverBackground));\r\n  }\r\n  .action-btn .codicon {\r\n    font-family: 'codicon';\r\n    font-size: 0.85rem;\r\n  }\r\n  .kanban-item-placeholder {\r\n    opacity: 0.5;\r\n    font-style: italic;\r\n    text-align: center;\r\n  }\r\n  .empty {\r\n    text-align: center;\r\n    padding: 1rem;\r\n    font-style: italic;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n</style>\r\n", "<!--\r\nModule: src/webview/components/ConnectionStatus.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: appEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  interface Props {\r\n    connectionHealth?: {\r\n      status: 'healthy' | 'error' | 'warning' | 'unknown';\r\n      lastSuccess?: number;\r\n      lastFailure?: number;\r\n    };\r\n    refreshStatus?: {\r\n      lastAttempt: number;\r\n      success: boolean;\r\n      error?: string;\r\n      nextAutoRefresh?: number;\r\n    };\r\n  }\r\n\r\n  const { connectionHealth, refreshStatus }: Props = $props();\r\n\r\n  function formatTimeAgo(timestamp: number): string {\r\n    const seconds = Math.floor((Date.now() - timestamp) / 1000);\r\n    if (seconds < 60) return `${seconds}s ago`;\r\n    const minutes = Math.floor(seconds / 60);\r\n    if (minutes < 60) return `${minutes}m ago`;\r\n    const hours = Math.floor(minutes / 60);\r\n    if (hours < 24) return `${hours}h ago`;\r\n    const days = Math.floor(hours / 24);\r\n    return `${days}d ago`;\r\n  }\r\n\r\n  function getStatusColor(): string {\r\n    if (!connectionHealth) return 'var(--vscode-descriptionForeground)';\r\n    switch (connectionHealth.status) {\r\n      case 'healthy':\r\n        return 'var(--vscode-testing-iconPassed)';\r\n      case 'error':\r\n        return 'var(--vscode-errorForeground)';\r\n      case 'warning':\r\n        return 'var(--vscode-testing-iconQueued)';\r\n      default:\r\n        return 'var(--vscode-descriptionForeground)';\r\n    }\r\n  }\r\n\r\n  function getStatusText(): string {\r\n    if (!connectionHealth) return 'Unknown';\r\n    switch (connectionHealth.status) {\r\n      case 'healthy':\r\n        return 'Connected';\r\n      case 'error':\r\n        return 'Connection Error';\r\n      case 'warning':\r\n        return 'Warning';\r\n      default:\r\n        return 'Unknown';\r\n    }\r\n  }\r\n\r\n  function getRefreshStatusText(): string {\r\n    if (!refreshStatus) return '';\r\n    const timeAgo = formatTimeAgo(refreshStatus.lastAttempt);\r\n    if (refreshStatus.success) {\r\n      return `Last refresh: ${timeAgo}`;\r\n    } else {\r\n      return `Last refresh: Failed (${timeAgo})`;\r\n    }\r\n  }\r\n</script>\r\n\r\n<div class=\"connection-status\">\r\n  {#if connectionHealth}\r\n    <div class=\"status-indicator\" style=\"--status-color: {getStatusColor()}\">\r\n      <span class=\"status-dot\"></span>\r\n      <span class=\"status-text\">{getStatusText()}</span>\r\n    </div>\r\n  {/if}\r\n  {#if refreshStatus}\r\n    <div class=\"refresh-status\">\r\n      <span class=\"refresh-icon\">{refreshStatus.success ? '‚úì' : '‚úó'}</span>\r\n      <span class=\"refresh-text\">{getRefreshStatusText()}</span>\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .connection-status {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 1rem;\r\n    font-size: 0.75rem;\r\n  }\r\n\r\n  .status-indicator {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n  }\r\n\r\n  .status-dot {\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    background: var(--status-color);\r\n    display: inline-block;\r\n  }\r\n\r\n  .status-text {\r\n    color: var(--vscode-foreground);\r\n    font-weight: 500;\r\n  }\r\n\r\n  .refresh-status {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.375rem;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n\r\n  .refresh-icon {\r\n    font-size: 0.875rem;\r\n    opacity: 0.8;\r\n  }\r\n\r\n  .refresh-text {\r\n    font-size: 0.75rem;\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/StatusBar.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: appEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  import ConnectionStatus from './ConnectionStatus.svelte';\r\n\r\n  interface Connection {\r\n    id: string;\r\n    label?: string;\r\n    organization?: string;\r\n    project?: string;\r\n  }\r\n\r\n  interface TimerActor {\r\n    state?: string;\r\n  }\r\n\r\n  interface UIState {\r\n    connectionHealth?: {\r\n      status: 'healthy' | 'error' | 'warning' | 'unknown';\r\n      lastSuccess?: number;\r\n      lastFailure?: number;\r\n    };\r\n    refreshStatus?: {\r\n      lastAttempt: number;\r\n      success: boolean;\r\n      error?: string;\r\n      nextAutoRefresh?: number;\r\n    };\r\n  }\r\n\r\n  interface Context {\r\n    timerActor?: TimerActor;\r\n    activeConnectionId?: string;\r\n    connections?: Connection[];\r\n    ui?: UIState;\r\n  }\r\n\r\n  interface Props {\r\n    context: Context;\r\n  }\r\n\r\n  const { context }: Props = $props();\r\n\r\n  // Use $derived instead of $: reactive statements (Svelte 5 best practice)\r\n  const timerState = $derived(context?.timerActor?.state || 'idle');\r\n  const activeConnectionId = $derived(context?.activeConnectionId);\r\n  const connections = $derived(context?.connections || []);\r\n  const activeConnection = $derived.by(() =>\r\n    connections.find((c) => c.id === activeConnectionId)\r\n  );\r\n  const uiState = $derived(context?.ui);\r\n  const connectionHealth = $derived(uiState?.connectionHealth);\r\n  const refreshStatus = $derived(uiState?.refreshStatus);\r\n\r\n  function formatConnectionLabel(conn: Connection | undefined): string {\r\n    if (!conn) return 'No connection';\r\n    if (conn.label) return conn.label;\r\n    if (conn.organization && conn.project) {\r\n      return `${conn.organization}/${conn.project}`;\r\n    }\r\n    return conn.id;\r\n  }\r\n</script>\r\n\r\n<div class=\"status-bar\">\r\n  {#if activeConnection}\r\n    <div class=\"status-section connection-info\">\r\n      <span class=\"label\">Connection:</span>\r\n      <span class=\"value\">{formatConnectionLabel(activeConnection)}</span>\r\n    </div>\r\n  {/if}\r\n  {#if connectionHealth || refreshStatus}\r\n    <ConnectionStatus {connectionHealth} {refreshStatus} />\r\n  {/if}\r\n  {#if timerState !== 'idle'}\r\n    <div class=\"status-section timer-active\">\r\n      <span class=\"label\">Timer:</span>\r\n      <span class=\"value\">{timerState}</span>\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .status-bar {\r\n    display: flex;\r\n    gap: 1rem;\r\n    padding: 0.35rem 0.75rem;\r\n    background: var(--vscode-statusBar-background);\r\n    color: var(--vscode-statusBar-foreground);\r\n    border-top: 1px solid var(--vscode-panel-border);\r\n    font-size: 0.75rem;\r\n    position: sticky;\r\n    bottom: 0;\r\n  }\r\n\r\n  .status-section {\r\n    display: flex;\r\n    gap: 0.4rem;\r\n    align-items: center;\r\n  }\r\n\r\n  .label {\r\n    opacity: 0.8;\r\n  }\r\n\r\n  .value {\r\n    font-weight: 500;\r\n  }\r\n\r\n  .connection-info {\r\n    color: var(--vscode-foreground);\r\n  }\r\n\r\n  .timer-active {\r\n    color: var(--vscode-statusBarItem-prominentForeground);\r\n    background: var(--vscode-statusBarItem-prominentBackground);\r\n    padding: 0.25rem 0.5rem;\r\n    border-radius: 3px;\r\n  }\r\n</style>\r\n", "<!--\r\nModule: src/webview/components/ConnectionView.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: appEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Per-connection UI component containing all connection-specific controls and views\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  import WorkItemList from './WorkItemList.svelte';\r\n  import KanbanBoard from './KanbanBoard.svelte';\r\n  import StatusBar from './StatusBar.svelte';\r\n  \r\n  interface Props {\r\n    connection: { id: string; label?: string };\r\n    isActive: boolean;\r\n    query: string;\r\n    workItems: any[];\r\n    filters: any;\r\n    viewMode: 'list' | 'kanban';\r\n    context: any;\r\n    matches: Record<string, boolean>;\r\n    sendEvent: (event: any) => void;\r\n  }\r\n  \r\n  const { connection, isActive, query, workItems, viewMode, context, matches, sendEvent }: Props = $props();\r\n  \r\n  function handleQueryChange(newQuery: string) {\r\n    sendEvent({\r\n      type: 'SET_CONNECTION_QUERY',\r\n      connectionId: connection.id,\r\n      query: newQuery,\r\n    });\r\n  }\r\n  \r\n</script>\r\n\r\n<div\r\n  class=\"connection-view\"\r\n  class:active={isActive}\r\n  data-connection-id={connection.id}\r\n>\r\n  {#if isActive}\r\n    {@const contextWithWorkItems = { ...context, pendingWorkItems: { workItems, connectionId: connection.id } }}\r\n    <div class=\"connection-content\">\r\n      {#if viewMode === 'kanban'}\r\n        <KanbanBoard context={contextWithWorkItems} {sendEvent} />\r\n      {:else}\r\n        <WorkItemList \r\n          context={contextWithWorkItems} \r\n          {matches}\r\n          {sendEvent}\r\n          {query}\r\n          onQueryChange={handleQueryChange}\r\n        />\r\n      {/if}\r\n      \r\n      <StatusBar {context} />\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .connection-view {\r\n    display: none; /* Hidden by default */\r\n  }\r\n  \r\n  .connection-view.active {\r\n    display: block; /* Visible when active */\r\n  }\r\n  \r\n  .connection-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.75rem;\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/ConnectionViews.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: fsmEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Container component for all connection-specific UI views\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  import ConnectionView from './ConnectionView.svelte';\r\n  \r\n  interface Props {\r\n    connections: Array<{ id: string; label?: string }>;\r\n    activeConnectionId: string | undefined;\r\n    context: any;\r\n    matches: Record<string, boolean>;\r\n    sendEvent: (event: any) => void;\r\n  }\r\n  \r\n  const { connections, activeConnectionId, context, matches, sendEvent }: Props = $props();\r\n  \r\n  // Derive per-connection data from context\r\n  // Convert plain objects (from serialization) back to Maps for easier access\r\n  const connectionQueries = $derived.by(() => {\r\n    const queries = context?.connectionQueries;\r\n    if (queries instanceof Map) return queries;\r\n    if (queries && typeof queries === 'object') return new Map(Object.entries(queries));\r\n    return new Map();\r\n  });\r\n  const connectionWorkItems = $derived.by(() => {\r\n    const items = context?.connectionWorkItems;\r\n    if (items instanceof Map) return items;\r\n    if (items && typeof items === 'object') return new Map(Object.entries(items));\r\n    return new Map();\r\n  });\r\n  const connectionFilters = $derived.by(() => {\r\n    const filters = context?.connectionFilters;\r\n    if (filters instanceof Map) return filters;\r\n    if (filters && typeof filters === 'object') return new Map(Object.entries(filters));\r\n    return new Map();\r\n  });\r\n  const connectionViewModes = $derived.by(() => {\r\n    const modes = context?.connectionViewModes;\r\n    if (modes instanceof Map) return modes;\r\n    if (modes && typeof modes === 'object') return new Map(Object.entries(modes));\r\n    return new Map();\r\n  });\r\n</script>\r\n\r\n<div class=\"connection-views\">\r\n  {#each connections as connection (connection.id)}\r\n    {@const isActive = connection.id === activeConnectionId}\r\n    {@const query = connectionQueries.get(connection.id) || context?.activeQuery || 'My Activity'}\r\n    {@const workItems = connectionWorkItems.get(connection.id) || []}\r\n    {@const filters = connectionFilters.get(connection.id) || {}}\r\n    {@const viewMode = connectionViewModes.get(connection.id) || context?.viewMode || 'list'}\r\n    \r\n    <ConnectionView\r\n      {connection}\r\n      {isActive}\r\n      {query}\r\n      {workItems}\r\n      {filters}\r\n      {viewMode}\r\n      {context}\r\n      {matches}\r\n      {sendEvent}\r\n    />\r\n  {/each}\r\n</div>\r\n\r\n<style>\r\n  .connection-views {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/AuthReminder.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: appEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  interface Props {\r\n    context: any;\r\n    sendEvent: (event: any) => void;\r\n  }\r\n\r\n  const { context, sendEvent }: Props = $props();\r\n\r\n  // Device code session reactive bindings\r\n  const deviceCodeSession = $derived(context?.deviceCodeSession);\r\n  const deviceCodeRemainingMs = $derived(\r\n    deviceCodeSession ? Math.max(deviceCodeSession.expiresAt - Date.now(), 0) : 0\r\n  );\r\n  const deviceCodeExpiresInMinutes = $derived(\r\n    deviceCodeSession ? Math.ceil(deviceCodeRemainingMs / 60000) : 0\r\n  );\r\n  const deviceCodeExpired = $derived(\r\n    deviceCodeSession ? deviceCodeRemainingMs <= 0 : true\r\n  );\r\n\r\n  // Auth code flow session reactive bindings\r\n  const authCodeFlowSession = $derived(context?.authCodeFlowSession);\r\n  const authCodeFlowRemainingMs = $derived(\r\n    authCodeFlowSession ? Math.max(authCodeFlowSession.expiresAt - Date.now(), 0) : 0\r\n  );\r\n  const authCodeFlowExpiresInMinutes = $derived(\r\n    authCodeFlowSession ? Math.ceil(authCodeFlowRemainingMs / 60000) : 0\r\n  );\r\n  const authCodeFlowExpired = $derived(\r\n    authCodeFlowSession ? authCodeFlowRemainingMs <= 0 : true\r\n  );\r\n\r\n  // PAT error reactive bindings\r\n  const workItemsError = $derived(context?.workItemsError);\r\n  const workItemsErrorConnectionId = $derived(context?.workItemsErrorConnectionId);\r\n  const activeConnectionId = $derived(context?.activeConnectionId);\r\n  // const workItems = $derived(context?.workItems || context?.pendingWorkItems?.workItems || []);\r\n  // const hasWorkItems = $derived(workItems.length > 0);\r\n\r\n  // Get connection health error from UI state\r\n  const uiState = $derived(context?.ui);\r\n  const connectionHealth = $derived(uiState?.connectionHealth);\r\n  const connectionHealthError = $derived(connectionHealth?.lastError);\r\n  const hasConnectionHealthError = $derived(\r\n    connectionHealth?.status === 'error' &&\r\n    connectionHealthError &&\r\n    connectionHealthError.type === 'authentication'\r\n  );\r\n\r\n  // Auth reminders propagated from Praxis (serialized Map)\r\n  const pendingAuthReminders = $derived(context?.pendingAuthReminders);\r\n  const currentAuthReminder = $derived(\r\n    pendingAuthReminders && activeConnectionId\r\n      ? pendingAuthReminders instanceof Map\r\n        ? pendingAuthReminders.get(activeConnectionId)\r\n        : (pendingAuthReminders as Record<string, any>)[activeConnectionId]\r\n      : undefined\r\n  );\r\n\r\n  // Get active connection to check auth method\r\n  const connections = $derived(context?.connections || []);\r\n  const activeConnection = $derived(connections.find((c: any) => c.id === activeConnectionId));\r\n  const isEntraAuth = $derived(activeConnection?.authMethod === 'entra');\r\n\r\n  // Check if PAT error should be shown (only if it's for the active connection)\r\n  const showPatError = $derived(\r\n    workItemsError && \r\n    workItemsErrorConnectionId === activeConnectionId &&\r\n    !isEntraAuth // Don't show PAT error for Entra connections\r\n  );\r\n\r\n  // Work items auth error for Entra (when connectionHealth is absent)\r\n  const showWorkItemsEntraAuthError = $derived(\r\n    workItemsError &&\r\n    workItemsErrorConnectionId === activeConnectionId &&\r\n    isEntraAuth\r\n  );\r\n\r\n  // Base flags (avoid circular derivations)\r\n  const canShowDeviceCodeBase = $derived(\r\n    deviceCodeSession &&\r\n      !deviceCodeExpired &&\r\n      deviceCodeSession.connectionId === activeConnectionId\r\n  );\r\n  const canShowAuthCodeFlowBase = $derived(\r\n    authCodeFlowSession &&\r\n      !authCodeFlowExpired &&\r\n      authCodeFlowSession.connectionId === activeConnectionId\r\n  );\r\n  const entraAuthErrorEligible = $derived(\r\n    hasConnectionHealthError && !!activeConnectionId && isEntraAuth\r\n  );\r\n\r\n  // Final visibility flags - prioritize auth code flow > device code > error\r\n  const showAuthCodeFlow = $derived(Boolean(canShowAuthCodeFlowBase));\r\n  const showDeviceCode = $derived(Boolean(canShowDeviceCodeBase && !showAuthCodeFlow));\r\n  const showEntraAuthError = $derived(Boolean(entraAuthErrorEligible && !showDeviceCode && !showAuthCodeFlow));\r\n\r\n  // Auth reminder visibility (fallback when connectionHealth is absent)\r\n  const showAuthReminder = $derived(\r\n    Boolean(\r\n      currentAuthReminder &&\r\n      !showAuthCodeFlow &&\r\n      !showDeviceCode &&\r\n      !showEntraAuthError &&\r\n      !showWorkItemsEntraAuthError &&\r\n      !showPatError\r\n    )\r\n  );\r\n\r\n  function copyAndOpenDeviceCode() {\r\n    if (!deviceCodeSession) return;\r\n    // Delegate browser launch + clipboard to extension (webview sandbox limitations)\r\n    sendEvent({\r\n      type: 'OPEN_DEVICE_CODE_BROWSER',\r\n      connectionId: deviceCodeSession.connectionId,\r\n    });\r\n  }\r\n\r\n  function copyDeviceCodeOnly() {\r\n    if (!deviceCodeSession) return;\r\n    sendEvent({\r\n      type: 'COPY_DEVICE_CODE',\r\n      connectionId: deviceCodeSession.connectionId,\r\n    });\r\n  }\r\n\r\n  function handleRetry() {\r\n    sendEvent({ type: 'REFRESH_DATA' });\r\n  }\r\n\r\n  function handleOpenSettings() {\r\n    sendEvent({ type: 'OPEN_SETTINGS' });\r\n  }\r\n\r\n  function handleResetAuth() {\r\n    if (activeConnectionId) {\r\n      sendEvent({ type: 'RESET_AUTH', connectionId: activeConnectionId });\r\n    } else {\r\n      sendEvent({ type: 'RESET_AUTH' });\r\n    }\r\n  }\r\n\r\n  function handleCancelDeviceCode() {\r\n    if (deviceCodeSession) {\r\n      sendEvent({\r\n        type: 'SIGN_OUT_ENTRA',\r\n        connectionId: deviceCodeSession.connectionId,\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleOpenAuthCodeFlowBrowser() {\r\n    if (!authCodeFlowSession) return;\r\n    sendEvent({\r\n      type: 'OPEN_AUTH_CODE_FLOW_BROWSER',\r\n      connectionId: authCodeFlowSession.connectionId,\r\n    });\r\n  }\r\n\r\n  function handleCancelAuthCodeFlow() {\r\n    if (authCodeFlowSession) {\r\n      sendEvent({\r\n        type: 'SIGN_OUT_ENTRA',\r\n        connectionId: authCodeFlowSession.connectionId,\r\n      });\r\n    }\r\n  }\r\n\r\n  function handleStartFreshAuth() {\r\n    // Open setup at the auth choice step so the user can pick a new auth type\r\n    // and acquire a fresh token (new PAT or new Entra device code flow).\r\n    handleResetAuth();\r\n  }\r\n\r\n  function startDeviceCodeSignIn() {\r\n    if (!isEntraAuth) return;\r\n\r\n    const connectionId = deviceCodeSession?.connectionId ?? activeConnectionId;\r\n    if (!connectionId) return;\r\n\r\n    sendEvent({\r\n      type: 'SIGN_IN_ENTRA',\r\n      connectionId,\r\n      forceInteractive: true,\r\n    });\r\n  }\r\n</script>\r\n\r\n{#if showAuthCodeFlow}\r\n  <!-- Entra Auth Code Flow Banner -->\r\n  <div class=\"auth-reminder-banner warning\">\r\n    <span class=\"auth-icon\">üîê</span>\r\n    <div class=\"auth-message-container\">\r\n      <span class=\"auth-message\">\r\n        Authentication Required: Complete sign-in in your browser ({authCodeFlowExpiresInMinutes}m left)\r\n      </span>\r\n    </div>\r\n    <div class=\"auth-actions\">\r\n      <button\r\n        class=\"auth-action\"\r\n        onclick={handleOpenAuthCodeFlowBrowser}\r\n        title=\"Open browser to complete sign-in\"\r\n        aria-label=\"Open browser to complete sign-in\"\r\n      >\r\n        <span class=\"codicon\">üåê</span>\r\n        Open browser\r\n      </button>\r\n      <button\r\n        class=\"auth-action secondary\"\r\n        onclick={handleCancelAuthCodeFlow}\r\n        title=\"Cancel authentication\"\r\n        aria-label=\"Cancel authentication\"\r\n      >\r\n        <span class=\"codicon\">‚úó</span>\r\n        Cancel\r\n      </button>\r\n    </div>\r\n  </div>\r\n{:else if showDeviceCode}\r\n  <!-- Entra Device Code Banner -->\r\n  <div class=\"auth-reminder-banner warning\">\r\n    <span class=\"auth-icon\">üîê</span>\r\n    <div class=\"auth-message-container\">\r\n      <span class=\"auth-message\">\r\n        Authentication Required: Enter code <strong>{deviceCodeSession.userCode}</strong> in your\r\n        browser ({deviceCodeExpiresInMinutes}m left)\r\n      </span>\r\n    </div>\r\n    <div class=\"auth-actions\">\r\n      <button\r\n        class=\"auth-action\"\r\n        onclick={copyDeviceCodeOnly}\r\n        title=\"Copy code\"\r\n        aria-label=\"Copy code\"\r\n      >\r\n        <span class=\"codicon\">üìã</span>\r\n        Copy code\r\n      </button>\r\n      <button\r\n        class=\"auth-action\"\r\n        onclick={copyAndOpenDeviceCode}\r\n        title=\"Copy code and open browser\"\r\n        aria-label=\"Copy code and open browser\"\r\n      >\r\n        <span class=\"codicon\">üåê</span>\r\n        Open browser\r\n      </button>\r\n      <button\r\n        class=\"auth-action secondary\"\r\n        onclick={handleCancelDeviceCode}\r\n        title=\"Cancel authentication\"\r\n        aria-label=\"Cancel authentication\"\r\n      >\r\n        <span class=\"codicon\">‚úó</span>\r\n        Cancel\r\n      </button>\r\n    </div>\r\n  </div>\r\n{:else if showEntraAuthError}\r\n  <!-- Entra Auth Failure Banner -->\r\n  <div class=\"auth-reminder-banner error\">\r\n    <span class=\"auth-icon\">‚ö†Ô∏è</span>\r\n    <div class=\"auth-message\">\r\n      <strong>Authentication Failed</strong>\r\n      <span class=\"error-detail\">\r\n        {connectionHealthError?.message || 'Entra ID authentication failed. Start a new sign-in to choose PAT or begin device code again.'}\r\n      </span>\r\n      {#if connectionHealthError?.suggestedAction}\r\n        <span class=\"error-hint\">Suggested: {connectionHealthError.suggestedAction}</span>\r\n      {/if}\r\n    </div>\r\n    <div class=\"auth-actions\">\r\n      <button class=\"auth-action\" onclick={startDeviceCodeSignIn}>\r\n        Start device code sign-in\r\n      </button>\r\n      <button class=\"auth-action\" onclick={handleStartFreshAuth}>\r\n        Change auth / start new sign-in\r\n      </button>\r\n      <button class=\"auth-action secondary\" onclick={handleOpenSettings}>Settings</button>\r\n    </div>\r\n  </div>\r\n{:else if showWorkItemsEntraAuthError}\r\n  <!-- Entra Auth Failure derived from work items error -->\r\n  <div class=\"auth-reminder-banner error\">\r\n    <span class=\"auth-icon\">‚ö†Ô∏è</span>\r\n    <div class=\"auth-message\">\r\n      <strong>Authentication Failed</strong>\r\n      <span class=\"error-detail\">\r\n        {workItemsError || 'Authentication failed. Start a new sign-in to choose PAT or device code.'}\r\n      </span>\r\n    </div>\r\n    <div class=\"auth-actions\">\r\n      <button class=\"auth-action\" onclick={startDeviceCodeSignIn}>\r\n        Start device code sign-in\r\n      </button>\r\n      <button class=\"auth-action\" onclick={handleStartFreshAuth}>\r\n        Change auth / start new sign-in\r\n      </button>\r\n      <button class=\"auth-action secondary\" onclick={handleOpenSettings}>Settings</button>\r\n    </div>\r\n  </div>\r\n{:else if showPatError}\r\n  <!-- PAT Reauth Banner -->\r\n  <div class=\"auth-reminder-banner error\">\r\n    <span class=\"auth-icon\">‚ö†</span>\r\n    <span class=\"auth-message\">{workItemsError}</span>\r\n    <div class=\"auth-actions\">\r\n      <button class=\"auth-action\" onclick={handleRetry}>Retry</button>\r\n      <button class=\"auth-action\" onclick={handleStartFreshAuth}>Change auth / start new sign-in</button>\r\n      <button class=\"auth-action secondary\" onclick={handleOpenSettings}>Settings</button>\r\n    </div>\r\n  </div>\r\n{:else if showAuthReminder}\r\n  <!-- Auth Reminder (fallback when connectionHealth is absent) -->\r\n  <div class=\"auth-reminder-banner error\">\r\n    <span class=\"auth-icon\">‚ö†Ô∏è</span>\r\n    <div class=\"auth-message\">\r\n      <strong>Authentication Required</strong>\r\n      <span class=\"error-detail\">{currentAuthReminder?.reason || 'Sign in to continue.'}</span>\r\n    </div>\r\n    <div class=\"auth-actions\">\r\n      {#if isEntraAuth}\r\n        <button class=\"auth-action\" onclick={startDeviceCodeSignIn}>\r\n          Start device code sign-in\r\n        </button>\r\n        <button class=\"auth-action\" onclick={handleStartFreshAuth}>\r\n          Change auth / start new sign-in\r\n        </button>\r\n      {:else}\r\n        <button class=\"auth-action\" onclick={handleRetry}>Retry</button>\r\n      {/if}\r\n      <button class=\"auth-action secondary\" onclick={handleOpenSettings}>Settings</button>\r\n    </div>\r\n  </div>\r\n{/if}\r\n\r\n<style>\r\n  .auth-reminder-banner {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    flex-wrap: wrap;\r\n    gap: 0.75rem;\r\n    padding: 0.75rem 1rem;\r\n    border-radius: 4px;\r\n    margin-bottom: 1rem;\r\n    color: var(--vscode-foreground);\r\n    max-width: 100%;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .auth-reminder-banner.error {\r\n    background: var(--vscode-inputValidation-errorBackground);\r\n    border: 1px solid var(--vscode-inputValidation-errorBorder);\r\n    color: var(--vscode-errorForeground);\r\n  }\r\n\r\n  .auth-reminder-banner.warning {\r\n    background: var(--vscode-inputValidation-warningBackground);\r\n    border: 1px solid var(--vscode-inputValidation-warningBorder);\r\n    color: var(--vscode-foreground);\r\n  }\r\n\r\n  .auth-icon {\r\n    font-size: 1.2rem;\r\n    flex-shrink: 0;\r\n  }\r\n\r\n  .auth-message-container {\r\n    flex: 1 1 0;\r\n    min-width: 0;\r\n    max-width: 100%;\r\n  }\r\n\r\n  .auth-message {\r\n    font-size: 0.9rem;\r\n    word-wrap: break-word;\r\n    overflow-wrap: break-word;\r\n  }\r\n\r\n  div.auth-message {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.25rem;\r\n  }\r\n\r\n  .auth-message strong {\r\n    font-weight: 600;\r\n    font-size: 0.95rem;\r\n  }\r\n\r\n  .error-detail {\r\n    font-size: 0.85rem;\r\n    opacity: 0.9;\r\n  }\r\n\r\n  .error-hint {\r\n    font-size: 0.8rem;\r\n    font-style: italic;\r\n    opacity: 0.8;\r\n    margin-top: 0.25rem;\r\n  }\r\n\r\n  .auth-actions {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    flex-shrink: 0;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    flex-basis: auto;\r\n  }\r\n\r\n  /* Force buttons to wrap below text when space is limited */\r\n  /* Stack vertically on smaller/medium screens to prevent overflow */\r\n  @media (max-width: 800px) {\r\n    .auth-reminder-banner {\r\n      flex-direction: column;\r\n      align-items: stretch;\r\n    }\r\n\r\n    .auth-message-container {\r\n      width: 100%;\r\n      max-width: 100%;\r\n      margin-bottom: 0.5rem;\r\n    }\r\n\r\n    .auth-actions {\r\n      width: 100%;\r\n      justify-content: flex-end;\r\n    }\r\n  }\r\n\r\n  .auth-action {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    min-width: 2rem;\r\n    height: 2rem;\r\n    padding: 0 0.6rem;\r\n    margin: 0;\r\n    background: transparent;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    color: var(--vscode-icon-foreground);\r\n    transition: background-color 0.2s ease;\r\n  }\r\n\r\n  .auth-action:hover {\r\n    background: var(--vscode-toolbar-hoverBackground);\r\n  }\r\n\r\n  .auth-action:active {\r\n    background: var(--vscode-toolbar-activeBackground);\r\n  }\r\n\r\n  .auth-action .codicon {\r\n    font-family: 'codicon';\r\n    font-size: 16px;\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    line-height: 1;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n    text-rendering: auto;\r\n    text-align: center;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    user-select: none;\r\n  }\r\n\r\n  .auth-action.secondary {\r\n    opacity: 0.8;\r\n  }\r\n\r\n  .auth-action.secondary:hover {\r\n    opacity: 1;\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/WebviewHeader.svelte\r\nOwner: webview\r\nPurpose: Custom header with action buttons matching VS Code header functionality\r\n-->\r\n<script lang=\"ts\">\r\n  interface Props {\r\n    context?: any;\r\n    sendEvent?: (event: any) => void;\r\n  }\r\n  \r\n  const { context, sendEvent }: Props = $props();\r\n  \r\n  // Refresh button state for animation\r\n  let isRefreshing = $state(false);\r\n  \r\n  function handleRefresh() {\r\n    isRefreshing = true;\r\n    // Send REFRESH_DATA message to extension\r\n    sendEvent?.({ type: 'REFRESH_DATA' });\r\n    // Reset animation state after 500ms\r\n    setTimeout(() => {\r\n      isRefreshing = false;\r\n    }, 500);\r\n  }\r\n  \r\n  function handleToggleKanban() {\r\n    sendEvent?.({ type: 'TOGGLE_VIEW' });\r\n  }\r\n  \r\n  function handleCreateWorkItem() {\r\n    sendEvent?.({ type: 'CREATE_WORK_ITEM' });\r\n  }\r\n  \r\n  function handleSetup() {\r\n    sendEvent?.({ type: 'MANAGE_CONNECTIONS' });\r\n  }\r\n  \r\n  function handleToggleDebug() {\r\n    sendEvent?.({ type: 'TOGGLE_DEBUG_VIEW' });\r\n  }\r\n  \r\n  // Show debug button only if debug logging is enabled\r\n  const showDebugButton = $derived(context?.debugLoggingEnabled === true);\r\n</script>\r\n\r\n<header class=\"webview-header\">\r\n  <div class=\"header-actions\">\r\n    <!-- Toggle Kanban View -->\r\n    <button\r\n      class=\"header-btn\"\r\n      onclick={handleToggleKanban}\r\n      title=\"Toggle Kanban View\"\r\n      aria-label=\"Toggle Kanban View\"\r\n    >\r\n      <span class=\"codicon\">‚öè</span>\r\n    </button>\r\n    \r\n    <!-- Refresh Work Items -->\r\n    <button\r\n      class=\"header-btn {isRefreshing ? 'refreshing' : ''}\"\r\n      onclick={handleRefresh}\r\n      title=\"Refresh Work Items (R)\"\r\n      aria-label=\"Refresh Work Items\"\r\n    >\r\n      <span class=\"codicon\">‚Üª</span>\r\n    </button>\r\n    \r\n    <!-- Create Work Item -->\r\n    <button\r\n      class=\"header-btn\"\r\n      onclick={handleCreateWorkItem}\r\n      title=\"Create Work Item\"\r\n      aria-label=\"Create Work Item\"\r\n    >\r\n      <span class=\"codicon\">Ôºã</span>\r\n    </button>\r\n    \r\n    <!-- Setup/Manage Connections -->\r\n    <button\r\n      class=\"header-btn\"\r\n      onclick={handleSetup}\r\n      title=\"Setup or Manage Connections\"\r\n      aria-label=\"Setup or Manage Connections\"\r\n    >\r\n      <span class=\"codicon\">‚öô</span>\r\n    </button>\r\n    \r\n    <!-- Toggle Debug View (conditional) -->\r\n    {#if showDebugButton}\r\n      <button\r\n        class=\"header-btn\"\r\n        onclick={handleToggleDebug}\r\n        title=\"Toggle Debug View\"\r\n        aria-label=\"Toggle Debug View\"\r\n      >\r\n        <span class=\"codicon\">üêõ</span>\r\n      </button>\r\n    {/if}\r\n  </div>\r\n</header>\r\n\r\n<style>\r\n  .webview-header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 0;\r\n    border-bottom: 1px solid var(--vscode-panel-border);\r\n    background: transparent;\r\n  }\r\n  \r\n  .header-actions {\r\n    display: flex;\r\n    gap: 0.25rem;\r\n    align-items: center;\r\n  }\r\n  \r\n  .header-btn {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 2rem;\r\n    height: 2rem;\r\n    padding: 0;\r\n    margin: 0;\r\n    background: transparent;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    color: var(--vscode-icon-foreground);\r\n    transition: background-color 0.2s ease;\r\n  }\r\n  \r\n  .header-btn:hover {\r\n    background: var(--vscode-toolbar-hoverBackground);\r\n  }\r\n  \r\n  .header-btn:active {\r\n    background: var(--vscode-toolbar-activeBackground);\r\n  }\r\n  \r\n  .header-btn .codicon {\r\n    font-family: 'codicon';\r\n    font-size: 16px;\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    line-height: 1;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n    text-rendering: auto;\r\n    text-align: center;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    user-select: none;\r\n  }\r\n  \r\n  /* Refresh animation */\r\n  .header-btn.refreshing .codicon {\r\n    animation: spin 500ms ease-in-out;\r\n  }\r\n  \r\n  @keyframes spin {\r\n    from {\r\n      transform: rotate(0deg);\r\n    }\r\n    to {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n</style>\r\n\r\n", "<script lang=\"ts\">\r\n  import { createEventDispatcher } from 'svelte';\r\n\r\n  export let type: 'success' | 'error' | 'info' | 'warning' = 'info';\r\n  export let message: string;\r\n\r\n  const dispatch = createEventDispatcher();\r\n\r\n  function dismiss() {\r\n    dispatch('dismiss');\r\n  }\r\n\r\n  // Auto-dismiss after 5 seconds for success/info\r\n  if (type === 'success' || type === 'info') {\r\n    setTimeout(dismiss, 5000);\r\n  }\r\n</script>\r\n\r\n<div class=\"notification {type}\" role=\"alert\">\r\n  <span class=\"message\">{message}</span>\r\n  <button class=\"close-btn\" on:click={dismiss} aria-label=\"Close\">√ó</button>\r\n</div>\r\n\r\n<style>\r\n  .notification {\r\n    position: fixed;\r\n    bottom: 20px;\r\n    right: 20px;\r\n    padding: 12px 16px;\r\n    border-radius: 4px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    min-width: 300px;\r\n    max-width: 400px;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n    z-index: 1000;\r\n    animation: slideIn 0.3s ease-out;\r\n  }\r\n\r\n  .success {\r\n    background-color: var(--vscode-notificationsInfoIcon-foreground, #3794ff);\r\n    color: white;\r\n  }\r\n\r\n  .error {\r\n    background-color: var(--vscode-notificationsErrorIcon-foreground, #f14c4c);\r\n    color: white;\r\n  }\r\n\r\n  .info {\r\n    background-color: var(--vscode-notificationsInfoIcon-foreground, #3794ff);\r\n    color: white;\r\n  }\r\n\r\n  .warning {\r\n    background-color: var(--vscode-notificationsWarningIcon-foreground, #cca700);\r\n    color: white;\r\n  }\r\n\r\n  .message {\r\n    flex-grow: 1;\r\n    margin-right: 12px;\r\n  }\r\n\r\n  .close-btn {\r\n    background: none;\r\n    border: none;\r\n    color: inherit;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n    padding: 0;\r\n    line-height: 1;\r\n    opacity: 0.8;\r\n  }\r\n\r\n  .close-btn:hover {\r\n    opacity: 1;\r\n  }\r\n\r\n  @keyframes slideIn {\r\n    from {\r\n      transform: translateY(100%);\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      transform: translateY(0);\r\n      opacity: 1;\r\n    }\r\n  }\r\n</style>\r\n", "<script lang=\"ts\">\r\n  import { createEventDispatcher } from 'svelte';\r\n\r\n  export let workItemId: number;\r\n  export let mode: string = 'addComment';\r\n\r\n  let comment = '';\r\n  let isSubmitting = false;\r\n\r\n  const dispatch = createEventDispatcher();\r\n\r\n  function cancel() {\r\n    dispatch('cancel');\r\n  }\r\n\r\n  function submit() {\r\n    if (!comment.trim()) return;\r\n    isSubmitting = true;\r\n    dispatch('submit', { workItemId, comment, mode });\r\n  }\r\n</script>\r\n\r\n<div class=\"modal-overlay\">\r\n  <div class=\"modal\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-title\">\r\n    <h3 id=\"modal-title\">Add Comment to Work Item #{workItemId}</h3>\r\n    \r\n    <div class=\"content\">\r\n      <textarea\r\n        bind:value={comment}\r\n        placeholder=\"Type your comment here...\"\r\n        rows=\"5\"\r\n        disabled={isSubmitting}\r\n      ></textarea>\r\n    </div>\r\n\r\n    <div class=\"actions\">\r\n      <button class=\"secondary\" on:click={cancel} disabled={isSubmitting}>Cancel</button>\r\n      <button class=\"primary\" on:click={submit} disabled={isSubmitting || !comment.trim()}>\r\n        {isSubmitting ? 'Submitting...' : 'Add Comment'}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 1000;\r\n  }\r\n\r\n  .modal {\r\n    background-color: var(--vscode-editor-background);\r\n    border: 1px solid var(--vscode-widget-border);\r\n    border-radius: 6px;\r\n    padding: 20px;\r\n    width: 500px;\r\n    max-width: 90%;\r\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25);\r\n  }\r\n\r\n  h3 {\r\n    margin-top: 0;\r\n    margin-bottom: 16px;\r\n    color: var(--vscode-foreground);\r\n  }\r\n\r\n  textarea {\r\n    width: 100%;\r\n    background-color: var(--vscode-input-background);\r\n    color: var(--vscode-input-foreground);\r\n    border: 1px solid var(--vscode-input-border);\r\n    border-radius: 2px;\r\n    padding: 8px;\r\n    font-family: inherit;\r\n    resize: vertical;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  textarea:focus {\r\n    outline: 1px solid var(--vscode-focusBorder);\r\n    border-color: var(--vscode-focusBorder);\r\n  }\r\n\r\n  .actions {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    gap: 12px;\r\n    margin-top: 16px;\r\n  }\r\n\r\n  button {\r\n    padding: 6px 14px;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n    font-size: 13px;\r\n    border: 1px solid transparent;\r\n  }\r\n\r\n  button.primary {\r\n    background-color: var(--vscode-button-background);\r\n    color: var(--vscode-button-foreground);\r\n  }\r\n\r\n  button.primary:hover:not(:disabled) {\r\n    background-color: var(--vscode-button-hoverBackground);\r\n  }\r\n\r\n  button.secondary {\r\n    background-color: var(--vscode-button-secondaryBackground);\r\n    color: var(--vscode-button-secondaryForeground);\r\n  }\r\n\r\n  button.secondary:hover:not(:disabled) {\r\n    background-color: var(--vscode-button-secondaryHoverBackground);\r\n  }\r\n\r\n  button:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n  }\r\n</style>\r\n", "<!--\r\nModule: src/webview/components/HistoryControls.svelte\r\nOwner: webview\r\nPurpose: Undo/Redo controls using Praxis history engine\r\n-->\r\n\r\n<script lang=\"ts\">\r\n  import { history } from '../praxis/store.js';\r\n  \r\n  // Reactive state for undo/redo availability\r\n  let canUndo = $state(history.canUndo());\r\n  let canRedo = $state(history.canRedo());\r\n  \r\n  // Update availability when history changes\r\n  $effect(() => {\r\n    // Check availability periodically (could be improved with proper subscription)\r\n    const interval = setInterval(() => {\r\n      canUndo = history.canUndo();\r\n      canRedo = history.canRedo();\r\n    }, 100);\r\n    \r\n    return () => clearInterval(interval);\r\n  });\r\n  \r\n  function handleUndo() {\r\n    console.debug('[HistoryControls] Undo clicked');\r\n    if (history.canUndo()) {\r\n      const result = history.undo();\r\n      console.debug('[HistoryControls] Undo result:', result);\r\n      canUndo = history.canUndo();\r\n      canRedo = history.canRedo();\r\n    } else {\r\n      console.debug('[HistoryControls] Cannot undo - no history');\r\n    }\r\n  }\r\n  \r\n  function handleRedo() {\r\n    console.debug('[HistoryControls] Redo clicked');\r\n    if (history.canRedo()) {\r\n      const result = history.redo();\r\n      console.debug('[HistoryControls] Redo result:', result);\r\n      canUndo = history.canUndo();\r\n      canRedo = history.canRedo();\r\n    } else {\r\n      console.debug('[HistoryControls] Cannot redo - at end of history');\r\n    }\r\n  }\r\n</script>\r\n\r\n<div class=\"history-controls\">\r\n  <button \r\n    class=\"history-button undo\" \r\n    onclick={handleUndo}\r\n    disabled={!canUndo}\r\n    title=\"Undo last action (Ctrl+Z)\"\r\n  >\r\n    ‚ü≤ Undo\r\n  </button>\r\n  <button \r\n    class=\"history-button redo\" \r\n    onclick={handleRedo}\r\n    disabled={!canRedo}\r\n    title=\"Redo last action (Ctrl+Shift+Z)\"\r\n  >\r\n    ‚ü≥ Redo\r\n  </button>\r\n</div>\r\n\r\n<style>\r\n  .history-controls {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    align-items: center;\r\n  }\r\n  \r\n  .history-button {\r\n    padding: 0.25rem 0.5rem;\r\n    font-size: 0.875rem;\r\n    border: 1px solid var(--vscode-button-border, transparent);\r\n    background: var(--vscode-button-secondaryBackground);\r\n    color: var(--vscode-button-secondaryForeground);\r\n    cursor: pointer;\r\n    border-radius: 2px;\r\n    transition: opacity 0.2s;\r\n  }\r\n  \r\n  .history-button:hover:not(:disabled) {\r\n    background: var(--vscode-button-secondaryHoverBackground);\r\n  }\r\n  \r\n  .history-button:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/HistoryTimeline.svelte\r\nOwner: webview\r\nPurpose: Visual timeline for navigating through state history\r\n-->\r\n\r\n<script lang=\"ts\">\r\n  import { history } from '../praxis/store.js';\r\n  import { diffStates, formatDiff, getDiffSummary } from '../../debugging/stateDiff.js';\r\n  import type { ApplicationEngineContext } from '../../praxis/application/engine.js';\r\n  import type { HistoryEntry } from '@plures/praxis/svelte';\r\n  \r\n  let historyEntries = $state(history.getHistory());\r\n  let currentIndex = $state(historyEntries.length - 1);\r\n  let selectedIndex = $state<number | null>(null);\r\n  let showDiff = $state(false);\r\n  let diffFromIndex = $state<number | null>(null);\r\n  \r\n  // Update history when it changes\r\n  $effect(() => {\r\n    const interval = setInterval(() => {\r\n      const newEntries = history.getHistory();\r\n      if (newEntries.length !== historyEntries.length) {\r\n        historyEntries = newEntries;\r\n        currentIndex = historyEntries.length - 1;\r\n      }\r\n    }, 100);\r\n    \r\n    return () => clearInterval(interval);\r\n  });\r\n  \r\n  function goToSnapshot(index: number) {\r\n    if (history.goToHistory(index)) {\r\n      currentIndex = index;\r\n      selectedIndex = index;\r\n    }\r\n  }\r\n  \r\n  function compareSnapshots(index1: number, index2: number) {\r\n    const entry1 = historyEntries[index1];\r\n    const entry2 = historyEntries[index2];\r\n    \r\n    if (!entry1 || !entry2) return null;\r\n    \r\n    const diff = diffStates(\r\n      entry1.state.context as ApplicationEngineContext,\r\n      entry2.state.context as ApplicationEngineContext\r\n    );\r\n    \r\n    return diff;\r\n  }\r\n  \r\n  function showDiffBetween(index1: number, index2: number) {\r\n    diffFromIndex = index1;\r\n    selectedIndex = index2;\r\n    showDiff = true;\r\n  }\r\n  \r\n  function formatTimestamp(timestamp: number): string {\r\n    return new Date(timestamp).toLocaleTimeString();\r\n  }\r\n  \r\n  function formatEventTag(tag: string): string {\r\n    return tag\r\n      .replace(/_/g, ' ')\r\n      .replace(/([A-Z])/g, ' $1')\r\n      .trim();\r\n  }\r\n  \r\n  const selectedDiff = $derived.by(() => {\r\n    if (!showDiff || diffFromIndex === null || selectedIndex === null) {\r\n      return null;\r\n    }\r\n    return compareSnapshots(diffFromIndex, selectedIndex);\r\n  });\r\n</script>\r\n\r\n<div class=\"history-timeline-container\">\r\n  <div class=\"timeline-header\">\r\n    <h3>State History Timeline</h3>\r\n    <div class=\"timeline-controls\">\r\n      <button \r\n        class=\"control-button\" \r\n        onclick={() => history.clearHistory()}\r\n        title=\"Clear history\"\r\n      >\r\n        Clear\r\n      </button>\r\n      <span class=\"history-count\">\r\n        {historyEntries.length} snapshots\r\n      </span>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"timeline-entries\">\r\n    {#each historyEntries as entry, index}\r\n      <div \r\n        class=\"timeline-entry\" \r\n        class:active={index === currentIndex}\r\n        class:selected={index === selectedIndex}\r\n        onclick={() => goToSnapshot(index)}\r\n        title=\"Click to jump to this snapshot\"\r\n      >\r\n        <div class=\"entry-index\">{index}</div>\r\n        <div class=\"entry-content\">\r\n          <div class=\"entry-state\">{entry.state.state}</div>\r\n          {#if entry.label}\r\n            <div class=\"entry-label\">{entry.label}</div>\r\n          {/if}\r\n          {#if entry.events && entry.events.length > 0}\r\n            <div class=\"entry-events\">\r\n              {#each entry.events.slice(0, 2) as event}\r\n                <span class=\"event-tag\">{formatEventTag(event.tag)}</span>\r\n              {/each}\r\n              {#if entry.events.length > 2}\r\n                <span class=\"event-more\">+{entry.events.length - 2} more</span>\r\n              {/if}\r\n            </div>\r\n          {/if}\r\n          <div class=\"entry-timestamp\">{formatTimestamp(entry.timestamp)}</div>\r\n        </div>\r\n        <div class=\"entry-actions\">\r\n          {#if index > 0}\r\n            <button \r\n              class=\"action-button\"\r\n              onclick={(e) => {\r\n                e.stopPropagation();\r\n                showDiffBetween(index - 1, index);\r\n              }}\r\n              title=\"Compare with previous\"\r\n            >\r\n              Diff\r\n            </button>\r\n          {/if}\r\n        </div>\r\n      </div>\r\n    {/each}\r\n  </div>\r\n  \r\n  {#if showDiff && selectedDiff && diffFromIndex !== null && selectedIndex !== null}\r\n    <div class=\"diff-panel\">\r\n      <div class=\"diff-header\">\r\n        <h4>State Diff</h4>\r\n        <button class=\"close-button\" onclick={() => showDiff = false}>√ó</button>\r\n      </div>\r\n      <div class=\"diff-content\">\r\n        <div class=\"diff-summary\">\r\n          {getDiffSummary(selectedDiff)}\r\n        </div>\r\n        <pre class=\"diff-text\">{formatDiff(selectedDiff)}</pre>\r\n      </div>\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .history-timeline-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    background: var(--vscode-editor-background);\r\n    border: 1px solid var(--vscode-panel-border);\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .timeline-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0.5rem 1rem;\r\n    border-bottom: 1px solid var(--vscode-panel-border);\r\n  }\r\n  \r\n  .timeline-header h3 {\r\n    margin: 0;\r\n    font-size: 0.875rem;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .timeline-controls {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    align-items: center;\r\n  }\r\n  \r\n  .control-button {\r\n    padding: 0.25rem 0.5rem;\r\n    font-size: 0.75rem;\r\n    background: var(--vscode-button-secondaryBackground);\r\n    color: var(--vscode-button-secondaryForeground);\r\n    border: 1px solid var(--vscode-button-border);\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .control-button:hover {\r\n    background: var(--vscode-button-secondaryHoverBackground);\r\n  }\r\n  \r\n  .history-count {\r\n    font-size: 0.75rem;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n  \r\n  .timeline-entries {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .timeline-entry {\r\n    display: flex;\r\n    gap: 0.5rem;\r\n    padding: 0.5rem;\r\n    margin-bottom: 0.25rem;\r\n    border: 1px solid var(--vscode-panel-border);\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: background 0.2s;\r\n  }\r\n  \r\n  .timeline-entry:hover {\r\n    background: var(--vscode-list-hoverBackground);\r\n  }\r\n  \r\n  .timeline-entry.active {\r\n    border-color: var(--vscode-focusBorder);\r\n    background: var(--vscode-list-activeSelectionBackground);\r\n  }\r\n  \r\n  .timeline-entry.selected {\r\n    border-color: var(--vscode-button-background);\r\n  }\r\n  \r\n  .entry-index {\r\n    font-weight: 600;\r\n    color: var(--vscode-descriptionForeground);\r\n    min-width: 2rem;\r\n  }\r\n  \r\n  .entry-content {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.25rem;\r\n  }\r\n  \r\n  .entry-state {\r\n    font-weight: 600;\r\n    color: var(--vscode-foreground);\r\n  }\r\n  \r\n  .entry-label {\r\n    font-size: 0.75rem;\r\n    color: var(--vscode-descriptionForeground);\r\n    font-style: italic;\r\n  }\r\n  \r\n  .entry-events {\r\n    display: flex;\r\n    gap: 0.25rem;\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .event-tag {\r\n    font-size: 0.7rem;\r\n    padding: 0.125rem 0.25rem;\r\n    background: var(--vscode-badge-background);\r\n    color: var(--vscode-badge-foreground);\r\n    border-radius: 2px;\r\n  }\r\n  \r\n  .event-more {\r\n    font-size: 0.7rem;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n  \r\n  .entry-timestamp {\r\n    font-size: 0.7rem;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n  \r\n  .entry-actions {\r\n    display: flex;\r\n    gap: 0.25rem;\r\n  }\r\n  \r\n  .action-button {\r\n    padding: 0.125rem 0.5rem;\r\n    font-size: 0.7rem;\r\n    background: var(--vscode-button-secondaryBackground);\r\n    color: var(--vscode-button-secondaryForeground);\r\n    border: 1px solid var(--vscode-button-border);\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  .action-button:hover {\r\n    background: var(--vscode-button-secondaryHoverBackground);\r\n  }\r\n  \r\n  .diff-panel {\r\n    border-top: 1px solid var(--vscode-panel-border);\r\n    max-height: 300px;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .diff-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0.5rem 1rem;\r\n    background: var(--vscode-editor-background);\r\n  }\r\n  \r\n  .diff-header h4 {\r\n    margin: 0;\r\n    font-size: 0.875rem;\r\n  }\r\n  \r\n  .close-button {\r\n    background: none;\r\n    border: none;\r\n    color: var(--vscode-foreground);\r\n    font-size: 1.5rem;\r\n    cursor: pointer;\r\n    padding: 0;\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .diff-content {\r\n    flex: 1;\r\n    overflow-y: auto;\r\n    padding: 0.5rem 1rem;\r\n  }\r\n  \r\n  .diff-summary {\r\n    font-weight: 600;\r\n    margin-bottom: 0.5rem;\r\n    color: var(--vscode-foreground);\r\n  }\r\n  \r\n  .diff-text {\r\n    font-family: monospace;\r\n    font-size: 0.75rem;\r\n    white-space: pre-wrap;\r\n    color: var(--vscode-foreground);\r\n    margin: 0;\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/components/PerformanceDashboard.svelte\r\nOwner: webview\r\nPurpose: Visual dashboard for analyzing state transition performance\r\n-->\r\n\r\n<script lang=\"ts\">\r\n  import { PerformanceProfiler } from '../../debugging/performanceProfiler.js';\r\n  import type { PerformanceProfile } from '../../debugging/performanceProfiler.js';\r\n  \r\n  let profile = $state<PerformanceProfile | null>(null);\r\n  let threshold = $state(100); // ms\r\n  let showSlowOnly = $state(false);\r\n  \r\n  // Update profile periodically\r\n  $effect(() => {\r\n    const interval = setInterval(() => {\r\n      profile = PerformanceProfiler.profileHistory();\r\n    }, 1000);\r\n    \r\n    return () => clearInterval(interval);\r\n  });\r\n  \r\n  function formatDuration(ms: number): string {\r\n    if (ms < 1) return `${(ms * 1000).toFixed(0)}Œºs`;\r\n    if (ms < 1000) return `${ms.toFixed(2)}ms`;\r\n    return `${(ms / 1000).toFixed(2)}s`;\r\n  }\r\n  \r\n  function formatSize(bytes: number): string {\r\n    if (bytes < 1024) return `${bytes}B`;\r\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(2)}KB`;\r\n    return `${(bytes / (1024 * 1024)).toFixed(2)}MB`;\r\n  }\r\n  \r\n  const displayedTransitions = $derived.by(() => {\r\n    if (!profile) return [];\r\n    \r\n    if (showSlowOnly) {\r\n      return profile.transitions.filter(t => t.duration > threshold);\r\n    }\r\n    \r\n    return profile.transitions;\r\n  });\r\n  \r\n  const slowTransitions = $derived.by(() => {\r\n    if (!profile) return [];\r\n    return PerformanceProfiler.getSlowTransitions(threshold);\r\n  });\r\n</script>\r\n\r\n<div class=\"performance-dashboard\">\r\n  <div class=\"dashboard-header\">\r\n    <h3>Performance Dashboard</h3>\r\n    <div class=\"dashboard-controls\">\r\n      <label>\r\n        <input type=\"checkbox\" bind:checked={showSlowOnly} />\r\n        Show slow only (&gt; {threshold}ms)\r\n      </label>\r\n      <input \r\n        type=\"range\" \r\n        min=\"0\" \r\n        max=\"1000\" \r\n        step=\"10\" \r\n        bind:value={threshold}\r\n        class=\"threshold-slider\"\r\n      />\r\n      <span class=\"threshold-value\">{threshold}ms</span>\r\n    </div>\r\n  </div>\r\n  \r\n  {#if profile}\r\n    <div class=\"dashboard-summary\">\r\n      <div class=\"summary-item\">\r\n        <span class=\"summary-label\">Total Transitions</span>\r\n        <span class=\"summary-value\">{profile.summary.totalTransitions}</span>\r\n      </div>\r\n      <div class=\"summary-item\">\r\n        <span class=\"summary-label\">Avg Transition</span>\r\n        <span class=\"summary-value\">{formatDuration(profile.summary.averageTransitionTime)}</span>\r\n      </div>\r\n      <div class=\"summary-item\">\r\n        <span class=\"summary-label\">Total Duration</span>\r\n        <span class=\"summary-value\">{formatDuration(profile.summary.totalDuration)}</span>\r\n      </div>\r\n      <div class=\"summary-item\">\r\n        <span class=\"summary-label\">Avg Context Size</span>\r\n        <span class=\"summary-value\">{formatSize(profile.summary.averageContextSize)}</span>\r\n      </div>\r\n    </div>\r\n    \r\n    {#if slowTransitions.length > 0}\r\n      <div class=\"slow-transitions\">\r\n        <h4>Slow Transitions (&gt; {threshold}ms)</h4>\r\n        <div class=\"transitions-list\">\r\n          {#each slowTransitions as transition}\r\n            <div class=\"transition-item slow\">\r\n              <div class=\"transition-header\">\r\n                <span class=\"transition-states\">\r\n                  {transition.from} ‚Üí {transition.to}\r\n                </span>\r\n                <span class=\"transition-duration slow\">\r\n                  {formatDuration(transition.duration)}\r\n                </span>\r\n              </div>\r\n              <div class=\"transition-details\">\r\n                <span>{transition.eventCount} events</span>\r\n                <span>{formatSize(transition.contextSize)}</span>\r\n                {#if transition.label}\r\n                  <span class=\"transition-label\">{transition.label}</span>\r\n                {/if}\r\n              </div>\r\n            </div>\r\n          {/each}\r\n        </div>\r\n      </div>\r\n    {/if}\r\n    \r\n    <div class=\"all-transitions\">\r\n      <h4>All Transitions</h4>\r\n      <div class=\"transitions-list\">\r\n        {#each displayedTransitions as transition}\r\n          <div class=\"transition-item\" class:slow={transition.duration > threshold}>\r\n            <div class=\"transition-header\">\r\n              <span class=\"transition-states\">\r\n                {transition.from} ‚Üí {transition.to}\r\n              </span>\r\n              <span class=\"transition-duration\" class:slow={transition.duration > threshold}>\r\n                {formatDuration(transition.duration)}\r\n              </span>\r\n            </div>\r\n            <div class=\"transition-details\">\r\n              <span>{transition.eventCount} events</span>\r\n              <span>{formatSize(transition.contextSize)}</span>\r\n              {#if transition.label}\r\n                <span class=\"transition-label\">{transition.label}</span>\r\n              {/if}\r\n            </div>\r\n          </div>\r\n        {/each}\r\n      </div>\r\n    </div>\r\n  {:else}\r\n    <div class=\"no-data\">\r\n      <p>No performance data available. Perform some actions to see metrics.</p>\r\n    </div>\r\n  {/if}\r\n</div>\r\n\r\n<style>\r\n  .performance-dashboard {\r\n    padding: 1rem;\r\n    background: var(--vscode-editor-background);\r\n    border: 1px solid var(--vscode-panel-border);\r\n    border-radius: 4px;\r\n    font-family: var(--vscode-font-family);\r\n  }\r\n  \r\n  .dashboard-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 1rem;\r\n    padding-bottom: 0.5rem;\r\n    border-bottom: 1px solid var(--vscode-panel-border);\r\n  }\r\n  \r\n  .dashboard-header h3 {\r\n    margin: 0;\r\n    font-size: 1rem;\r\n  }\r\n  \r\n  .dashboard-controls {\r\n    display: flex;\r\n    gap: 1rem;\r\n    align-items: center;\r\n  }\r\n  \r\n  .threshold-slider {\r\n    width: 100px;\r\n  }\r\n  \r\n  .threshold-value {\r\n    font-size: 0.875rem;\r\n    color: var(--vscode-descriptionForeground);\r\n    min-width: 50px;\r\n  }\r\n  \r\n  .dashboard-summary {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\r\n    gap: 1rem;\r\n    margin-bottom: 1.5rem;\r\n  }\r\n  \r\n  .summary-item {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0.5rem;\r\n    background: var(--vscode-editorWidget-background);\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .summary-label {\r\n    font-size: 0.75rem;\r\n    color: var(--vscode-descriptionForeground);\r\n    margin-bottom: 0.25rem;\r\n  }\r\n  \r\n  .summary-value {\r\n    font-size: 1.25rem;\r\n    font-weight: 600;\r\n    color: var(--vscode-foreground);\r\n  }\r\n  \r\n  .slow-transitions,\r\n  .all-transitions {\r\n    margin-top: 1.5rem;\r\n  }\r\n  \r\n  .slow-transitions h4,\r\n  .all-transitions h4 {\r\n    margin: 0 0 0.5rem 0;\r\n    font-size: 0.875rem;\r\n    color: var(--vscode-foreground);\r\n  }\r\n  \r\n  .transitions-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n    max-height: 400px;\r\n    overflow-y: auto;\r\n  }\r\n  \r\n  .transition-item {\r\n    padding: 0.5rem;\r\n    background: var(--vscode-editorWidget-background);\r\n    border: 1px solid var(--vscode-panel-border);\r\n    border-radius: 4px;\r\n    transition: border-color 0.2s;\r\n  }\r\n  \r\n  .transition-item.slow {\r\n    border-color: var(--vscode-errorForeground);\r\n    background: var(--vscode-inputValidation-errorBackground);\r\n  }\r\n  \r\n  .transition-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 0.25rem;\r\n  }\r\n  \r\n  .transition-states {\r\n    font-weight: 600;\r\n    color: var(--vscode-foreground);\r\n  }\r\n  \r\n  .transition-duration {\r\n    font-size: 0.875rem;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n  \r\n  .transition-duration.slow {\r\n    color: var(--vscode-errorForeground);\r\n    font-weight: 600;\r\n  }\r\n  \r\n  .transition-details {\r\n    display: flex;\r\n    gap: 1rem;\r\n    font-size: 0.75rem;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n  \r\n  .transition-label {\r\n    font-style: italic;\r\n  }\r\n  \r\n  .no-data {\r\n    padding: 2rem;\r\n    text-align: center;\r\n    color: var(--vscode-descriptionForeground);\r\n  }\r\n</style>\r\n\r\n", "<!--\r\nModule: src/webview/App.svelte\r\nOwner: webview\r\nReads: syncState from extension (ApplicationContext serialized)\r\nWrites: UI-only events; selection via selection writer factory (webview-owned)\r\nReceives: syncState, host broadcasts\r\nEmits: appEvent envelopes (Router handles stamping)\r\nProhibitions: Do not import extension host modules; Do not define context types\r\nRationale: Svelte UI component; reacts to ApplicationContext and forwards intents\r\n\r\nLLM-GUARD:\r\n- Use selection writer factory for selection updates\r\n- Do not route by connection here; let Router decide targets\r\n-->\r\n<script lang=\"ts\">\r\n  import { onMount } from 'svelte';\r\n  import { get } from 'svelte/store';\r\n  import { praxisStore } from './praxis/store.js';\r\n  import { applicationSnapshot } from './praxisSnapshotStore.js';\r\n  // import Settings from './components/Settings.svelte';\r\n  import ConnectionTabs from './components/ConnectionTabs.svelte';\r\n  import ConnectionViews from './components/ConnectionViews.svelte';\r\n  import AuthReminder from './components/AuthReminder.svelte';\r\n  import WebviewHeader from './components/WebviewHeader.svelte';\r\n  import Notification from './components/Notification.svelte';\r\n  import ComposeCommentDialog from './components/ComposeCommentDialog.svelte';\r\n  import HistoryControls from './components/HistoryControls.svelte';\r\n  import HistoryTimeline from './components/HistoryTimeline.svelte';\r\n  import PerformanceDashboard from './components/PerformanceDashboard.svelte';\r\n  \r\n  // ConnectionViews component uses export let syntax for proper TypeScript inference\r\n\r\n  console.debug('[webview] App.svelte initializing');\r\n\r\n  // Reactive Praxis state from webview store\r\n  let currentState = $state(get(praxisStore) as any);\r\n  let snapshotState = $state(get(applicationSnapshot) as any);\r\n  \r\n  // Subscribe to store updates\r\n  $effect(() => {\r\n    const unsubscribe = praxisStore.subscribe((value) => {\r\n      // Automatic logging will capture this\r\n      currentState = value;\r\n    });\r\n    return unsubscribe;\r\n  });\r\n  \r\n  // Also subscribe to applicationSnapshot for immediate updates\r\n  // This ensures we get updates even if the Praxis store hasn't updated yet\r\n  $effect(() => {\r\n    const unsubscribe = applicationSnapshot.subscribe((snapshot) => {\r\n      // Automatic logging will capture this\r\n      snapshotState = snapshot;\r\n      // Also update currentState if snapshot has data and store doesn't\r\n      if (snapshot && snapshot.context && (!currentState?.context || currentState.context.connections?.length === 0)) {\r\n        currentState = {\r\n          value: snapshot.value || currentState?.value,\r\n          context: snapshot.context,\r\n          matches: snapshot.matches || currentState?.matches || {},\r\n        };\r\n      }\r\n    });\r\n    return unsubscribe;\r\n  });\r\n  \r\n  // The Praxis store context is the ApplicationEngineContext directly, not nested under 'app'\r\n  // CRITICAL: Use $derived to ensure reactivity - reads from reactive $state variables\r\n  const appContext = $derived.by(() => {\r\n    const storeContext = currentState?.context;\r\n    const snapshotContext = snapshotState?.context;\r\n    \r\n    // Prefer store context if it has connections or substantial data\r\n    if (storeContext && (storeContext.connections?.length > 0 || Object.keys(storeContext).length > 5)) {\r\n      return storeContext;\r\n    }\r\n    \r\n    // Fallback to snapshot context (updated directly from syncState messages)\r\n    if (snapshotContext && (snapshotContext.connections?.length > 0 || Object.keys(snapshotContext).length > 5)) {\r\n      return snapshotContext;\r\n    }\r\n    \r\n    // Return whichever has data, preferring store\r\n    return storeContext || snapshotContext || {};\r\n  });\r\n  // const uiContext = $derived(currentState.context.ui);\r\n\r\n  // Debug snapshot reactivity\r\n  $effect(() => {\r\n    console.debug('[AzureDevOpsInt][webview] App reactive - context:', {\r\n      appState: appContext?.applicationState,\r\n      connections: appContext?.connections?.length,\r\n      activeConnectionId: appContext?.activeConnectionId,\r\n      viewMode: appContext?.viewMode,\r\n    });\r\n  });\r\n\r\n  // Get VS Code API instance (already acquired in main.ts)\r\n  const vscode = (window as any).__vscodeApi;\r\n\r\n  // Helper to send events back to extension\r\n  function sendEvent(event: any) {\r\n    if (vscode) {\r\n      vscode.postMessage({ type: 'appEvent', event });\r\n    }\r\n  }\r\n\r\n  // Context-based state derivation\r\n  // Always show UI even if context is empty (will update when syncState arrives)\r\n  const hasConnections = $derived((appContext?.connections?.length || 0) > 0);\r\n  const isActivating = $derived(\r\n    appContext?.applicationState === 'activating' || \r\n    appContext?.applicationState === 'initializing' ||\r\n    appContext?.applicationState === 'inactive'\r\n  );\r\n  const isActivationFailed = $derived(\r\n    appContext?.applicationState === 'activation_error' || \r\n    appContext?.lastError ||\r\n    (appContext?.workItemsError && appContext?.workItemsErrorConnectionId === appContext?.activeConnectionId)\r\n  );\r\n  \r\n  // Typed derived values for ConnectionViews props\r\n  const connectionsArray: Array<{ id: string; label?: string }> = $derived(\r\n    appContext?.connections || []\r\n  );\r\n  const activeId: string | undefined = $derived(appContext?.activeConnectionId);\r\n\r\n  onMount(() => {\r\n    // Automatic logging will capture mount events\r\n    // Note: webviewReady is sent from main.ts after mount, no need to send it here\r\n  });\r\n\r\n  // Toggle debug view - handled locally in Svelte, just notify Praxis of change\r\n  let localDebugViewVisible = $state(false);\r\n  \r\n  // Sync with context when it changes\r\n  $effect(() => {\r\n    if (appContext?.debugViewVisible !== undefined) {\r\n      localDebugViewVisible = appContext.debugViewVisible;\r\n    }\r\n  });\r\n  \r\n  function toggleDebugView() {\r\n    localDebugViewVisible = !localDebugViewVisible;\r\n    sendEvent({ type: 'TOGGLE_DEBUG_VIEW' });\r\n  }\r\n\r\n  // Expose function globally so it can be called from message handlers if needed\r\n  (window as any).__toggleDebugView = toggleDebugView;\r\n\r\n</script>\r\n\r\n<main>\r\n  {#if hasConnections}\r\n    <!-- Main work items UI -->\r\n    <WebviewHeader context={appContext} {sendEvent} />\r\n    \r\n    <!-- History Controls (Undo/Redo) -->\r\n    <div class=\"history-controls-container\">\r\n      <HistoryControls />\r\n    </div>\r\n    \r\n    {#if connectionsArray.length > 1}\r\n      <ConnectionTabs\r\n        connections={appContext.connections}\r\n        activeConnectionId={appContext.activeConnectionId}\r\n      />\r\n    {:else if activeId}\r\n      <div class=\"single-connection-header\">\r\n        <span class=\"single-connection-label\" title=\"Active Connection\">\r\n          {connectionsArray.find((c) => c.id === activeId)?.label || activeId}\r\n        </span>\r\n      </div>\r\n    {/if}\r\n\r\n    <!-- Error Banner for existing connections -->\r\n    {#if isActivationFailed}\r\n      <div class=\"error-banner\">\r\n        <span class=\"codicon codicon-error\"></span>\r\n        <span>{appContext?.lastError?.message || 'Connection Error'}</span>\r\n        <button class=\"retry-btn\" onclick={() => sendEvent({ type: 'RETRY' })}>Retry</button>\r\n      </div>\r\n    {/if}\r\n\r\n    <ConnectionViews\r\n      connections={connectionsArray}\r\n      activeConnectionId={activeId}\r\n      context={appContext}\r\n      matches={{}} \r\n      {sendEvent}\r\n    />\r\n    \r\n    <AuthReminder context={appContext} {sendEvent} />\r\n    {#if appContext?.debugLoggingEnabled && localDebugViewVisible}\r\n      <div class=\"debug-panel\" role=\"region\" aria-label=\"Debug View\">\r\n        <h3>Debug View</h3>\r\n        <pre class=\"debug-json\">{JSON.stringify(\r\n            {\r\n              appState: appContext.applicationState,\r\n              activeConnectionId: appContext.activeConnectionId,\r\n              viewMode: appContext.viewMode,\r\n            },\r\n            null,\r\n            2\r\n          )}</pre>\r\n      </div>\r\n      \r\n      <!-- History Timeline for Time-Travel Debugging -->\r\n      <div class=\"history-timeline-panel\">\r\n        <HistoryTimeline />\r\n      </div>\r\n      \r\n      <!-- Performance Dashboard -->\r\n      <div class=\"performance-dashboard-panel\">\r\n        <PerformanceDashboard />\r\n      </div>\r\n    {/if}\r\n\r\n    <!-- Global UI Components -->\r\n    {#if appContext?.ui?.statusMessage}\r\n      <Notification\r\n        message={appContext.ui.statusMessage.text}\r\n        type={appContext.ui.statusMessage.type}\r\n        on:dismiss={() => sendEvent({ type: 'DISMISS_NOTIFICATION' })}\r\n      />\r\n    {/if}\r\n\r\n    {#if appContext?.ui?.modal?.type === 'composeComment'}\r\n      <ComposeCommentDialog\r\n        workItemId={appContext.ui.modal.workItemId}\r\n        mode={appContext.ui.modal.mode}\r\n        on:cancel={() => sendEvent({ type: 'DISMISS_DIALOG' })}\r\n        on:submit={(event) => sendEvent({ type: 'SUBMIT_COMMENT', ...event.detail })}\r\n      />\r\n    {/if}\r\n\r\n  {:else}\r\n    <!-- No connections state or still loading -->\r\n    {#if isActivating && (!appContext || appContext.applicationState === 'inactive')}\r\n      <div class=\"loading\">\r\n        <p>Initializing Azure DevOps Integration...</p>\r\n        <p class=\"sub-text\">Waiting for connection data...</p>\r\n        <p class=\"sub-text\" style=\"font-size: 0.8em; margin-top: 10px;\">\r\n          If this persists, check the browser console (F12) for errors.\r\n        </p>\r\n      </div>\r\n    {:else if isActivationFailed}\r\n      <div class=\"error-container\">\r\n        <h2>Connection Error</h2>\r\n        <p>{appContext?.workItemsError || appContext?.lastError?.message || 'Unknown error'}</p>\r\n        {#if appContext?.activeConnectionId}\r\n          <p style=\"font-size: 0.9em; margin-top: 10px;\">\r\n            Connection: {appContext.activeConnectionId}\r\n          </p>\r\n        {/if}\r\n        <button onclick={() => sendEvent({ type: 'RETRY' })}>Retry</button>\r\n      </div>\r\n    {:else}\r\n      <div class=\"empty-state\">\r\n        <p>No connections configured.</p>\r\n        <button onclick={() => sendEvent({ type: 'OPEN_SETTINGS' })}>Configure Connections</button>\r\n        \r\n        <!-- Debug Info for Troubleshooting -->\r\n        <div style=\"margin-top: 20px; font-size: 0.8em; color: var(--vscode-descriptionForeground); text-align: left;\">\r\n          <details>\r\n            <summary>Debug Info (v2)</summary>\r\n            <pre>{JSON.stringify({\r\n              hasConnections,\r\n              connectionsLength: appContext?.connections?.length || 0,\r\n              appState: appContext?.applicationState || 'unknown',\r\n              activeConnectionId: appContext?.activeConnectionId,\r\n              contextKeys: appContext ? Object.keys(appContext) : [],\r\n              rawConnections: appContext?.connections || [],\r\n              hasAppContext: !!appContext,\r\n              storeValue: currentState?.value,\r\n              snapshotValue: get(applicationSnapshot)?.value,\r\n            }, null, 2)}</pre>\r\n          </details>\r\n        </div>\r\n      </div>\r\n    {/if}\r\n  {/if}\r\n</main>\r\n\r\n<style>\r\n  main {\r\n    padding: 1rem;\r\n    font-family: var(--vscode-font-family, sans-serif);\r\n    color: var(--vscode-foreground);\r\n  }\r\n  .loading {\r\n    text-align: center;\r\n    padding: 2rem;\r\n  }\r\n  .error-container {\r\n    color: var(--vscode-errorForeground);\r\n    padding: 1rem;\r\n    margin: 1rem 0;\r\n  }\r\n  .error-banner {\r\n    background-color: var(--vscode-inputValidation-errorBackground);\r\n    border: 1px solid var(--vscode-inputValidation-errorBorder);\r\n    color: var(--vscode-foreground);\r\n    padding: 0.5rem;\r\n    margin-bottom: 0.5rem;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n    border-radius: 2px;\r\n  }\r\n  .retry-btn {\r\n    margin-left: auto;\r\n    padding: 2px 8px;\r\n    font-size: 0.8em;\r\n  }\r\n  button {\r\n    background: var(--vscode-button-background);\r\n    color: var(--vscode-button-foreground);\r\n    border: none;\r\n    padding: 0.5rem 1rem;\r\n    cursor: pointer;\r\n    margin-top: 0.5rem;\r\n  }\r\n  button:hover {\r\n    background: var(--vscode-button-hoverBackground);\r\n  }\r\n  .single-connection-header {\r\n    padding: 0.5rem 0;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  \r\n  .history-controls-container {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    padding: 0.5rem 1rem;\r\n    border-bottom: 1px solid var(--vscode-panel-border);\r\n  }\r\n  .debug-panel {\r\n    margin: 0.5rem 0 0.75rem;\r\n    padding: 0.5rem;\r\n    background: var(--vscode-editorWidget-background);\r\n    border: 1px solid var(--vscode-panel-border, var(--vscode-input-border));\r\n    border-radius: 4px;\r\n    max-height: 300px;\r\n    overflow: auto;\r\n    font-size: 0.65rem;\r\n  }\r\n  .debug-panel h3 {\r\n    margin: 0 0 0.4rem;\r\n    font-size: 0.75rem;\r\n  }\r\n  .debug-json {\r\n    margin: 0;\r\n    font-family: monospace;\r\n    white-space: pre-wrap;\r\n  }\r\n  .single-connection-label {\r\n    font-size: 0.75rem;\r\n    padding: 0.35rem 0.55rem;\r\n    background: var(--vscode-tab-activeBackground);\r\n    border: 1px solid var(--vscode-tab-activeBorder, var(--vscode-focusBorder));\r\n    border-radius: 4px;\r\n    color: var(--vscode-tab-activeForeground);\r\n  }\r\n  \r\n  .history-timeline-panel {\r\n    margin: 0.5rem 0;\r\n    max-height: 400px;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .performance-dashboard-panel {\r\n    margin: 0.5rem 0;\r\n    max-height: 500px;\r\n    overflow: hidden;\r\n  }\r\n</style>\r\n"],
  "mappings": "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",
  "names": []
}
